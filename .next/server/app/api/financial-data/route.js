"use strict";(()=>{var e={};e.id=8771,e.ids=[8771],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},27790:e=>{e.exports=require("assert")},84770:e=>{e.exports=require("crypto")},17702:e=>{e.exports=require("events")},92048:e=>{e.exports=require("fs")},32615:e=>{e.exports=require("http")},35240:e=>{e.exports=require("https")},19801:e=>{e.exports=require("os")},55315:e=>{e.exports=require("path")},76162:e=>{e.exports=require("stream")},74175:e=>{e.exports=require("tty")},17360:e=>{e.exports=require("url")},21764:e=>{e.exports=require("util")},71568:e=>{e.exports=require("zlib")},23806:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>f,patchFetch:()=>m,requestAsyncStorage:()=>h,routeModule:()=>p,serverHooks:()=>g,staticGenerationAsyncStorage:()=>d});var o={};t.r(o),t.d(o,{GET:()=>u,dynamic:()=>l});var n=t(49303),a=t(88716),s=t(60670),i=t(87070),c=t(87707);let l="force-dynamic";async function u(e){try{let{searchParams:r}=new URL(e.url),t=r.get("startDate")||new Date(new Date().getFullYear(),0,1).toISOString().split("T")[0],o=r.get("endDate")||new Date().toISOString().split("T")[0];console.log(`Fetching financial data from ${t} to ${o}`);let n={timestamp:new Date().toISOString(),dateRange:{startDate:t,endDate:o},profitAndLoss:null,cashFlow:null,balanceSheet:null,chartOfAccounts:null,journalEntries:null,comprehensiveMetrics:null,errors:[]};try{console.log("Fetching Profit & Loss statement..."),n.profitAndLoss=await c.VC.getProfitAndLoss(t,o)}catch(r){let e=`Failed to fetch Profit & Loss: ${r instanceof Error?r.message:"Unknown error"}`;console.error(e),n.errors.push(e)}try{console.log("Fetching Cash Flow statement..."),n.cashFlow=await c.VC.getCashFlow(t,o)}catch(r){let e=`Failed to fetch Cash Flow: ${r instanceof Error?r.message:"Unknown error"}`;console.error(e),n.errors.push(e)}try{console.log("Fetching Balance Sheet..."),n.balanceSheet=await c.VC.getBalanceSheet(o)}catch(r){let e=`Failed to fetch Balance Sheet: ${r instanceof Error?r.message:"Unknown error"}`;console.error(e),n.errors.push(e)}try{console.log("Fetching Chart of Accounts..."),n.chartOfAccounts=await c.VC.getChartOfAccounts()}catch(r){let e=`Failed to fetch Chart of Accounts: ${r instanceof Error?r.message:"Unknown error"}`;console.error(e),n.errors.push(e)}try{console.log("Fetching Journal Entries..."),n.journalEntries=await c.VC.getJournalEntries(t,o)}catch(r){let e=`Failed to fetch Journal Entries: ${r instanceof Error?r.message:"Unknown error"}`;console.error(e),n.errors.push(e)}try{console.log("Fetching comprehensive financial metrics..."),n.comprehensiveMetrics=await c.VC.getFinancialMetrics(t,o)}catch(r){let e=`Failed to fetch comprehensive metrics: ${r instanceof Error?r.message:"Unknown error"}`;console.error(e),n.errors.push(e)}let a=c.VC.getStatus();return n.zohoStatus=a,console.log("Financial data fetch completed. Errors:",n.errors.length),i.NextResponse.json({success:!0,data:n,summary:{totalEndpoints:6,successfulEndpoints:6-n.errors.length,failedEndpoints:n.errors.length,hasErrors:n.errors.length>0}})}catch(e){return console.error("Financial data API error:",e),i.NextResponse.json({success:!1,error:"Failed to fetch financial data",details:e instanceof Error?e.message:"Unknown error"},{status:500})}}let p=new n.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/financial-data/route",pathname:"/api/financial-data",filename:"route",bundlePath:"app/api/financial-data/route"},resolvedPagePath:"C:\\Users\\Jonathan\\Desktop\\Billing\\app\\api\\financial-data\\route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:h,staticGenerationAsyncStorage:d,serverHooks:g}=p,f="/api/financial-data/route";function m(){return(0,s.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:d})}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[9276,5972,9712,7707],()=>t(23806));module.exports=o})();