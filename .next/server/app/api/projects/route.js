"use strict";(()=>{var e={};e.id=4871,e.ids=[4871],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},27790:e=>{e.exports=require("assert")},84770:e=>{e.exports=require("crypto")},17702:e=>{e.exports=require("events")},92048:e=>{e.exports=require("fs")},32615:e=>{e.exports=require("http")},35240:e=>{e.exports=require("https")},19801:e=>{e.exports=require("os")},55315:e=>{e.exports=require("path")},76162:e=>{e.exports=require("stream")},74175:e=>{e.exports=require("tty")},17360:e=>{e.exports=require("url")},21764:e=>{e.exports=require("util")},71568:e=>{e.exports=require("zlib")},88737:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>l,patchFetch:()=>d,requestAsyncStorage:()=>m,routeModule:()=>p,serverHooks:()=>g,staticGenerationAsyncStorage:()=>h});var s={};r.r(s),r.d(s,{GET:()=>c});var o=r(49303),i=r(88716),n=r(60670),a=r(87070),u=r(87707);async function c(e){try{console.info("\uD83D\uDD04 Fetching projects from Zoho...");let e=await u.VC.getProjects();if(0===e.length)return console.warn("⚠️ No projects returned from Zoho - this may indicate an API issue or rate limiting"),a.NextResponse.json({success:!1,count:0,data:[],message:"No projects found. This may be due to Zoho API rate limiting or authentication issues.",timestamp:new Date().toISOString(),suggestions:["Check Zoho API rate limits (100 requests/minute)","Verify authentication credentials","Try again in a few minutes"]});return console.info(`✅ Successfully fetched ${e.length} projects from Zoho`),a.NextResponse.json({success:!0,count:e.length,data:e,timestamp:new Date().toISOString()})}catch(e){if(console.error("❌ Error fetching projects from Zoho:",{message:e.message,stack:e.stack,timestamp:new Date().toISOString()}),e.message?.includes("rate limit")||e.message?.includes("too many requests"))return a.NextResponse.json({success:!1,count:0,data:[],error:"Zoho API rate limit exceeded",message:"Too many requests to Zoho API. Please try again in a few minutes.",timestamp:new Date().toISOString(),retryAfter:"2-5 minutes",suggestions:["Wait a few minutes before retrying","Check your Zoho API usage","Consider implementing request caching"]},{status:429});if(e.message?.includes("authentication")||e.message?.includes("token"))return a.NextResponse.json({success:!1,count:0,data:[],error:"Zoho authentication failed",message:"Failed to authenticate with Zoho API. Please check your credentials.",timestamp:new Date().toISOString(),suggestions:["Verify Zoho OAuth credentials","Check environment variables","Refresh authentication tokens"]},{status:401});return a.NextResponse.json({success:!1,count:0,data:[],error:"Failed to fetch projects",message:e.message||"An unexpected error occurred while fetching projects",timestamp:new Date().toISOString(),suggestions:["Check Vercel logs for detailed error information","Verify Zoho API configuration","Contact support if the issue persists"]},{status:500})}}let p=new o.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/projects/route",pathname:"/api/projects",filename:"route",bundlePath:"app/api/projects/route"},resolvedPagePath:"C:\\Users\\Jonathan\\Desktop\\Billing\\app\\api\\projects\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:m,staticGenerationAsyncStorage:h,serverHooks:g}=p,l="/api/projects/route";function d(){return(0,n.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:h})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[9276,5972,9712,7707],()=>r(88737));module.exports=s})();