"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/clockify/route";
exports.ids = ["app/api/clockify/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fclockify%2Froute&page=%2Fapi%2Fclockify%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fclockify%2Froute.ts&appDir=C%3A%5CUsers%5CJonathan%5CDesktop%5CBilling%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CJonathan%5CDesktop%5CBilling&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fclockify%2Froute&page=%2Fapi%2Fclockify%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fclockify%2Froute.ts&appDir=C%3A%5CUsers%5CJonathan%5CDesktop%5CBilling%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CJonathan%5CDesktop%5CBilling&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Jonathan_Desktop_Billing_app_api_clockify_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/clockify/route.ts */ \"(rsc)/./app/api/clockify/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/clockify/route\",\n        pathname: \"/api/clockify\",\n        filename: \"route\",\n        bundlePath: \"app/api/clockify/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Jonathan\\\\Desktop\\\\Billing\\\\app\\\\api\\\\clockify\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_Jonathan_Desktop_Billing_app_api_clockify_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/clockify/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZjbG9ja2lmeSUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGY2xvY2tpZnklMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZjbG9ja2lmeSUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNKb25hdGhhbiU1Q0Rlc2t0b3AlNUNCaWxsaW5nJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNKb25hdGhhbiU1Q0Rlc2t0b3AlNUNCaWxsaW5nJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNtQjtBQUNoRztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL3pvaG8tYmlsbGluZy1wbGF0Zm9ybS8/OTRkOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxKb25hdGhhblxcXFxEZXNrdG9wXFxcXEJpbGxpbmdcXFxcYXBwXFxcXGFwaVxcXFxjbG9ja2lmeVxcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvY2xvY2tpZnkvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9jbG9ja2lmeVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvY2xvY2tpZnkvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxKb25hdGhhblxcXFxEZXNrdG9wXFxcXEJpbGxpbmdcXFxcYXBwXFxcXGFwaVxcXFxjbG9ja2lmeVxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvY2xvY2tpZnkvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fclockify%2Froute&page=%2Fapi%2Fclockify%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fclockify%2Froute.ts&appDir=C%3A%5CUsers%5CJonathan%5CDesktop%5CBilling%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CJonathan%5CDesktop%5CBilling&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/clockify/route.ts":
/*!***********************************!*\
  !*** ./app/api/clockify/route.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_clockify__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/clockify */ \"(rsc)/./lib/clockify.ts\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/utils */ \"(rsc)/./lib/utils.ts\");\n\n\n\nasync function GET(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const startDate = searchParams.get(\"startDate\");\n        const endDate = searchParams.get(\"endDate\");\n        const action = searchParams.get(\"action\");\n        // Check if Clockify is configured\n        if (!_lib_clockify__WEBPACK_IMPORTED_MODULE_1__.clockifyService.isConfigured()) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Clockify not configured\",\n                configStatus: _lib_clockify__WEBPACK_IMPORTED_MODULE_1__.clockifyService.getConfigStatus()\n            }, {\n                status: 400\n            });\n        }\n        switch(action){\n            case \"status\":\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    configured: _lib_clockify__WEBPACK_IMPORTED_MODULE_1__.clockifyService.isConfigured(),\n                    configStatus: _lib_clockify__WEBPACK_IMPORTED_MODULE_1__.clockifyService.getConfigStatus()\n                });\n            case \"projects\":\n                const projects = await _lib_clockify__WEBPACK_IMPORTED_MODULE_1__.clockifyService.getProjects();\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    projects\n                });\n            case \"time-summaries\":\n                if (!startDate || !endDate) {\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        error: \"startDate and endDate are required for time summaries\"\n                    }, {\n                        status: 400\n                    });\n                }\n                const timeSummaries = await (0,_lib_clockify__WEBPACK_IMPORTED_MODULE_1__.fetchAllClockifyTimeSummaries)(startDate, endDate);\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    timeSummaries\n                });\n            case \"user\":\n                const user = await _lib_clockify__WEBPACK_IMPORTED_MODULE_1__.clockifyService.getUser();\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    user\n                });\n            case \"workspaces\":\n                const workspaces = await _lib_clockify__WEBPACK_IMPORTED_MODULE_1__.clockifyService.getWorkspaces();\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    workspaces\n                });\n            case \"test-connection\":\n                try {\n                    const user = await _lib_clockify__WEBPACK_IMPORTED_MODULE_1__.clockifyService.getUser();\n                    const workspaces = await _lib_clockify__WEBPACK_IMPORTED_MODULE_1__.clockifyService.getWorkspaces();\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: true,\n                        user,\n                        workspaces,\n                        message: \"Connection successful\"\n                    });\n                } catch (error) {\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: false,\n                        error: error.message\n                    }, {\n                        status: 400\n                    });\n                }\n            default:\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: \"Invalid action. Supported actions: status, projects, time-summaries, user, workspaces, test-connection\"\n                }, {\n                    status: 400\n                });\n        }\n    } catch (error) {\n        console.error(\"Clockify API error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error.message || \"Failed to fetch Clockify data\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        const { action, data } = body;\n        switch(action){\n            case \"enhance-billing-data\":\n                const { billingData, clockifyReports } = data;\n                const enhancedData = (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.enhanceBillingDataWithClockify)(billingData, clockifyReports);\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    enhancedData\n                });\n            case \"set-workspace\":\n                const { workspaceId } = data;\n                if (workspaceId) {\n                    _lib_clockify__WEBPACK_IMPORTED_MODULE_1__.clockifyService.setWorkspaceId(workspaceId);\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: true,\n                        message: \"Workspace set successfully\"\n                    });\n                } else {\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        error: \"Workspace ID is required\"\n                    }, {\n                        status: 400\n                    });\n                }\n            default:\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: \"Invalid action. Supported actions: enhance-billing-data, set-workspace\"\n                }, {\n                    status: 400\n                });\n        }\n    } catch (error) {\n        console.error(\"Clockify POST error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error.message || \"Failed to process Clockify data\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkFDakUsT0FBT2xDLHFEQUFZQSxDQUFDYyxJQUFJLENBQUM7b0JBQUVxQjtnQkFBYTtZQUUxQyxLQUFLO2dCQUNILE1BQU0sRUFBRUMsV0FBVyxFQUFFLEdBQUdKO2dCQUN4QixJQUFJSSxhQUFhO29CQUNmbkMseUVBQThCLENBQUNtQztvQkFDL0IsT0FBT3BDLHFEQUFZQSxDQUFDYyxJQUFJLENBQUM7d0JBQUVhLFNBQVM7d0JBQU1DLFNBQVM7b0JBQTZCO2dCQUNsRixPQUFPO29CQUNMLE9BQU81QixxREFBWUEsQ0FBQ2MsSUFBSSxDQUFDO3dCQUFFQyxPQUFPO29CQUEyQixHQUFHO3dCQUFFRyxRQUFRO29CQUFJO2dCQUNoRjtZQUVGO2dCQUNFLE9BQU9sQixxREFBWUEsQ0FBQ2MsSUFBSSxDQUFDO29CQUN2QkMsT0FBTztnQkFDVCxHQUFHO29CQUFFRyxRQUFRO2dCQUFJO1FBQ3JCO0lBQ0YsRUFBRSxPQUFPSCxPQUFZO1FBQ25CYyxRQUFRZCxLQUFLLENBQUMsd0JBQXdCQTtRQUN0QyxPQUFPZixxREFBWUEsQ0FBQ2MsSUFBSSxDQUFDO1lBQ3ZCQyxPQUFPQSxNQUFNYSxPQUFPLElBQUk7UUFDMUIsR0FBRztZQUFFVixRQUFRO1FBQUk7SUFDbkI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3pvaG8tYmlsbGluZy1wbGF0Zm9ybS8uL2FwcC9hcGkvY2xvY2tpZnkvcm91dGUudHM/NzY1MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgY2xvY2tpZnlTZXJ2aWNlLCBmZXRjaEFsbENsb2NraWZ5VGltZVN1bW1hcmllcyB9IGZyb20gJy4uLy4uLy4uL2xpYi9jbG9ja2lmeSc7XG5pbXBvcnQgeyBlbmhhbmNlQmlsbGluZ0RhdGFXaXRoQ2xvY2tpZnkgfSBmcm9tICcuLi8uLi8uLi9saWIvdXRpbHMnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IHNlYXJjaFBhcmFtcy5nZXQoJ3N0YXJ0RGF0ZScpO1xuICAgIGNvbnN0IGVuZERhdGUgPSBzZWFyY2hQYXJhbXMuZ2V0KCdlbmREYXRlJyk7XG4gICAgY29uc3QgYWN0aW9uID0gc2VhcmNoUGFyYW1zLmdldCgnYWN0aW9uJyk7XG5cbiAgICAvLyBDaGVjayBpZiBDbG9ja2lmeSBpcyBjb25maWd1cmVkXG4gICAgaWYgKCFjbG9ja2lmeVNlcnZpY2UuaXNDb25maWd1cmVkKCkpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgIGVycm9yOiAnQ2xvY2tpZnkgbm90IGNvbmZpZ3VyZWQnLFxuICAgICAgICBjb25maWdTdGF0dXM6IGNsb2NraWZ5U2VydmljZS5nZXRDb25maWdTdGF0dXMoKSxcbiAgICAgIH0sIHsgc3RhdHVzOiA0MDAgfSk7XG4gICAgfVxuXG4gICAgc3dpdGNoIChhY3Rpb24pIHtcbiAgICAgIGNhc2UgJ3N0YXR1cyc6XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgICAgY29uZmlndXJlZDogY2xvY2tpZnlTZXJ2aWNlLmlzQ29uZmlndXJlZCgpLFxuICAgICAgICAgIGNvbmZpZ1N0YXR1czogY2xvY2tpZnlTZXJ2aWNlLmdldENvbmZpZ1N0YXR1cygpLFxuICAgICAgICB9KTtcblxuICAgICAgY2FzZSAncHJvamVjdHMnOlxuICAgICAgICBjb25zdCBwcm9qZWN0cyA9IGF3YWl0IGNsb2NraWZ5U2VydmljZS5nZXRQcm9qZWN0cygpO1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBwcm9qZWN0cyB9KTtcblxuICAgICAgY2FzZSAndGltZS1zdW1tYXJpZXMnOlxuICAgICAgICBpZiAoIXN0YXJ0RGF0ZSB8fCAhZW5kRGF0ZSkge1xuICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgICAgICBlcnJvcjogJ3N0YXJ0RGF0ZSBhbmQgZW5kRGF0ZSBhcmUgcmVxdWlyZWQgZm9yIHRpbWUgc3VtbWFyaWVzJyxcbiAgICAgICAgICB9LCB7IHN0YXR1czogNDAwIH0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCB0aW1lU3VtbWFyaWVzID0gYXdhaXQgZmV0Y2hBbGxDbG9ja2lmeVRpbWVTdW1tYXJpZXMoc3RhcnREYXRlLCBlbmREYXRlKTtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgdGltZVN1bW1hcmllcyB9KTtcblxuICAgICAgY2FzZSAndXNlcic6XG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBjbG9ja2lmeVNlcnZpY2UuZ2V0VXNlcigpO1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyB1c2VyIH0pO1xuXG4gICAgICBjYXNlICd3b3Jrc3BhY2VzJzpcbiAgICAgICAgY29uc3Qgd29ya3NwYWNlcyA9IGF3YWl0IGNsb2NraWZ5U2VydmljZS5nZXRXb3Jrc3BhY2VzKCk7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHdvcmtzcGFjZXMgfSk7XG5cbiAgICAgIGNhc2UgJ3Rlc3QtY29ubmVjdGlvbic6XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IGNsb2NraWZ5U2VydmljZS5nZXRVc2VyKCk7XG4gICAgICAgICAgY29uc3Qgd29ya3NwYWNlcyA9IGF3YWl0IGNsb2NraWZ5U2VydmljZS5nZXRXb3Jrc3BhY2VzKCk7XG4gICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgXG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLCBcbiAgICAgICAgICAgIHVzZXIsIFxuICAgICAgICAgICAgd29ya3NwYWNlcyxcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdDb25uZWN0aW9uIHN1Y2Nlc3NmdWwnXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLCBcbiAgICAgICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlIFxuICAgICAgICAgIH0sIHsgc3RhdHVzOiA0MDAgfSk7XG4gICAgICAgIH1cblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgICBlcnJvcjogJ0ludmFsaWQgYWN0aW9uLiBTdXBwb3J0ZWQgYWN0aW9uczogc3RhdHVzLCBwcm9qZWN0cywgdGltZS1zdW1tYXJpZXMsIHVzZXIsIHdvcmtzcGFjZXMsIHRlc3QtY29ubmVjdGlvbicsXG4gICAgICAgIH0sIHsgc3RhdHVzOiA0MDAgfSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcignQ2xvY2tpZnkgQVBJIGVycm9yOicsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBmZXRjaCBDbG9ja2lmeSBkYXRhJyxcbiAgICB9LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xuICAgIGNvbnN0IHsgYWN0aW9uLCBkYXRhIH0gPSBib2R5O1xuXG4gICAgc3dpdGNoIChhY3Rpb24pIHtcbiAgICAgIGNhc2UgJ2VuaGFuY2UtYmlsbGluZy1kYXRhJzpcbiAgICAgICAgY29uc3QgeyBiaWxsaW5nRGF0YSwgY2xvY2tpZnlSZXBvcnRzIH0gPSBkYXRhO1xuICAgICAgICBjb25zdCBlbmhhbmNlZERhdGEgPSBlbmhhbmNlQmlsbGluZ0RhdGFXaXRoQ2xvY2tpZnkoYmlsbGluZ0RhdGEsIGNsb2NraWZ5UmVwb3J0cyk7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVuaGFuY2VkRGF0YSB9KTtcblxuICAgICAgY2FzZSAnc2V0LXdvcmtzcGFjZSc6XG4gICAgICAgIGNvbnN0IHsgd29ya3NwYWNlSWQgfSA9IGRhdGE7XG4gICAgICAgIGlmICh3b3Jrc3BhY2VJZCkge1xuICAgICAgICAgIGNsb2NraWZ5U2VydmljZS5zZXRXb3Jrc3BhY2VJZCh3b3Jrc3BhY2VJZCk7XG4gICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogJ1dvcmtzcGFjZSBzZXQgc3VjY2Vzc2Z1bGx5JyB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1dvcmtzcGFjZSBJRCBpcyByZXF1aXJlZCcgfSwgeyBzdGF0dXM6IDQwMCB9KTtcbiAgICAgICAgfVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICAgIGVycm9yOiAnSW52YWxpZCBhY3Rpb24uIFN1cHBvcnRlZCBhY3Rpb25zOiBlbmhhbmNlLWJpbGxpbmctZGF0YSwgc2V0LXdvcmtzcGFjZScsXG4gICAgICAgIH0sIHsgc3RhdHVzOiA0MDAgfSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcignQ2xvY2tpZnkgUE9TVCBlcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gcHJvY2VzcyBDbG9ja2lmeSBkYXRhJyxcbiAgICB9LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiY2xvY2tpZnlTZXJ2aWNlIiwiZmV0Y2hBbGxDbG9ja2lmeVRpbWVTdW1tYXJpZXMiLCJlbmhhbmNlQmlsbGluZ0RhdGFXaXRoQ2xvY2tpZnkiLCJHRVQiLCJyZXF1ZXN0Iiwic2VhcmNoUGFyYW1zIiwiVVJMIiwidXJsIiwic3RhcnREYXRlIiwiZ2V0IiwiZW5kRGF0ZSIsImFjdGlvbiIsImlzQ29uZmlndXJlZCIsImpzb24iLCJlcnJvciIsImNvbmZpZ1N0YXR1cyIsImdldENvbmZpZ1N0YXR1cyIsInN0YXR1cyIsImNvbmZpZ3VyZWQiLCJwcm9qZWN0cyIsImdldFByb2plY3RzIiwidGltZVN1bW1hcmllcyIsInVzZXIiLCJnZXRVc2VyIiwid29ya3NwYWNlcyIsImdldFdvcmtzcGFjZXMiLCJzdWNjZXNzIiwibWVzc2FnZSIsImNvbnNvbGUiLCJQT1NUIiwiYm9keSIsImRhdGEiLCJiaWxsaW5nRGF0YSIsImNsb2NraWZ5UmVwb3J0cyIsImVuaGFuY2VkRGF0YSIsIndvcmtzcGFjZUlkIiwic2V0V29ya3NwYWNlSWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/clockify/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/clockify.ts":
/*!*************************!*\
  !*** ./lib/clockify.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   fetchAllClockifyTimeSummaries: () => (/* binding */ fetchAllClockifyTimeSummaries),\n/* harmony export */   fetchClockifyProjects: () => (/* binding */ fetchClockifyProjects),\n/* harmony export */   fetchClockifyTimeEntries: () => (/* binding */ fetchClockifyTimeEntries),\n/* harmony export */   fetchClockifyTimeReport: () => (/* binding */ fetchClockifyTimeReport)\n/* harmony export */ });\nclass ClockifyService {\n    constructor(){\n        this.apiKey = null;\n        this.workspaceId = null;\n        this.baseUrl = \"https://api.clockify.me/api/v1\";\n        this.isConfigured = false;\n        this.apiKey = process.env.CLOCKIFY_API_KEY || null;\n        this.workspaceId = process.env.CLOCKIFY_WORKSPACE_ID || null;\n        // Check if we have valid credentials\n        if (this.apiKey && this.apiKey !== \"your_clockify_api_key_here\" && this.workspaceId && this.workspaceId !== \"your_clockify_workspace_id_here\") {\n            this.isConfigured = true;\n            console.log(\"Clockify service initialized with valid credentials\");\n        } else {\n            this.isConfigured = false;\n            console.warn(\"Clockify service initialized without valid credentials - will use mock data\");\n            console.warn(\"Please set CLOCKIFY_API_KEY and CLOCKIFY_WORKSPACE_ID in your environment variables\");\n        }\n    }\n    getHeaders() {\n        if (!this.apiKey) {\n            throw new Error(\"Clockify API key not configured\");\n        }\n        return {\n            \"X-Api-Key\": this.apiKey,\n            \"Content-Type\": \"application/json\"\n        };\n    }\n    async makeRequest(endpoint, params) {\n        if (!this.isConfigured) {\n            throw new Error(\"Clockify service not properly configured\");\n        }\n        try {\n            const url = new URL(`${this.baseUrl}${endpoint}`);\n            if (params) {\n                Object.keys(params).forEach((key)=>{\n                    if (params[key] !== undefined && params[key] !== null) {\n                        url.searchParams.append(key, params[key]);\n                    }\n                });\n            }\n            const response = await fetch(url.toString(), {\n                method: \"GET\",\n                headers: this.getHeaders()\n            });\n            if (response.status === 401) {\n                throw new Error(\"Clockify API authentication failed - check your API key\");\n            }\n            if (response.status === 403) {\n                throw new Error(\"Clockify API access forbidden - check your workspace ID and permissions\");\n            }\n            if (response.status === 429) {\n                throw new Error(\"Clockify API rate limit exceeded - try again later\");\n            }\n            if (!response.ok) {\n                throw new Error(`Clockify API error: ${response.status} ${response.statusText}`);\n            }\n            return await response.json();\n        } catch (error) {\n            if (error instanceof Error) {\n                throw error;\n            }\n            throw new Error(`Clockify API request failed: ${error}`);\n        }\n    }\n    // Check if the service is properly configured\n    isServiceConfigured() {\n        return this.isConfigured;\n    }\n    // Get configuration status for debugging\n    getConfigurationStatus() {\n        return {\n            configured: this.isConfigured,\n            hasApiKey: !!(this.apiKey && this.apiKey !== \"your_clockify_api_key_here\"),\n            hasWorkspaceId: !!(this.workspaceId && this.workspaceId !== \"your_clockify_workspace_id_here\")\n        };\n    }\n    async getUser() {\n        try {\n            return await this.makeRequest(\"/user\");\n        } catch (error) {\n            console.error(\"Failed to get Clockify user:\", error);\n            // Return mock user data when Clockify fails\n            return {\n                id: \"mock-user-id\",\n                name: \"Mock User\",\n                email: \"user@example.com\",\n                status: \"ACTIVE\"\n            };\n        }\n    }\n    async getWorkspaces() {\n        try {\n            return await this.makeRequest(\"/workspaces\");\n        } catch (error) {\n            console.error(\"Failed to get Clockify workspaces:\", error);\n            // Return mock workspace data when Clockify fails\n            return [\n                {\n                    id: \"mock-workspace-id\",\n                    name: \"Mock Workspace\",\n                    hourlyRate: {\n                        amount: 100,\n                        currency: \"USD\"\n                    }\n                }\n            ];\n        }\n    }\n    async getProjects() {\n        try {\n            if (!this.workspaceId) {\n                throw new Error(\"Workspace ID not configured\");\n            }\n            return await this.makeRequest(`/workspaces/${this.workspaceId}/projects`);\n        } catch (error) {\n            console.error(\"Failed to get Clockify projects:\", error);\n            // Return mock project data when Clockify fails\n            return [\n                {\n                    id: \"mock-project-1\",\n                    name: \"Mock Project 1\",\n                    clientId: \"mock-client-1\",\n                    clientName: \"Mock Client 1\",\n                    status: \"ACTIVE\",\n                    billable: true,\n                    hourlyRate: {\n                        amount: 150,\n                        currency: \"USD\"\n                    }\n                },\n                {\n                    id: \"mock-project-2\",\n                    name: \"Mock Project 2\",\n                    clientId: \"mock-client-2\",\n                    clientName: \"Mock Client 2\",\n                    status: \"ACTIVE\",\n                    billable: true,\n                    hourlyRate: {\n                        amount: 175,\n                        currency: \"USD\"\n                    }\n                }\n            ];\n        }\n    }\n    async getTimeEntries(projectId, startDate, endDate) {\n        try {\n            if (!this.workspaceId) {\n                throw new Error(\"Workspace ID not configured\");\n            }\n            return await this.makeRequest(`/workspaces/${this.workspaceId}/projects/${projectId}/time-entries`, {\n                start: startDate,\n                end: endDate\n            });\n        } catch (error) {\n            console.error(\"Failed to get Clockify time entries:\", error);\n            // Return mock time entry data when Clockify fails\n            return [\n                {\n                    id: \"mock-time-entry-1\",\n                    description: \"Mock work session\",\n                    timeInterval: {\n                        start: startDate,\n                        end: endDate,\n                        duration: \"PT2H30M\"\n                    },\n                    billable: true,\n                    userId: \"mock-user-id\",\n                    userName: \"Mock User\"\n                }\n            ];\n        }\n    }\n    async getAllTimeEntries(startDate, endDate) {\n        try {\n            if (!this.workspaceId) {\n                throw new Error(\"Workspace ID not configured\");\n            }\n            return await this.makeRequest(`/workspaces/${this.workspaceId}/time-entries`, {\n                start: startDate,\n                end: endDate\n            });\n        } catch (error) {\n            console.error(\"Failed to get all Clockify time entries:\", error);\n            // Return mock time entry data when Clockify fails\n            return [\n                {\n                    id: \"mock-time-entry-1\",\n                    description: \"Mock work session\",\n                    timeInterval: {\n                        start: startDate,\n                        end: endDate,\n                        duration: \"PT8H0M\"\n                    },\n                    billable: true,\n                    userId: \"mock-user-id\",\n                    userName: \"Mock User\",\n                    projectId: \"mock-project-1\",\n                    projectName: \"Mock Project 1\"\n                }\n            ];\n        }\n    }\n    async getUsers() {\n        try {\n            if (!this.workspaceId) {\n                throw new Error(\"Workspace ID not configured\");\n            }\n            return await this.makeRequest(`/workspaces/${this.workspaceId}/users`);\n        } catch (error) {\n            console.error(\"Failed to get Clockify users:\", error);\n            // Return mock user data when Clockify fails\n            return [\n                {\n                    id: \"mock-user-1\",\n                    name: \"Mock User 1\",\n                    email: \"user1@example.com\",\n                    status: \"ACTIVE\",\n                    hourlyRate: {\n                        amount: 100,\n                        currency: \"USD\"\n                    }\n                },\n                {\n                    id: \"mock-user-2\",\n                    name: \"Mock User 2\",\n                    email: \"user2@example.com\",\n                    status: \"ACTIVE\",\n                    hourlyRate: {\n                        amount: 120,\n                        currency: \"USD\"\n                    }\n                }\n            ];\n        }\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new ClockifyService());\n// Export convenience functions\nconst fetchClockifyProjects = async ()=>{\n    try {\n        return await clockifyService.getProjects();\n    } catch (error) {\n        console.error(\"Error fetching Clockify projects:\", error);\n        return [];\n    }\n};\nconst fetchClockifyTimeEntries = async (projectId, startDate, endDate)=>{\n    try {\n        return await clockifyService.getTimeEntries(projectId, startDate || \"\", endDate || \"\");\n    } catch (error) {\n        console.error(\"Error fetching Clockify time entries:\", error);\n        return [];\n    }\n};\nconst fetchClockifyTimeReport = async (projectId, startDate, endDate)=>{\n    try {\n        return await clockifyService.getProjectTimeReport(projectId, startDate, endDate);\n    } catch (error) {\n        console.error(\"Error fetching Clockify time report:\", error);\n        return null;\n    }\n};\nconst fetchAllClockifyTimeSummaries = async (startDate, endDate)=>{\n    try {\n        return await clockifyService.getAllProjectsTimeSummary(startDate, endDate);\n    } catch (error) {\n        console.error(\"Error fetching Clockify time summaries:\", error);\n        return [];\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0FBQ0YsRUFBRTtBQUVLLE1BQU1rQywyQkFBMkIsT0FDdENmLFdBQ0FDLFdBQ0FDO0lBRUEsSUFBSTtRQUNGLE9BQU8sTUFBTVksZ0JBQWdCZixjQUFjLENBQUNDLFdBQVdDLGFBQWEsSUFBSUMsV0FBVztJQUNyRixFQUFFLE9BQU9yQixPQUFPO1FBQ2QxQixRQUFRMEIsS0FBSyxDQUFDLHlDQUF5Q0E7UUFDdkQsT0FBTyxFQUFFO0lBQ1g7QUFDRixFQUFFO0FBRUssTUFBTW1DLDBCQUEwQixPQUNyQ2hCLFdBQ0FDLFdBQ0FDO0lBRUEsSUFBSTtRQUNGLE9BQU8sTUFBTVksZ0JBQWdCRyxvQkFBb0IsQ0FBQ2pCLFdBQVdDLFdBQVdDO0lBQzFFLEVBQUUsT0FBT3JCLE9BQU87UUFDZDFCLFFBQVEwQixLQUFLLENBQUMsd0NBQXdDQTtRQUN0RCxPQUFPO0lBQ1Q7QUFDRixFQUFFO0FBRUssTUFBTXFDLGdDQUFnQyxPQUMzQ2pCLFdBQ0FDO0lBRUEsSUFBSTtRQUNGLE9BQU8sTUFBTVksZ0JBQWdCSyx5QkFBeUIsQ0FBQ2xCLFdBQVdDO0lBQ3BFLEVBQUUsT0FBT3JCLE9BQU87UUFDZDFCLFFBQVEwQixLQUFLLENBQUMsMkNBQTJDQTtRQUN6RCxPQUFPLEVBQUU7SUFDWDtBQUNGLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b2hvLWJpbGxpbmctcGxhdGZvcm0vLi9saWIvY2xvY2tpZnkudHM/OTBmYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuXG5leHBvcnQgaW50ZXJmYWNlIENsb2NraWZ5VGltZUVudHJ5IHtcbiAgaWQ6IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgdXNlcklkOiBzdHJpbmc7XG4gIGJpbGxhYmxlOiBib29sZWFuO1xuICB0YXNrSWQ/OiBzdHJpbmc7XG4gIHByb2plY3RJZDogc3RyaW5nO1xuICB0aW1lSW50ZXJ2YWw6IHtcbiAgICBzdGFydDogc3RyaW5nO1xuICAgIGVuZD86IHN0cmluZztcbiAgICBkdXJhdGlvbjogc3RyaW5nO1xuICB9O1xuICBob3VybHlSYXRlPzoge1xuICAgIGFtb3VudDogbnVtYmVyO1xuICAgIGN1cnJlbmN5OiBzdHJpbmc7XG4gIH07XG4gIGNvc3RSYXRlPzoge1xuICAgIGFtb3VudDogbnVtYmVyO1xuICAgIGN1cnJlbmN5OiBzdHJpbmc7XG4gIH07XG4gIGlzTG9ja2VkOiBib29sZWFuO1xuICBjdXN0b21GaWVsZFZhbHVlczogYW55W107XG4gIHR5cGU6IHN0cmluZztcbiAgdGFnczogYW55W107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2xvY2tpZnlQcm9qZWN0IHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICB3b3Jrc3BhY2VJZDogc3RyaW5nO1xuICBjbGllbnRJZD86IHN0cmluZztcbiAgY2xpZW50TmFtZT86IHN0cmluZztcbiAgaXNQdWJsaWM6IGJvb2xlYW47XG4gIGlzVGVtcGxhdGU6IGJvb2xlYW47XG4gIGNvbG9yOiBzdHJpbmc7XG4gIG5vdGU/OiBzdHJpbmc7XG4gIGJpbGxhYmxlOiBib29sZWFuO1xuICBwdWJsaWM6IGJvb2xlYW47XG4gIGFyY2hpdmVkOiBib29sZWFuO1xuICBlc3RpbWF0ZToge1xuICAgIGVzdGltYXRlOiBzdHJpbmc7XG4gICAgdHlwZTogc3RyaW5nO1xuICB9O1xuICBzdGF0dXM6IHN0cmluZztcbiAgZHVyYXRpb246IHN0cmluZztcbiAgYnVkZ2V0RXN0aW1hdGU6IG51bWJlcjtcbiAgYnVkZ2V0VHlwZTogc3RyaW5nO1xuICBob3VybHlSYXRlOiB7XG4gICAgYW1vdW50OiBudW1iZXI7XG4gICAgY3VycmVuY3k6IHN0cmluZztcbiAgfTtcbiAgY29zdFJhdGU6IHtcbiAgICBhbW91bnQ6IG51bWJlcjtcbiAgICBjdXJyZW5jeTogc3RyaW5nO1xuICB9O1xuICB0aW1lRXN0aW1hdGU6IHN0cmluZztcbiAgYnVkZ2V0OiBudW1iZXI7XG4gIHNwZW50OiBzdHJpbmc7XG4gIHByb2dyZXNzOiBudW1iZXI7XG4gIHJhdGU6IG51bWJlcjtcbiAgcmF0ZUxhc3RVcGRhdGVkOiBzdHJpbmc7XG4gIGZpeGVkRmVlOiBudW1iZXI7XG4gIG1lbWJlcnNoaXBzOiBhbnlbXTtcbiAgdGFza0NvdW50OiB7XG4gICAgdG90YWw6IG51bWJlcjtcbiAgICBlc3RpbWF0ZTogbnVtYmVyO1xuICB9O1xuICBjdXN0b21GaWVsZHM6IGFueVtdO1xuICBzdGFydERhdGU6IHN0cmluZztcbiAgZW5kRGF0ZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDbG9ja2lmeVVzZXIge1xuICBpZDogc3RyaW5nO1xuICBlbWFpbDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIHByb2ZpbGVQaWN0dXJlOiBzdHJpbmc7XG4gIHN0YXR1czogc3RyaW5nO1xuICBhY3RpdmVXb3Jrc3BhY2U6IHN0cmluZztcbiAgZGVmYXVsdFdvcmtzcGFjZTogc3RyaW5nO1xuICBzZXR0aW5nczogYW55O1xuICBtZW1iZXJzaGlwczogYW55W107XG4gIHByb2ZpbGVQaWN0dXJlVXJsOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2xvY2tpZnlXb3Jrc3BhY2Uge1xuICBpZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIHByb2ZpbGU6IG51bWJlcjtcbiAgcHJlbWl1bTogYm9vbGVhbjtcbiAgYWRtaW46IGJvb2xlYW47XG4gIGRlZmF1bHRIb3VybHlSYXRlOiBudW1iZXI7XG4gIGRlZmF1bHRDdXJyZW5jeTogc3RyaW5nO1xuICBvbmx5QWRtaW5zTWF5Q3JlYXRlUHJvamVjdHM6IGJvb2xlYW47XG4gIG9ubHlBZG1pbnNTZWVCaWxsYWJsZVJhdGVzOiBib29sZWFuO1xuICBvbmx5QWRtaW5zU2VlVGVhbURhc2hib2FyZDogYm9vbGVhbjtcbiAgcHJvamVjdHNCaWxsYWJsZUJ5RGVmYXVsdDogYm9vbGVhbjtcbiAgcm91bmRpbmc6IG51bWJlcjtcbiAgcm91bmRpbmdNaW51dGVzOiBudW1iZXI7XG4gIGxvZ286IHN0cmluZztcbiAgaWNhbFVybDogc3RyaW5nO1xuICBpY2FsRW5hYmxlZDogYm9vbGVhbjtcbiAgY3N2VXBsb2FkOiB7XG4gICAgZW5hYmxlZDogYm9vbGVhbjtcbiAgICBkYXRlRm9ybWF0OiBzdHJpbmc7XG4gICAgdGltZUZvcm1hdDogc3RyaW5nO1xuICB9O1xuICBzdWJzY3JpcHRpb246IHtcbiAgICBzdGFydERhdGU6IHN0cmluZztcbiAgICBlbmREYXRlOiBzdHJpbmc7XG4gICAgdHJpYWw6IGJvb2xlYW47XG4gICAgc3RhdHVzOiBzdHJpbmc7XG4gIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2xvY2tpZnlUaW1lUmVwb3J0IHtcbiAgcHJvamVjdElkOiBzdHJpbmc7XG4gIHByb2plY3ROYW1lOiBzdHJpbmc7XG4gIHRvdGFsSG91cnM6IG51bWJlcjtcbiAgYmlsbGFibGVIb3VyczogbnVtYmVyO1xuICBub25CaWxsYWJsZUhvdXJzOiBudW1iZXI7XG4gIHRvdGFsQW1vdW50OiBudW1iZXI7XG4gIGJpbGxhYmxlQW1vdW50OiBudW1iZXI7XG4gIG5vbkJpbGxhYmxlQW1vdW50OiBudW1iZXI7XG4gIGVudHJpZXM6IENsb2NraWZ5VGltZUVudHJ5W107XG4gIHBlcmlvZDoge1xuICAgIHN0YXJ0OiBzdHJpbmc7XG4gICAgZW5kOiBzdHJpbmc7XG4gIH07XG59XG5cbmludGVyZmFjZSBUb2tlblJlc3BvbnNlIHtcbiAgYWNjZXNzX3Rva2VuOiBzdHJpbmc7XG4gIGV4cGlyZXNfaW46IG51bWJlcjtcbiAgdG9rZW5fdHlwZTogc3RyaW5nO1xufVxuXG5jbGFzcyBDbG9ja2lmeVNlcnZpY2Uge1xuICBwcml2YXRlIGFwaUtleTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgd29ya3NwYWNlSWQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGJhc2VVcmwgPSAnaHR0cHM6Ly9hcGkuY2xvY2tpZnkubWUvYXBpL3YxJztcbiAgcHJpdmF0ZSBpc0NvbmZpZ3VyZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmFwaUtleSA9IHByb2Nlc3MuZW52LkNMT0NLSUZZX0FQSV9LRVkgfHwgbnVsbDtcbiAgICB0aGlzLndvcmtzcGFjZUlkID0gcHJvY2Vzcy5lbnYuQ0xPQ0tJRllfV09SS1NQQUNFX0lEIHx8IG51bGw7XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgd2UgaGF2ZSB2YWxpZCBjcmVkZW50aWFsc1xuICAgIGlmICh0aGlzLmFwaUtleSAmJiB0aGlzLmFwaUtleSAhPT0gJ3lvdXJfY2xvY2tpZnlfYXBpX2tleV9oZXJlJyAmJiB0aGlzLndvcmtzcGFjZUlkICYmIHRoaXMud29ya3NwYWNlSWQgIT09ICd5b3VyX2Nsb2NraWZ5X3dvcmtzcGFjZV9pZF9oZXJlJykge1xuICAgICAgdGhpcy5pc0NvbmZpZ3VyZWQgPSB0cnVlO1xuICAgICAgY29uc29sZS5sb2coJ0Nsb2NraWZ5IHNlcnZpY2UgaW5pdGlhbGl6ZWQgd2l0aCB2YWxpZCBjcmVkZW50aWFscycpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmlzQ29uZmlndXJlZCA9IGZhbHNlO1xuICAgICAgY29uc29sZS53YXJuKCdDbG9ja2lmeSBzZXJ2aWNlIGluaXRpYWxpemVkIHdpdGhvdXQgdmFsaWQgY3JlZGVudGlhbHMgLSB3aWxsIHVzZSBtb2NrIGRhdGEnKTtcbiAgICAgIGNvbnNvbGUud2FybignUGxlYXNlIHNldCBDTE9DS0lGWV9BUElfS0VZIGFuZCBDTE9DS0lGWV9XT1JLU1BBQ0VfSUQgaW4geW91ciBlbnZpcm9ubWVudCB2YXJpYWJsZXMnKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldEhlYWRlcnMoKSB7XG4gICAgaWYgKCF0aGlzLmFwaUtleSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDbG9ja2lmeSBBUEkga2V5IG5vdCBjb25maWd1cmVkJyk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAnWC1BcGktS2V5JzogdGhpcy5hcGlLZXksXG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIG1ha2VSZXF1ZXN0KGVuZHBvaW50OiBzdHJpbmcsIHBhcmFtcz86IGFueSk6IFByb21pc2U8YW55PiB7XG4gICAgaWYgKCF0aGlzLmlzQ29uZmlndXJlZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDbG9ja2lmeSBzZXJ2aWNlIG5vdCBwcm9wZXJseSBjb25maWd1cmVkJyk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoYCR7dGhpcy5iYXNlVXJsfSR7ZW5kcG9pbnR9YCk7XG4gICAgICBpZiAocGFyYW1zKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKHBhcmFtcykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgIGlmIChwYXJhbXNba2V5XSAhPT0gdW5kZWZpbmVkICYmIHBhcmFtc1trZXldICE9PSBudWxsKSB7XG4gICAgICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChrZXksIHBhcmFtc1trZXldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybC50b1N0cmluZygpLCB7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuZ2V0SGVhZGVycygpLFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nsb2NraWZ5IEFQSSBhdXRoZW50aWNhdGlvbiBmYWlsZWQgLSBjaGVjayB5b3VyIEFQSSBrZXknKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2xvY2tpZnkgQVBJIGFjY2VzcyBmb3JiaWRkZW4gLSBjaGVjayB5b3VyIHdvcmtzcGFjZSBJRCBhbmQgcGVybWlzc2lvbnMnKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDI5KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2xvY2tpZnkgQVBJIHJhdGUgbGltaXQgZXhjZWVkZWQgLSB0cnkgYWdhaW4gbGF0ZXInKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENsb2NraWZ5IEFQSSBlcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYENsb2NraWZ5IEFQSSByZXF1ZXN0IGZhaWxlZDogJHtlcnJvcn1gKTtcbiAgICB9XG4gIH1cblxuICAvLyBDaGVjayBpZiB0aGUgc2VydmljZSBpcyBwcm9wZXJseSBjb25maWd1cmVkXG4gIHB1YmxpYyBpc1NlcnZpY2VDb25maWd1cmVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmlzQ29uZmlndXJlZDtcbiAgfVxuXG4gIC8vIEdldCBjb25maWd1cmF0aW9uIHN0YXR1cyBmb3IgZGVidWdnaW5nXG4gIHB1YmxpYyBnZXRDb25maWd1cmF0aW9uU3RhdHVzKCk6IHsgY29uZmlndXJlZDogYm9vbGVhbjsgaGFzQXBpS2V5OiBib29sZWFuOyBoYXNXb3Jrc3BhY2VJZDogYm9vbGVhbiB9IHtcbiAgICByZXR1cm4ge1xuICAgICAgY29uZmlndXJlZDogdGhpcy5pc0NvbmZpZ3VyZWQsXG4gICAgICBoYXNBcGlLZXk6ICEhKHRoaXMuYXBpS2V5ICYmIHRoaXMuYXBpS2V5ICE9PSAneW91cl9jbG9ja2lmeV9hcGlfa2V5X2hlcmUnKSxcbiAgICAgIGhhc1dvcmtzcGFjZUlkOiAhISh0aGlzLndvcmtzcGFjZUlkICYmIHRoaXMud29ya3NwYWNlSWQgIT09ICd5b3VyX2Nsb2NraWZ5X3dvcmtzcGFjZV9pZF9oZXJlJylcbiAgICB9O1xuICB9XG5cbiAgYXN5bmMgZ2V0VXNlcigpOiBQcm9taXNlPGFueT4ge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5tYWtlUmVxdWVzdCgnL3VzZXInKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGdldCBDbG9ja2lmeSB1c2VyOicsIGVycm9yKTtcbiAgICAgIC8vIFJldHVybiBtb2NrIHVzZXIgZGF0YSB3aGVuIENsb2NraWZ5IGZhaWxzXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogJ21vY2stdXNlci1pZCcsXG4gICAgICAgIG5hbWU6ICdNb2NrIFVzZXInLFxuICAgICAgICBlbWFpbDogJ3VzZXJAZXhhbXBsZS5jb20nLFxuICAgICAgICBzdGF0dXM6ICdBQ1RJVkUnXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldFdvcmtzcGFjZXMoKTogUHJvbWlzZTxhbnlbXT4ge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5tYWtlUmVxdWVzdCgnL3dvcmtzcGFjZXMnKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGdldCBDbG9ja2lmeSB3b3Jrc3BhY2VzOicsIGVycm9yKTtcbiAgICAgIC8vIFJldHVybiBtb2NrIHdvcmtzcGFjZSBkYXRhIHdoZW4gQ2xvY2tpZnkgZmFpbHNcbiAgICAgIHJldHVybiBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ21vY2std29ya3NwYWNlLWlkJyxcbiAgICAgICAgICBuYW1lOiAnTW9jayBXb3Jrc3BhY2UnLFxuICAgICAgICAgIGhvdXJseVJhdGU6IHsgYW1vdW50OiAxMDAsIGN1cnJlbmN5OiAnVVNEJyB9XG4gICAgICAgIH1cbiAgICAgIF07XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0UHJvamVjdHMoKTogUHJvbWlzZTxhbnlbXT4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIXRoaXMud29ya3NwYWNlSWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdXb3Jrc3BhY2UgSUQgbm90IGNvbmZpZ3VyZWQnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLm1ha2VSZXF1ZXN0KGAvd29ya3NwYWNlcy8ke3RoaXMud29ya3NwYWNlSWR9L3Byb2plY3RzYCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBnZXQgQ2xvY2tpZnkgcHJvamVjdHM6JywgZXJyb3IpO1xuICAgICAgLy8gUmV0dXJuIG1vY2sgcHJvamVjdCBkYXRhIHdoZW4gQ2xvY2tpZnkgZmFpbHNcbiAgICAgIHJldHVybiBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ21vY2stcHJvamVjdC0xJyxcbiAgICAgICAgICBuYW1lOiAnTW9jayBQcm9qZWN0IDEnLFxuICAgICAgICAgIGNsaWVudElkOiAnbW9jay1jbGllbnQtMScsXG4gICAgICAgICAgY2xpZW50TmFtZTogJ01vY2sgQ2xpZW50IDEnLFxuICAgICAgICAgIHN0YXR1czogJ0FDVElWRScsXG4gICAgICAgICAgYmlsbGFibGU6IHRydWUsXG4gICAgICAgICAgaG91cmx5UmF0ZTogeyBhbW91bnQ6IDE1MCwgY3VycmVuY3k6ICdVU0QnIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnbW9jay1wcm9qZWN0LTInLFxuICAgICAgICAgIG5hbWU6ICdNb2NrIFByb2plY3QgMicsXG4gICAgICAgICAgY2xpZW50SWQ6ICdtb2NrLWNsaWVudC0yJyxcbiAgICAgICAgICBjbGllbnROYW1lOiAnTW9jayBDbGllbnQgMicsXG4gICAgICAgICAgc3RhdHVzOiAnQUNUSVZFJyxcbiAgICAgICAgICBiaWxsYWJsZTogdHJ1ZSxcbiAgICAgICAgICBob3VybHlSYXRlOiB7IGFtb3VudDogMTc1LCBjdXJyZW5jeTogJ1VTRCcgfVxuICAgICAgICB9XG4gICAgICBdO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldFRpbWVFbnRyaWVzKHByb2plY3RJZDogc3RyaW5nLCBzdGFydERhdGU6IHN0cmluZywgZW5kRGF0ZTogc3RyaW5nKTogUHJvbWlzZTxhbnlbXT4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIXRoaXMud29ya3NwYWNlSWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdXb3Jrc3BhY2UgSUQgbm90IGNvbmZpZ3VyZWQnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLm1ha2VSZXF1ZXN0KGAvd29ya3NwYWNlcy8ke3RoaXMud29ya3NwYWNlSWR9L3Byb2plY3RzLyR7cHJvamVjdElkfS90aW1lLWVudHJpZXNgLCB7XG4gICAgICAgIHN0YXJ0OiBzdGFydERhdGUsXG4gICAgICAgIGVuZDogZW5kRGF0ZVxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBnZXQgQ2xvY2tpZnkgdGltZSBlbnRyaWVzOicsIGVycm9yKTtcbiAgICAgIC8vIFJldHVybiBtb2NrIHRpbWUgZW50cnkgZGF0YSB3aGVuIENsb2NraWZ5IGZhaWxzXG4gICAgICByZXR1cm4gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdtb2NrLXRpbWUtZW50cnktMScsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdNb2NrIHdvcmsgc2Vzc2lvbicsXG4gICAgICAgICAgdGltZUludGVydmFsOiB7XG4gICAgICAgICAgICBzdGFydDogc3RhcnREYXRlLFxuICAgICAgICAgICAgZW5kOiBlbmREYXRlLFxuICAgICAgICAgICAgZHVyYXRpb246ICdQVDJIMzBNJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgYmlsbGFibGU6IHRydWUsXG4gICAgICAgICAgdXNlcklkOiAnbW9jay11c2VyLWlkJyxcbiAgICAgICAgICB1c2VyTmFtZTogJ01vY2sgVXNlcidcbiAgICAgICAgfVxuICAgICAgXTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRBbGxUaW1lRW50cmllcyhzdGFydERhdGU6IHN0cmluZywgZW5kRGF0ZTogc3RyaW5nKTogUHJvbWlzZTxhbnlbXT4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIXRoaXMud29ya3NwYWNlSWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdXb3Jrc3BhY2UgSUQgbm90IGNvbmZpZ3VyZWQnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLm1ha2VSZXF1ZXN0KGAvd29ya3NwYWNlcy8ke3RoaXMud29ya3NwYWNlSWR9L3RpbWUtZW50cmllc2AsIHtcbiAgICAgICAgc3RhcnQ6IHN0YXJ0RGF0ZSxcbiAgICAgICAgZW5kOiBlbmREYXRlXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGdldCBhbGwgQ2xvY2tpZnkgdGltZSBlbnRyaWVzOicsIGVycm9yKTtcbiAgICAgIC8vIFJldHVybiBtb2NrIHRpbWUgZW50cnkgZGF0YSB3aGVuIENsb2NraWZ5IGZhaWxzXG4gICAgICByZXR1cm4gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdtb2NrLXRpbWUtZW50cnktMScsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdNb2NrIHdvcmsgc2Vzc2lvbicsXG4gICAgICAgICAgdGltZUludGVydmFsOiB7XG4gICAgICAgICAgICBzdGFydDogc3RhcnREYXRlLFxuICAgICAgICAgICAgZW5kOiBlbmREYXRlLFxuICAgICAgICAgICAgZHVyYXRpb246ICdQVDhIME0nXG4gICAgICAgICAgfSxcbiAgICAgICAgICBiaWxsYWJsZTogdHJ1ZSxcbiAgICAgICAgICB1c2VySWQ6ICdtb2NrLXVzZXItaWQnLFxuICAgICAgICAgIHVzZXJOYW1lOiAnTW9jayBVc2VyJyxcbiAgICAgICAgICBwcm9qZWN0SWQ6ICdtb2NrLXByb2plY3QtMScsXG4gICAgICAgICAgcHJvamVjdE5hbWU6ICdNb2NrIFByb2plY3QgMSdcbiAgICAgICAgfVxuICAgICAgXTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRVc2VycygpOiBQcm9taXNlPGFueVtdPiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghdGhpcy53b3Jrc3BhY2VJZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dvcmtzcGFjZSBJRCBub3QgY29uZmlndXJlZCcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMubWFrZVJlcXVlc3QoYC93b3Jrc3BhY2VzLyR7dGhpcy53b3Jrc3BhY2VJZH0vdXNlcnNgKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGdldCBDbG9ja2lmeSB1c2VyczonLCBlcnJvcik7XG4gICAgICAvLyBSZXR1cm4gbW9jayB1c2VyIGRhdGEgd2hlbiBDbG9ja2lmeSBmYWlsc1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnbW9jay11c2VyLTEnLFxuICAgICAgICAgIG5hbWU6ICdNb2NrIFVzZXIgMScsXG4gICAgICAgICAgZW1haWw6ICd1c2VyMUBleGFtcGxlLmNvbScsXG4gICAgICAgICAgc3RhdHVzOiAnQUNUSVZFJyxcbiAgICAgICAgICBob3VybHlSYXRlOiB7IGFtb3VudDogMTAwLCBjdXJyZW5jeTogJ1VTRCcgfVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdtb2NrLXVzZXItMicsXG4gICAgICAgICAgbmFtZTogJ01vY2sgVXNlciAyJyxcbiAgICAgICAgICBlbWFpbDogJ3VzZXIyQGV4YW1wbGUuY29tJyxcbiAgICAgICAgICBzdGF0dXM6ICdBQ1RJVkUnLFxuICAgICAgICAgIGhvdXJseVJhdGU6IHsgYW1vdW50OiAxMjAsIGN1cnJlbmN5OiAnVVNEJyB9XG4gICAgICAgIH1cbiAgICAgIF07XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBDbG9ja2lmeVNlcnZpY2UoKTtcblxuLy8gRXhwb3J0IGNvbnZlbmllbmNlIGZ1bmN0aW9uc1xuZXhwb3J0IGNvbnN0IGZldGNoQ2xvY2tpZnlQcm9qZWN0cyA9IGFzeW5jICgpID0+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gYXdhaXQgY2xvY2tpZnlTZXJ2aWNlLmdldFByb2plY3RzKCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgQ2xvY2tpZnkgcHJvamVjdHM6JywgZXJyb3IpO1xuICAgIHJldHVybiBbXTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGZldGNoQ2xvY2tpZnlUaW1lRW50cmllcyA9IGFzeW5jIChcbiAgcHJvamVjdElkOiBzdHJpbmcsXG4gIHN0YXJ0RGF0ZT86IHN0cmluZyxcbiAgZW5kRGF0ZT86IHN0cmluZ1xuKSA9PiB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGF3YWl0IGNsb2NraWZ5U2VydmljZS5nZXRUaW1lRW50cmllcyhwcm9qZWN0SWQsIHN0YXJ0RGF0ZSB8fCAnJywgZW5kRGF0ZSB8fCAnJyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgQ2xvY2tpZnkgdGltZSBlbnRyaWVzOicsIGVycm9yKTtcbiAgICByZXR1cm4gW107XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBmZXRjaENsb2NraWZ5VGltZVJlcG9ydCA9IGFzeW5jIChcbiAgcHJvamVjdElkOiBzdHJpbmcsXG4gIHN0YXJ0RGF0ZTogc3RyaW5nLFxuICBlbmREYXRlOiBzdHJpbmdcbikgPT4ge1xuICB0cnkge1xuICAgIHJldHVybiBhd2FpdCBjbG9ja2lmeVNlcnZpY2UuZ2V0UHJvamVjdFRpbWVSZXBvcnQocHJvamVjdElkLCBzdGFydERhdGUsIGVuZERhdGUpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIENsb2NraWZ5IHRpbWUgcmVwb3J0OicsIGVycm9yKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGZldGNoQWxsQ2xvY2tpZnlUaW1lU3VtbWFyaWVzID0gYXN5bmMgKFxuICBzdGFydERhdGU6IHN0cmluZyxcbiAgZW5kRGF0ZTogc3RyaW5nXG4pID0+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gYXdhaXQgY2xvY2tpZnlTZXJ2aWNlLmdldEFsbFByb2plY3RzVGltZVN1bW1hcnkoc3RhcnREYXRlLCBlbmREYXRlKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBDbG9ja2lmeSB0aW1lIHN1bW1hcmllczonLCBlcnJvcik7XG4gICAgcmV0dXJuIFtdO1xuICB9XG59O1xuIl0sIm5hbWVzIjpbIkNsb2NraWZ5U2VydmljZSIsImNvbnN0cnVjdG9yIiwiYXBpS2V5Iiwid29ya3NwYWNlSWQiLCJiYXNlVXJsIiwiaXNDb25maWd1cmVkIiwicHJvY2VzcyIsImVudiIsIkNMT0NLSUZZX0FQSV9LRVkiLCJDTE9DS0lGWV9XT1JLU1BBQ0VfSUQiLCJjb25zb2xlIiwibG9nIiwid2FybiIsImdldEhlYWRlcnMiLCJFcnJvciIsIm1ha2VSZXF1ZXN0IiwiZW5kcG9pbnQiLCJwYXJhbXMiLCJ1cmwiLCJVUkwiLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsImtleSIsInVuZGVmaW5lZCIsInNlYXJjaFBhcmFtcyIsImFwcGVuZCIsInJlc3BvbnNlIiwiZmV0Y2giLCJ0b1N0cmluZyIsIm1ldGhvZCIsImhlYWRlcnMiLCJzdGF0dXMiLCJvayIsInN0YXR1c1RleHQiLCJqc29uIiwiZXJyb3IiLCJpc1NlcnZpY2VDb25maWd1cmVkIiwiZ2V0Q29uZmlndXJhdGlvblN0YXR1cyIsImNvbmZpZ3VyZWQiLCJoYXNBcGlLZXkiLCJoYXNXb3Jrc3BhY2VJZCIsImdldFVzZXIiLCJpZCIsIm5hbWUiLCJlbWFpbCIsImdldFdvcmtzcGFjZXMiLCJob3VybHlSYXRlIiwiYW1vdW50IiwiY3VycmVuY3kiLCJnZXRQcm9qZWN0cyIsImNsaWVudElkIiwiY2xpZW50TmFtZSIsImJpbGxhYmxlIiwiZ2V0VGltZUVudHJpZXMiLCJwcm9qZWN0SWQiLCJzdGFydERhdGUiLCJlbmREYXRlIiwic3RhcnQiLCJlbmQiLCJkZXNjcmlwdGlvbiIsInRpbWVJbnRlcnZhbCIsImR1cmF0aW9uIiwidXNlcklkIiwidXNlck5hbWUiLCJnZXRBbGxUaW1lRW50cmllcyIsInByb2plY3ROYW1lIiwiZ2V0VXNlcnMiLCJmZXRjaENsb2NraWZ5UHJvamVjdHMiLCJjbG9ja2lmeVNlcnZpY2UiLCJmZXRjaENsb2NraWZ5VGltZUVudHJpZXMiLCJmZXRjaENsb2NraWZ5VGltZVJlcG9ydCIsImdldFByb2plY3RUaW1lUmVwb3J0IiwiZmV0Y2hBbGxDbG9ja2lmeVRpbWVTdW1tYXJpZXMiLCJnZXRBbGxQcm9qZWN0c1RpbWVTdW1tYXJ5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/clockify.ts\n");

/***/ }),

/***/ "(rsc)/./lib/utils.ts":
/*!**********************!*\
  !*** ./lib/utils.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calculateDashboardStats: () => (/* binding */ calculateDashboardStats),\n/* harmony export */   calculateProfitabilityMetrics: () => (/* binding */ calculateProfitabilityMetrics),\n/* harmony export */   calculateTimeTrackingKPIs: () => (/* binding */ calculateTimeTrackingKPIs),\n/* harmony export */   cn: () => (/* binding */ cn),\n/* harmony export */   createChartData: () => (/* binding */ createChartData),\n/* harmony export */   enhanceBillingDataWithClockify: () => (/* binding */ enhanceBillingDataWithClockify),\n/* harmony export */   formatCurrency: () => (/* binding */ formatCurrency),\n/* harmony export */   formatEfficiency: () => (/* binding */ formatEfficiency),\n/* harmony export */   formatHours: () => (/* binding */ formatHours),\n/* harmony export */   formatMonth: () => (/* binding */ formatMonth),\n/* harmony export */   generateMonthRange: () => (/* binding */ generateMonthRange),\n/* harmony export */   getChartMonthRange: () => (/* binding */ getChartMonthRange),\n/* harmony export */   getCurrentMonthRange: () => (/* binding */ getCurrentMonthRange),\n/* harmony export */   getProjectionsMonthRange: () => (/* binding */ getProjectionsMonthRange),\n/* harmony export */   initializeProjectionsTable: () => (/* binding */ initializeProjectionsTable),\n/* harmony export */   isCurrentMonth: () => (/* binding */ isCurrentMonth),\n/* harmony export */   isFutureMonth: () => (/* binding */ isFutureMonth),\n/* harmony export */   isLocalStorageAvailable: () => (/* binding */ isLocalStorageAvailable),\n/* harmony export */   isPastMonth: () => (/* binding */ isPastMonth),\n/* harmony export */   processBillingData: () => (/* binding */ processBillingData),\n/* harmony export */   safeLocalStorageGet: () => (/* binding */ safeLocalStorageGet),\n/* harmony export */   safeLocalStorageRemove: () => (/* binding */ safeLocalStorageRemove),\n/* harmony export */   safeLocalStorageSet: () => (/* binding */ safeLocalStorageSet)\n/* harmony export */ });\n/* harmony import */ var _barrel_optimize_names_addMonths_endOfMonth_format_startOfMonth_subMonths_date_fns__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! __barrel_optimize__?names=addMonths,endOfMonth,format,startOfMonth,subMonths!=!date-fns */ \"(rsc)/./node_modules/date-fns/esm/startOfMonth/index.js\");\n/* harmony import */ var _barrel_optimize_names_addMonths_endOfMonth_format_startOfMonth_subMonths_date_fns__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=addMonths,endOfMonth,format,startOfMonth,subMonths!=!date-fns */ \"(rsc)/./node_modules/date-fns/esm/endOfMonth/index.js\");\n/* harmony import */ var _barrel_optimize_names_addMonths_endOfMonth_format_startOfMonth_subMonths_date_fns__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=addMonths,endOfMonth,format,startOfMonth,subMonths!=!date-fns */ \"(rsc)/./node_modules/date-fns/esm/format/index.js\");\n/* harmony import */ var _barrel_optimize_names_addMonths_endOfMonth_format_startOfMonth_subMonths_date_fns__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=addMonths,endOfMonth,format,startOfMonth,subMonths!=!date-fns */ \"(rsc)/./node_modules/date-fns/esm/addMonths/index.js\");\n/* harmony import */ var _barrel_optimize_names_addMonths_endOfMonth_format_startOfMonth_subMonths_date_fns__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=addMonths,endOfMonth,format,startOfMonth,subMonths!=!date-fns */ \"(rsc)/./node_modules/date-fns/esm/subMonths/index.js\");\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! clsx */ \"(rsc)/./node_modules/clsx/dist/clsx.mjs\");\n/* harmony import */ var tailwind_merge__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tailwind-merge */ \"(rsc)/./node_modules/tailwind-merge/dist/bundle-mjs.mjs\");\n\n\n\nfunction cn(...inputs) {\n    return (0,tailwind_merge__WEBPACK_IMPORTED_MODULE_1__.twMerge)((0,clsx__WEBPACK_IMPORTED_MODULE_0__.clsx)(inputs));\n}\nfunction generateMonthRange(startDate, endDate) {\n    const months = [];\n    let currentDate = (0,_barrel_optimize_names_addMonths_endOfMonth_format_startOfMonth_subMonths_date_fns__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(startDate);\n    const end = (0,_barrel_optimize_names_addMonths_endOfMonth_format_startOfMonth_subMonths_date_fns__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(endDate);\n    while(currentDate <= end){\n        months.push((0,_barrel_optimize_names_addMonths_endOfMonth_format_startOfMonth_subMonths_date_fns__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(currentDate, \"yyyy-MM\"));\n        currentDate = (0,_barrel_optimize_names_addMonths_endOfMonth_format_startOfMonth_subMonths_date_fns__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(currentDate, 1);\n    }\n    return months;\n}\nfunction getCurrentMonthRange(monthsBack = 12, monthsForward = 24) {\n    const today = new Date();\n    const startDate = (0,_barrel_optimize_names_addMonths_endOfMonth_format_startOfMonth_subMonths_date_fns__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(today, monthsBack);\n    const endDate = (0,_barrel_optimize_names_addMonths_endOfMonth_format_startOfMonth_subMonths_date_fns__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(today, monthsForward);\n    return generateMonthRange(startDate, endDate);\n}\nfunction getProjectionsMonthRange() {\n    const startDate = new Date(2022, 0, 1); // January 1, 2022\n    const today = new Date();\n    const endDate = (0,_barrel_optimize_names_addMonths_endOfMonth_format_startOfMonth_subMonths_date_fns__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(today, 24); // 24 months beyond current month\n    return generateMonthRange(startDate, endDate);\n}\nfunction getChartMonthRange() {\n    const today = new Date();\n    const startDate = (0,_barrel_optimize_names_addMonths_endOfMonth_format_startOfMonth_subMonths_date_fns__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(today, 12); // 1 year in the past\n    const endDate = (0,_barrel_optimize_names_addMonths_endOfMonth_format_startOfMonth_subMonths_date_fns__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(today, 12); // 1 year in the future\n    return generateMonthRange(startDate, endDate);\n}\nfunction processBillingData(projects, invoices, projections) {\n    // Handle undefined or null inputs\n    const safeProjects = projects || [];\n    const safeInvoices = invoices || [];\n    const safeProjections = projections || {};\n    const monthRange = getProjectionsMonthRange();\n    return safeProjects.map((project)=>{\n        const projectInvoices = safeInvoices.filter((invoice)=>invoice.project_id === project.project_id);\n        const monthlyData = monthRange.map((month)=>{\n            const monthInvoices = projectInvoices.filter((invoice)=>{\n                const invoiceMonth = (0,_barrel_optimize_names_addMonths_endOfMonth_format_startOfMonth_subMonths_date_fns__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(new Date(invoice.date), \"yyyy-MM\");\n                return invoiceMonth === month;\n            });\n            const billed = monthInvoices.reduce((sum, invoice)=>sum + invoice.billed_amount, 0);\n            const unbilled = monthInvoices.reduce((sum, invoice)=>sum + invoice.unbilled_amount, 0);\n            const projected = safeProjections[project.project_id]?.months?.[month]?.value || 0;\n            const actual = billed + unbilled;\n            return {\n                month,\n                billed,\n                unbilled,\n                projected,\n                actual\n            };\n        });\n        const totalBilled = monthlyData.reduce((sum, data)=>sum + data.billed, 0);\n        const totalUnbilled = monthlyData.reduce((sum, data)=>sum + data.unbilled, 0);\n        const totalProjected = monthlyData.reduce((sum, data)=>sum + data.projected, 0);\n        return {\n            projectId: project.project_id,\n            projectName: project.project_name,\n            customerName: project.customer_name,\n            signedFee: undefined,\n            monthlyData,\n            totalBilled,\n            totalUnbilled,\n            totalProjected\n        };\n    });\n}\nfunction calculateDashboardStats(billingData, closedProjects, monthlyProjections, monthlyStatuses) {\n    // Handle undefined or null billingData\n    if (!billingData || !Array.isArray(billingData)) {\n        return {\n            totalProjects: 0,\n            totalBilled: 0,\n            totalUnbilled: 0,\n            totalProjected: 0,\n            activeProjects: 0,\n            // Clockify KPIs\n            totalHours: 0,\n            billableHours: 0,\n            nonBillableHours: 0,\n            averageHourlyRate: 0,\n            totalTimeValue: 0,\n            efficiency: 0,\n            averageHoursPerProject: 0,\n            topPerformingProjects: []\n        };\n    }\n    const totalProjects = billingData.length;\n    const closedProjectsCount = closedProjects ? closedProjects.size : 0;\n    const activeProjects = totalProjects - closedProjectsCount;\n    // Use database projections and statuses if provided, otherwise fall back to localStorage\n    const projections = monthlyProjections || safeLocalStorageGet(\"monthlyProjections\") || {};\n    const statuses = monthlyStatuses || safeLocalStorageGet(\"monthlyStatuses\") || {};\n    // Calculate Total Billed YTD (sum of all projections marked as \"Billed\" for current year)\n    const currentYear = new Date().getFullYear().toString();\n    let totalBilledYTD = 0;\n    Object.keys(projections).forEach((projectId)=>{\n        const projectProjections = projections[projectId];\n        const projectStatuses = statuses[projectId];\n        if (projectProjections && projectStatuses) {\n            Object.keys(projectProjections).forEach((month)=>{\n                // Check if month is in current year and status is \"Billed\"\n                if (month.startsWith(currentYear) && projectStatuses[month] === \"Billed\") {\n                    totalBilledYTD += projectProjections[month] || 0;\n                }\n            });\n        }\n    });\n    // Calculate Backlog (sum of all projections NOT marked as \"Billed\" for current and future months)\n    const currentMonth = new Date().toISOString().slice(0, 7); // YYYY-MM format\n    let backlog = 0;\n    Object.keys(projections).forEach((projectId)=>{\n        const projectProjections = projections[projectId];\n        const projectStatuses = statuses[projectId];\n        if (projectProjections && projectStatuses) {\n            Object.keys(projectProjections).forEach((month)=>{\n                // Check if month is current or future and status is NOT \"Billed\"\n                if (month >= currentMonth && projectStatuses[month] !== \"Billed\") {\n                    backlog += projectProjections[month] || 0;\n                }\n            });\n        }\n    });\n    // Calculate Total Projected (sum of all projections for current and future months)\n    let totalProjected = 0;\n    Object.keys(projections).forEach((projectId)=>{\n        const projectProjections = projections[projectId];\n        if (projectProjections) {\n            Object.keys(projectProjections).forEach((month)=>{\n                // Include all projections for current and future months\n                if (month >= currentMonth) {\n                    totalProjected += projectProjections[month] || 0;\n                }\n            });\n        }\n    });\n    // Calculate Clockify KPIs\n    let totalHours = 0;\n    let billableHours = 0;\n    let nonBillableHours = 0;\n    let totalTimeValue = 0;\n    let totalHourlyRate = 0;\n    let projectsWithTimeData = 0;\n    const projectEfficiencies = [];\n    billingData.forEach((project)=>{\n        if (project.clockifyData) {\n            const timeData = project.clockifyData;\n            totalHours += timeData.totalHours;\n            billableHours += timeData.billableHours;\n            nonBillableHours += timeData.nonBillableHours;\n            totalTimeValue += timeData.billableAmount;\n            if (timeData.totalHours > 0) {\n                const efficiency = timeData.billableHours / timeData.totalHours;\n                projectEfficiencies.push({\n                    projectId: project.projectId,\n                    efficiency,\n                    hours: timeData.totalHours\n                });\n                projectsWithTimeData++;\n            }\n        }\n    });\n    const averageHourlyRate = projectsWithTimeData > 0 ? totalTimeValue / billableHours : 0;\n    const efficiency = totalHours > 0 ? billableHours / totalHours : 0;\n    const averageHoursPerProject = projectsWithTimeData > 0 ? totalHours / projectsWithTimeData : 0;\n    // Get top performing projects (by efficiency and hours)\n    const topPerformingProjects = projectEfficiencies.sort((a, b)=>b.efficiency * b.hours - a.efficiency * a.hours).slice(0, 5).map((p)=>p.projectId);\n    return {\n        totalProjects,\n        totalBilled: totalBilledYTD,\n        totalUnbilled: backlog,\n        totalProjected,\n        activeProjects,\n        // Clockify KPIs\n        totalHours,\n        billableHours,\n        nonBillableHours,\n        averageHourlyRate,\n        totalTimeValue,\n        efficiency,\n        averageHoursPerProject,\n        topPerformingProjects\n    };\n}\nfunction formatCurrency(amount) {\n    return new Intl.NumberFormat(\"en-US\", {\n        style: \"currency\",\n        currency: \"USD\"\n    }).format(amount);\n}\nfunction formatMonth(monthString) {\n    const [year, month] = monthString.split(\"-\");\n    const date = new Date(parseInt(year), parseInt(month) - 1);\n    return (0,_barrel_optimize_names_addMonths_endOfMonth_format_startOfMonth_subMonths_date_fns__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(date, \"MMM yyyy\");\n}\nfunction isCurrentMonth(monthString) {\n    const currentMonth = (0,_barrel_optimize_names_addMonths_endOfMonth_format_startOfMonth_subMonths_date_fns__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(new Date(), \"yyyy-MM\");\n    return monthString === currentMonth;\n}\nfunction isFutureMonth(monthString) {\n    const currentMonth = (0,_barrel_optimize_names_addMonths_endOfMonth_format_startOfMonth_subMonths_date_fns__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(new Date(), \"yyyy-MM\");\n    return monthString > currentMonth;\n}\nfunction isPastMonth(monthString) {\n    const currentMonth = (0,_barrel_optimize_names_addMonths_endOfMonth_format_startOfMonth_subMonths_date_fns__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(new Date(), \"yyyy-MM\");\n    return monthString < currentMonth;\n}\n// localStorage utility functions\nfunction isLocalStorageAvailable() {\n    try {\n        const test = \"__localStorage_test__\";\n        localStorage.setItem(test, test);\n        localStorage.removeItem(test);\n        return true;\n    } catch  {\n        return false;\n    }\n}\nfunction safeLocalStorageGet(key) {\n    if (!isLocalStorageAvailable()) {\n        console.warn(\"localStorage is not available\");\n        return null;\n    }\n    try {\n        const item = localStorage.getItem(key);\n        return item ? JSON.parse(item) : null;\n    } catch (error) {\n        console.error(`Error reading from localStorage key '${key}':`, error);\n        return null;\n    }\n}\nfunction safeLocalStorageSet(key, value) {\n    if (!isLocalStorageAvailable()) {\n        console.warn(\"localStorage is not available\");\n        return false;\n    }\n    try {\n        localStorage.setItem(key, JSON.stringify(value));\n        return true;\n    } catch (error) {\n        console.error(`Error writing to localStorage key '${key}':`, error);\n        return false;\n    }\n}\nfunction safeLocalStorageRemove(key) {\n    if (!isLocalStorageAvailable()) {\n        return false;\n    }\n    try {\n        localStorage.removeItem(key);\n        return true;\n    } catch (error) {\n        console.error(`Error removing localStorage key '${key}':`, error);\n        return false;\n    }\n}\nfunction createChartData(billingData) {\n    return billingData.map((data)=>({\n            name: data.projectName,\n            billed: data.totalBilled,\n            unbilled: data.totalUnbilled,\n            projected: data.totalProjected\n        }));\n}\nfunction initializeProjectionsTable(projects) {\n    // Handle undefined or null projects\n    const safeProjects = projects || [];\n    const monthRange = getProjectionsMonthRange();\n    const table = {};\n    safeProjects.forEach((project)=>{\n        table[project.project_id] = {\n            months: {},\n            asrFee: 0\n        };\n        monthRange.forEach((month)=>{\n            const isEditable = isFutureMonth(month);\n            table[project.project_id].months[month] = {\n                value: 0,\n                isEditable,\n                isProjected: isEditable\n            };\n        });\n    });\n    return table;\n}\n// New functions for Clockify integration\nfunction calculateTimeTrackingKPIs(clockifyData) {\n    const efficiency = clockifyData.totalHours > 0 ? clockifyData.billableHours / clockifyData.totalHours : 0;\n    const averageHourlyRate = clockifyData.billableHours > 0 ? clockifyData.billableAmount / clockifyData.billableHours : 0;\n    return {\n        projectId: clockifyData.projectId,\n        projectName: clockifyData.projectName,\n        totalHours: clockifyData.totalHours,\n        billableHours: clockifyData.billableHours,\n        nonBillableHours: clockifyData.nonBillableHours,\n        hourlyRate: averageHourlyRate,\n        totalValue: clockifyData.billableAmount,\n        efficiency,\n        period: clockifyData.period\n    };\n}\nfunction enhanceBillingDataWithClockify(billingData, clockifyReports) {\n    return billingData.map((project)=>{\n        const clockifyReport = clockifyReports.find((report)=>report.projectId === project.projectId || report.projectName.toLowerCase().includes(project.projectName.toLowerCase()));\n        if (clockifyReport) {\n            const timeTrackingKPI = calculateTimeTrackingKPIs(clockifyReport);\n            return {\n                ...project,\n                clockifyData: clockifyReport,\n                totalHours: clockifyReport.totalHours,\n                billableHours: clockifyReport.billableHours,\n                nonBillableHours: clockifyReport.nonBillableHours,\n                hourlyRate: timeTrackingKPI.hourlyRate,\n                efficiency: timeTrackingKPI.efficiency\n            };\n        }\n        return project;\n    });\n}\nfunction calculateProfitabilityMetrics(billingData, timeTrackingKPI) {\n    const revenue = billingData.totalBilled + billingData.totalUnbilled;\n    const cost = timeTrackingKPI ? timeTrackingKPI.totalValue : 0;\n    const profit = revenue - cost;\n    const margin = revenue > 0 ? profit / revenue * 100 : 0;\n    return {\n        revenue,\n        cost,\n        profit,\n        margin\n    };\n}\nfunction formatHours(hours) {\n    const wholeHours = Math.floor(hours);\n    const minutes = Math.round((hours - wholeHours) * 60);\n    return `${wholeHours}h ${minutes}m`;\n}\nfunction formatEfficiency(efficiency) {\n    return `${(efficiency * 100).toFixed(1)}%`;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S0csS0FBSyxDQUFDLENBQUNoRSxRQUFRNEQsVUFBUyxJQUFLO0lBQ2xELE9BQU8sQ0FBQyxFQUFFQSxXQUFXLEVBQUUsRUFBRUcsUUFBUSxDQUFDLENBQUM7QUFDckM7QUFFTyxTQUFTRSxpQkFBaUI3RixVQUFrQjtJQUNqRCxPQUFPLENBQUMsRUFBRSxDQUFDQSxhQUFhLEdBQUUsRUFBRzhGLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUM1QyIsInNvdXJjZXMiOlsid2VicGFjazovL3pvaG8tYmlsbGluZy1wbGF0Zm9ybS8uL2xpYi91dGlscy50cz9mNzQ1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZvcm1hdCwgc3ViTW9udGhzLCBhZGRNb250aHMsIHN0YXJ0T2ZNb250aCwgZW5kT2ZNb250aCB9IGZyb20gJ2RhdGUtZm5zJztcbmltcG9ydCB7IHR5cGUgQ2xhc3NWYWx1ZSwgY2xzeCB9IGZyb20gJ2Nsc3gnO1xuaW1wb3J0IHsgdHdNZXJnZSB9IGZyb20gJ3RhaWx3aW5kLW1lcmdlJztcbmltcG9ydCB7IFpvaG9Qcm9qZWN0LCBab2hvSW52b2ljZSB9IGZyb20gJy4vem9obyc7XG5pbXBvcnQgeyBCaWxsaW5nRGF0YSwgTW9udGhseUJpbGxpbmdEYXRhLCBQcm9qZWN0aW9uc1RhYmxlLCBQcm9qZWN0aW9uQ2VsbCwgQ2hhcnREYXRhLCBEYXNoYm9hcmRTdGF0cywgVGltZVRyYWNraW5nS1BJIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBDbG9ja2lmeVRpbWVSZXBvcnQgfSBmcm9tICcuL2Nsb2NraWZ5JztcblxuZXhwb3J0IGZ1bmN0aW9uIGNuKC4uLmlucHV0czogQ2xhc3NWYWx1ZVtdKSB7XG4gIHJldHVybiB0d01lcmdlKGNsc3goaW5wdXRzKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZU1vbnRoUmFuZ2Uoc3RhcnREYXRlOiBEYXRlLCBlbmREYXRlOiBEYXRlKTogc3RyaW5nW10ge1xuICBjb25zdCBtb250aHM6IHN0cmluZ1tdID0gW107XG4gIGxldCBjdXJyZW50RGF0ZSA9IHN0YXJ0T2ZNb250aChzdGFydERhdGUpO1xuICBjb25zdCBlbmQgPSBlbmRPZk1vbnRoKGVuZERhdGUpO1xuXG4gIHdoaWxlIChjdXJyZW50RGF0ZSA8PSBlbmQpIHtcbiAgICBtb250aHMucHVzaChmb3JtYXQoY3VycmVudERhdGUsICd5eXl5LU1NJykpO1xuICAgIGN1cnJlbnREYXRlID0gYWRkTW9udGhzKGN1cnJlbnREYXRlLCAxKTtcbiAgfVxuXG4gIHJldHVybiBtb250aHM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDdXJyZW50TW9udGhSYW5nZShtb250aHNCYWNrOiBudW1iZXIgPSAxMiwgbW9udGhzRm9yd2FyZDogbnVtYmVyID0gMjQpOiBzdHJpbmdbXSB7XG4gIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgY29uc3Qgc3RhcnREYXRlID0gc3ViTW9udGhzKHRvZGF5LCBtb250aHNCYWNrKTtcbiAgY29uc3QgZW5kRGF0ZSA9IGFkZE1vbnRocyh0b2RheSwgbW9udGhzRm9yd2FyZCk7XG4gIFxuICByZXR1cm4gZ2VuZXJhdGVNb250aFJhbmdlKHN0YXJ0RGF0ZSwgZW5kRGF0ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQcm9qZWN0aW9uc01vbnRoUmFuZ2UoKTogc3RyaW5nW10ge1xuICBjb25zdCBzdGFydERhdGUgPSBuZXcgRGF0ZSgyMDIyLCAwLCAxKTsgLy8gSmFudWFyeSAxLCAyMDIyXG4gIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgY29uc3QgZW5kRGF0ZSA9IGFkZE1vbnRocyh0b2RheSwgMjQpOyAvLyAyNCBtb250aHMgYmV5b25kIGN1cnJlbnQgbW9udGhcbiAgXG4gIHJldHVybiBnZW5lcmF0ZU1vbnRoUmFuZ2Uoc3RhcnREYXRlLCBlbmREYXRlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENoYXJ0TW9udGhSYW5nZSgpOiBzdHJpbmdbXSB7XG4gIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgY29uc3Qgc3RhcnREYXRlID0gc3ViTW9udGhzKHRvZGF5LCAxMik7IC8vIDEgeWVhciBpbiB0aGUgcGFzdFxuICBjb25zdCBlbmREYXRlID0gYWRkTW9udGhzKHRvZGF5LCAxMik7IC8vIDEgeWVhciBpbiB0aGUgZnV0dXJlXG4gIFxuICByZXR1cm4gZ2VuZXJhdGVNb250aFJhbmdlKHN0YXJ0RGF0ZSwgZW5kRGF0ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9jZXNzQmlsbGluZ0RhdGEoXG4gIHByb2plY3RzOiBab2hvUHJvamVjdFtdLFxuICBpbnZvaWNlczogWm9ob0ludm9pY2VbXSxcbiAgcHJvamVjdGlvbnM6IFByb2plY3Rpb25zVGFibGVcbik6IEJpbGxpbmdEYXRhW10ge1xuICAvLyBIYW5kbGUgdW5kZWZpbmVkIG9yIG51bGwgaW5wdXRzXG4gIGNvbnN0IHNhZmVQcm9qZWN0cyA9IHByb2plY3RzIHx8IFtdO1xuICBjb25zdCBzYWZlSW52b2ljZXMgPSBpbnZvaWNlcyB8fCBbXTtcbiAgY29uc3Qgc2FmZVByb2plY3Rpb25zID0gcHJvamVjdGlvbnMgfHwge307XG4gIFxuICBjb25zdCBtb250aFJhbmdlID0gZ2V0UHJvamVjdGlvbnNNb250aFJhbmdlKCk7XG4gIFxuICByZXR1cm4gc2FmZVByb2plY3RzLm1hcChwcm9qZWN0ID0+IHtcbiAgICBjb25zdCBwcm9qZWN0SW52b2ljZXMgPSBzYWZlSW52b2ljZXMuZmlsdGVyKGludm9pY2UgPT4gaW52b2ljZS5wcm9qZWN0X2lkID09PSBwcm9qZWN0LnByb2plY3RfaWQpO1xuICAgIGNvbnN0IG1vbnRobHlEYXRhOiBNb250aGx5QmlsbGluZ0RhdGFbXSA9IG1vbnRoUmFuZ2UubWFwKG1vbnRoID0+IHtcbiAgICAgIGNvbnN0IG1vbnRoSW52b2ljZXMgPSBwcm9qZWN0SW52b2ljZXMuZmlsdGVyKGludm9pY2UgPT4ge1xuICAgICAgICBjb25zdCBpbnZvaWNlTW9udGggPSBmb3JtYXQobmV3IERhdGUoaW52b2ljZS5kYXRlKSwgJ3l5eXktTU0nKTtcbiAgICAgICAgcmV0dXJuIGludm9pY2VNb250aCA9PT0gbW9udGg7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgYmlsbGVkID0gbW9udGhJbnZvaWNlcy5yZWR1Y2UoKHN1bSwgaW52b2ljZSkgPT4gc3VtICsgaW52b2ljZS5iaWxsZWRfYW1vdW50LCAwKTtcbiAgICAgIGNvbnN0IHVuYmlsbGVkID0gbW9udGhJbnZvaWNlcy5yZWR1Y2UoKHN1bSwgaW52b2ljZSkgPT4gc3VtICsgaW52b2ljZS51bmJpbGxlZF9hbW91bnQsIDApO1xuICAgICAgY29uc3QgcHJvamVjdGVkID0gc2FmZVByb2plY3Rpb25zW3Byb2plY3QucHJvamVjdF9pZF0/Lm1vbnRocz8uW21vbnRoXT8udmFsdWUgfHwgMDtcbiAgICAgIGNvbnN0IGFjdHVhbCA9IGJpbGxlZCArIHVuYmlsbGVkO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBtb250aCxcbiAgICAgICAgYmlsbGVkLFxuICAgICAgICB1bmJpbGxlZCxcbiAgICAgICAgcHJvamVjdGVkLFxuICAgICAgICBhY3R1YWwsXG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgY29uc3QgdG90YWxCaWxsZWQgPSBtb250aGx5RGF0YS5yZWR1Y2UoKHN1bSwgZGF0YSkgPT4gc3VtICsgZGF0YS5iaWxsZWQsIDApO1xuICAgIGNvbnN0IHRvdGFsVW5iaWxsZWQgPSBtb250aGx5RGF0YS5yZWR1Y2UoKHN1bSwgZGF0YSkgPT4gc3VtICsgZGF0YS51bmJpbGxlZCwgMCk7XG4gICAgY29uc3QgdG90YWxQcm9qZWN0ZWQgPSBtb250aGx5RGF0YS5yZWR1Y2UoKHN1bSwgZGF0YSkgPT4gc3VtICsgZGF0YS5wcm9qZWN0ZWQsIDApO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHByb2plY3RJZDogcHJvamVjdC5wcm9qZWN0X2lkLFxuICAgICAgcHJvamVjdE5hbWU6IHByb2plY3QucHJvamVjdF9uYW1lLCAvLyBDaGFuZ2VkIGZyb20gcHJvamVjdC5uYW1lXG4gICAgICBjdXN0b21lck5hbWU6IHByb2plY3QuY3VzdG9tZXJfbmFtZSxcbiAgICAgIHNpZ25lZEZlZTogdW5kZWZpbmVkLCAvLyBSZW1vdmUgWm9obyBzaWduZWQgZmVlLCBvbmx5IHVzZSB1c2VyLWVudGVyZWQgZGF0YVxuICAgICAgbW9udGhseURhdGEsXG4gICAgICB0b3RhbEJpbGxlZCxcbiAgICAgIHRvdGFsVW5iaWxsZWQsXG4gICAgICB0b3RhbFByb2plY3RlZCxcbiAgICB9O1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZURhc2hib2FyZFN0YXRzKFxuICBiaWxsaW5nRGF0YTogQmlsbGluZ0RhdGFbXSwgXG4gIGNsb3NlZFByb2plY3RzPzogU2V0PHN0cmluZz4sXG4gIG1vbnRobHlQcm9qZWN0aW9ucz86IFJlY29yZDxzdHJpbmcsIFJlY29yZDxzdHJpbmcsIG51bWJlcj4+LFxuICBtb250aGx5U3RhdHVzZXM/OiBSZWNvcmQ8c3RyaW5nLCBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+PlxuKTogRGFzaGJvYXJkU3RhdHMge1xuICAvLyBIYW5kbGUgdW5kZWZpbmVkIG9yIG51bGwgYmlsbGluZ0RhdGFcbiAgaWYgKCFiaWxsaW5nRGF0YSB8fCAhQXJyYXkuaXNBcnJheShiaWxsaW5nRGF0YSkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdG90YWxQcm9qZWN0czogMCxcbiAgICAgIHRvdGFsQmlsbGVkOiAwLFxuICAgICAgdG90YWxVbmJpbGxlZDogMCxcbiAgICAgIHRvdGFsUHJvamVjdGVkOiAwLFxuICAgICAgYWN0aXZlUHJvamVjdHM6IDAsXG4gICAgICAvLyBDbG9ja2lmeSBLUElzXG4gICAgICB0b3RhbEhvdXJzOiAwLFxuICAgICAgYmlsbGFibGVIb3VyczogMCxcbiAgICAgIG5vbkJpbGxhYmxlSG91cnM6IDAsXG4gICAgICBhdmVyYWdlSG91cmx5UmF0ZTogMCxcbiAgICAgIHRvdGFsVGltZVZhbHVlOiAwLFxuICAgICAgZWZmaWNpZW5jeTogMCxcbiAgICAgIGF2ZXJhZ2VIb3Vyc1BlclByb2plY3Q6IDAsXG4gICAgICB0b3BQZXJmb3JtaW5nUHJvamVjdHM6IFtdLFxuICAgIH07XG4gIH1cblxuICBjb25zdCB0b3RhbFByb2plY3RzID0gYmlsbGluZ0RhdGEubGVuZ3RoO1xuICBjb25zdCBjbG9zZWRQcm9qZWN0c0NvdW50ID0gY2xvc2VkUHJvamVjdHMgPyBjbG9zZWRQcm9qZWN0cy5zaXplIDogMDtcbiAgY29uc3QgYWN0aXZlUHJvamVjdHMgPSB0b3RhbFByb2plY3RzIC0gY2xvc2VkUHJvamVjdHNDb3VudDtcblxuICAvLyBVc2UgZGF0YWJhc2UgcHJvamVjdGlvbnMgYW5kIHN0YXR1c2VzIGlmIHByb3ZpZGVkLCBvdGhlcndpc2UgZmFsbCBiYWNrIHRvIGxvY2FsU3RvcmFnZVxuICBjb25zdCBwcm9qZWN0aW9ucyA9IG1vbnRobHlQcm9qZWN0aW9ucyB8fCBzYWZlTG9jYWxTdG9yYWdlR2V0KCdtb250aGx5UHJvamVjdGlvbnMnKSB8fCB7fTtcbiAgY29uc3Qgc3RhdHVzZXMgPSBtb250aGx5U3RhdHVzZXMgfHwgc2FmZUxvY2FsU3RvcmFnZUdldCgnbW9udGhseVN0YXR1c2VzJykgfHwge307XG4gIFxuICAvLyBDYWxjdWxhdGUgVG90YWwgQmlsbGVkIFlURCAoc3VtIG9mIGFsbCBwcm9qZWN0aW9ucyBtYXJrZWQgYXMgXCJCaWxsZWRcIiBmb3IgY3VycmVudCB5ZWFyKVxuICBjb25zdCBjdXJyZW50WWVhciA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKS50b1N0cmluZygpO1xuICBsZXQgdG90YWxCaWxsZWRZVEQgPSAwO1xuICBcbiAgT2JqZWN0LmtleXMocHJvamVjdGlvbnMpLmZvckVhY2gocHJvamVjdElkID0+IHtcbiAgICBjb25zdCBwcm9qZWN0UHJvamVjdGlvbnMgPSBwcm9qZWN0aW9uc1twcm9qZWN0SWRdO1xuICAgIGNvbnN0IHByb2plY3RTdGF0dXNlcyA9IHN0YXR1c2VzW3Byb2plY3RJZF07XG4gICAgXG4gICAgaWYgKHByb2plY3RQcm9qZWN0aW9ucyAmJiBwcm9qZWN0U3RhdHVzZXMpIHtcbiAgICAgIE9iamVjdC5rZXlzKHByb2plY3RQcm9qZWN0aW9ucykuZm9yRWFjaChtb250aCA9PiB7XG4gICAgICAgIC8vIENoZWNrIGlmIG1vbnRoIGlzIGluIGN1cnJlbnQgeWVhciBhbmQgc3RhdHVzIGlzIFwiQmlsbGVkXCJcbiAgICAgICAgaWYgKG1vbnRoLnN0YXJ0c1dpdGgoY3VycmVudFllYXIpICYmIHByb2plY3RTdGF0dXNlc1ttb250aF0gPT09ICdCaWxsZWQnKSB7XG4gICAgICAgICAgdG90YWxCaWxsZWRZVEQgKz0gcHJvamVjdFByb2plY3Rpb25zW21vbnRoXSB8fCAwO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuICBcbiAgLy8gQ2FsY3VsYXRlIEJhY2tsb2cgKHN1bSBvZiBhbGwgcHJvamVjdGlvbnMgTk9UIG1hcmtlZCBhcyBcIkJpbGxlZFwiIGZvciBjdXJyZW50IGFuZCBmdXR1cmUgbW9udGhzKVxuICBjb25zdCBjdXJyZW50TW9udGggPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgNyk7IC8vIFlZWVktTU0gZm9ybWF0XG4gIGxldCBiYWNrbG9nID0gMDtcbiAgXG4gIE9iamVjdC5rZXlzKHByb2plY3Rpb25zKS5mb3JFYWNoKHByb2plY3RJZCA9PiB7XG4gICAgY29uc3QgcHJvamVjdFByb2plY3Rpb25zID0gcHJvamVjdGlvbnNbcHJvamVjdElkXTtcbiAgICBjb25zdCBwcm9qZWN0U3RhdHVzZXMgPSBzdGF0dXNlc1twcm9qZWN0SWRdO1xuICAgIFxuICAgIGlmIChwcm9qZWN0UHJvamVjdGlvbnMgJiYgcHJvamVjdFN0YXR1c2VzKSB7XG4gICAgICBPYmplY3Qua2V5cyhwcm9qZWN0UHJvamVjdGlvbnMpLmZvckVhY2gobW9udGggPT4ge1xuICAgICAgICAvLyBDaGVjayBpZiBtb250aCBpcyBjdXJyZW50IG9yIGZ1dHVyZSBhbmQgc3RhdHVzIGlzIE5PVCBcIkJpbGxlZFwiXG4gICAgICAgIGlmIChtb250aCA+PSBjdXJyZW50TW9udGggJiYgcHJvamVjdFN0YXR1c2VzW21vbnRoXSAhPT0gJ0JpbGxlZCcpIHtcbiAgICAgICAgICBiYWNrbG9nICs9IHByb2plY3RQcm9qZWN0aW9uc1ttb250aF0gfHwgMDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICAvLyBDYWxjdWxhdGUgVG90YWwgUHJvamVjdGVkIChzdW0gb2YgYWxsIHByb2plY3Rpb25zIGZvciBjdXJyZW50IGFuZCBmdXR1cmUgbW9udGhzKVxuICBsZXQgdG90YWxQcm9qZWN0ZWQgPSAwO1xuICBcbiAgT2JqZWN0LmtleXMocHJvamVjdGlvbnMpLmZvckVhY2gocHJvamVjdElkID0+IHtcbiAgICBjb25zdCBwcm9qZWN0UHJvamVjdGlvbnMgPSBwcm9qZWN0aW9uc1twcm9qZWN0SWRdO1xuICAgIFxuICAgIGlmIChwcm9qZWN0UHJvamVjdGlvbnMpIHtcbiAgICAgIE9iamVjdC5rZXlzKHByb2plY3RQcm9qZWN0aW9ucykuZm9yRWFjaChtb250aCA9PiB7XG4gICAgICAgIC8vIEluY2x1ZGUgYWxsIHByb2plY3Rpb25zIGZvciBjdXJyZW50IGFuZCBmdXR1cmUgbW9udGhzXG4gICAgICAgIGlmIChtb250aCA+PSBjdXJyZW50TW9udGgpIHtcbiAgICAgICAgICB0b3RhbFByb2plY3RlZCArPSBwcm9qZWN0UHJvamVjdGlvbnNbbW9udGhdIHx8IDA7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gQ2FsY3VsYXRlIENsb2NraWZ5IEtQSXNcbiAgbGV0IHRvdGFsSG91cnMgPSAwO1xuICBsZXQgYmlsbGFibGVIb3VycyA9IDA7XG4gIGxldCBub25CaWxsYWJsZUhvdXJzID0gMDtcbiAgbGV0IHRvdGFsVGltZVZhbHVlID0gMDtcbiAgbGV0IHRvdGFsSG91cmx5UmF0ZSA9IDA7XG4gIGxldCBwcm9qZWN0c1dpdGhUaW1lRGF0YSA9IDA7XG4gIGNvbnN0IHByb2plY3RFZmZpY2llbmNpZXM6IHsgcHJvamVjdElkOiBzdHJpbmc7IGVmZmljaWVuY3k6IG51bWJlcjsgaG91cnM6IG51bWJlciB9W10gPSBbXTtcblxuICBiaWxsaW5nRGF0YS5mb3JFYWNoKHByb2plY3QgPT4ge1xuICAgIGlmIChwcm9qZWN0LmNsb2NraWZ5RGF0YSkge1xuICAgICAgY29uc3QgdGltZURhdGEgPSBwcm9qZWN0LmNsb2NraWZ5RGF0YTtcbiAgICAgIHRvdGFsSG91cnMgKz0gdGltZURhdGEudG90YWxIb3VycztcbiAgICAgIGJpbGxhYmxlSG91cnMgKz0gdGltZURhdGEuYmlsbGFibGVIb3VycztcbiAgICAgIG5vbkJpbGxhYmxlSG91cnMgKz0gdGltZURhdGEubm9uQmlsbGFibGVIb3VycztcbiAgICAgIHRvdGFsVGltZVZhbHVlICs9IHRpbWVEYXRhLmJpbGxhYmxlQW1vdW50O1xuICAgICAgXG4gICAgICBpZiAodGltZURhdGEudG90YWxIb3VycyA+IDApIHtcbiAgICAgICAgY29uc3QgZWZmaWNpZW5jeSA9IHRpbWVEYXRhLmJpbGxhYmxlSG91cnMgLyB0aW1lRGF0YS50b3RhbEhvdXJzO1xuICAgICAgICBwcm9qZWN0RWZmaWNpZW5jaWVzLnB1c2goe1xuICAgICAgICAgIHByb2plY3RJZDogcHJvamVjdC5wcm9qZWN0SWQsXG4gICAgICAgICAgZWZmaWNpZW5jeSxcbiAgICAgICAgICBob3VyczogdGltZURhdGEudG90YWxIb3VycyxcbiAgICAgICAgfSk7XG4gICAgICAgIHByb2plY3RzV2l0aFRpbWVEYXRhKys7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBjb25zdCBhdmVyYWdlSG91cmx5UmF0ZSA9IHByb2plY3RzV2l0aFRpbWVEYXRhID4gMCA/IHRvdGFsVGltZVZhbHVlIC8gYmlsbGFibGVIb3VycyA6IDA7XG4gIGNvbnN0IGVmZmljaWVuY3kgPSB0b3RhbEhvdXJzID4gMCA/IGJpbGxhYmxlSG91cnMgLyB0b3RhbEhvdXJzIDogMDtcbiAgY29uc3QgYXZlcmFnZUhvdXJzUGVyUHJvamVjdCA9IHByb2plY3RzV2l0aFRpbWVEYXRhID4gMCA/IHRvdGFsSG91cnMgLyBwcm9qZWN0c1dpdGhUaW1lRGF0YSA6IDA7XG5cbiAgLy8gR2V0IHRvcCBwZXJmb3JtaW5nIHByb2plY3RzIChieSBlZmZpY2llbmN5IGFuZCBob3VycylcbiAgY29uc3QgdG9wUGVyZm9ybWluZ1Byb2plY3RzID0gcHJvamVjdEVmZmljaWVuY2llc1xuICAgIC5zb3J0KChhLCBiKSA9PiAoYi5lZmZpY2llbmN5ICogYi5ob3VycykgLSAoYS5lZmZpY2llbmN5ICogYS5ob3VycykpXG4gICAgLnNsaWNlKDAsIDUpXG4gICAgLm1hcChwID0+IHAucHJvamVjdElkKTtcblxuICByZXR1cm4ge1xuICAgIHRvdGFsUHJvamVjdHMsXG4gICAgdG90YWxCaWxsZWQ6IHRvdGFsQmlsbGVkWVRELCAvLyBVc2UgWVREIGJpbGxlZCBhbW91bnQgZnJvbSBwcm9qZWN0aW9uc1xuICAgIHRvdGFsVW5iaWxsZWQ6IGJhY2tsb2csIC8vIFVzZSBiYWNrbG9nIGFtb3VudCBmcm9tIHByb2plY3Rpb25zXG4gICAgdG90YWxQcm9qZWN0ZWQsIC8vIFVzZSB0b3RhbCBwcm9qZWN0ZWQgYW1vdW50IGZyb20gcHJvamVjdGlvbnNcbiAgICBhY3RpdmVQcm9qZWN0cyxcbiAgICAvLyBDbG9ja2lmeSBLUElzXG4gICAgdG90YWxIb3VycyxcbiAgICBiaWxsYWJsZUhvdXJzLFxuICAgIG5vbkJpbGxhYmxlSG91cnMsXG4gICAgYXZlcmFnZUhvdXJseVJhdGUsXG4gICAgdG90YWxUaW1lVmFsdWUsXG4gICAgZWZmaWNpZW5jeSxcbiAgICBhdmVyYWdlSG91cnNQZXJQcm9qZWN0LFxuICAgIHRvcFBlcmZvcm1pbmdQcm9qZWN0cyxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdEN1cnJlbmN5KGFtb3VudDogbnVtYmVyKTogc3RyaW5nIHtcbiAgcmV0dXJuIG5ldyBJbnRsLk51bWJlckZvcm1hdCgnZW4tVVMnLCB7XG4gICAgc3R5bGU6ICdjdXJyZW5jeScsXG4gICAgY3VycmVuY3k6ICdVU0QnLFxuICB9KS5mb3JtYXQoYW1vdW50KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdE1vbnRoKG1vbnRoU3RyaW5nOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBbeWVhciwgbW9udGhdID0gbW9udGhTdHJpbmcuc3BsaXQoJy0nKTtcbiAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHBhcnNlSW50KHllYXIpLCBwYXJzZUludChtb250aCkgLSAxKTtcbiAgcmV0dXJuIGZvcm1hdChkYXRlLCAnTU1NIHl5eXknKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQ3VycmVudE1vbnRoKG1vbnRoU3RyaW5nOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgY29uc3QgY3VycmVudE1vbnRoID0gZm9ybWF0KG5ldyBEYXRlKCksICd5eXl5LU1NJyk7XG4gIHJldHVybiBtb250aFN0cmluZyA9PT0gY3VycmVudE1vbnRoO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNGdXR1cmVNb250aChtb250aFN0cmluZzogc3RyaW5nKTogYm9vbGVhbiB7XG4gIGNvbnN0IGN1cnJlbnRNb250aCA9IGZvcm1hdChuZXcgRGF0ZSgpLCAneXl5eS1NTScpO1xuICByZXR1cm4gbW9udGhTdHJpbmcgPiBjdXJyZW50TW9udGg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Bhc3RNb250aChtb250aFN0cmluZzogc3RyaW5nKTogYm9vbGVhbiB7XG4gIGNvbnN0IGN1cnJlbnRNb250aCA9IGZvcm1hdChuZXcgRGF0ZSgpLCAneXl5eS1NTScpO1xuICByZXR1cm4gbW9udGhTdHJpbmcgPCBjdXJyZW50TW9udGg7XG59XG5cbi8vIGxvY2FsU3RvcmFnZSB1dGlsaXR5IGZ1bmN0aW9uc1xuZXhwb3J0IGZ1bmN0aW9uIGlzTG9jYWxTdG9yYWdlQXZhaWxhYmxlKCk6IGJvb2xlYW4ge1xuICB0cnkge1xuICAgIGNvbnN0IHRlc3QgPSAnX19sb2NhbFN0b3JhZ2VfdGVzdF9fJztcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0ZXN0LCB0ZXN0KTtcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh0ZXN0KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzYWZlTG9jYWxTdG9yYWdlR2V0KGtleTogc3RyaW5nKTogYW55IHtcbiAgaWYgKCFpc0xvY2FsU3RvcmFnZUF2YWlsYWJsZSgpKSB7XG4gICAgY29uc29sZS53YXJuKCdsb2NhbFN0b3JhZ2UgaXMgbm90IGF2YWlsYWJsZScpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIFxuICB0cnkge1xuICAgIGNvbnN0IGl0ZW0gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICAgIHJldHVybiBpdGVtID8gSlNPTi5wYXJzZShpdGVtKSA6IG51bGw7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihgRXJyb3IgcmVhZGluZyBmcm9tIGxvY2FsU3RvcmFnZSBrZXkgJyR7a2V5fSc6YCwgZXJyb3IpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzYWZlTG9jYWxTdG9yYWdlU2V0KGtleTogc3RyaW5nLCB2YWx1ZTogYW55KTogYm9vbGVhbiB7XG4gIGlmICghaXNMb2NhbFN0b3JhZ2VBdmFpbGFibGUoKSkge1xuICAgIGNvbnNvbGUud2FybignbG9jYWxTdG9yYWdlIGlzIG5vdCBhdmFpbGFibGUnKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgXG4gIHRyeSB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHdyaXRpbmcgdG8gbG9jYWxTdG9yYWdlIGtleSAnJHtrZXl9JzpgLCBlcnJvcik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzYWZlTG9jYWxTdG9yYWdlUmVtb3ZlKGtleTogc3RyaW5nKTogYm9vbGVhbiB7XG4gIGlmICghaXNMb2NhbFN0b3JhZ2VBdmFpbGFibGUoKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBcbiAgdHJ5IHtcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHJlbW92aW5nIGxvY2FsU3RvcmFnZSBrZXkgJyR7a2V5fSc6YCwgZXJyb3IpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2hhcnREYXRhKGJpbGxpbmdEYXRhOiBCaWxsaW5nRGF0YVtdKTogQ2hhcnREYXRhW10ge1xuICByZXR1cm4gYmlsbGluZ0RhdGEubWFwKGRhdGEgPT4gKHtcbiAgICBuYW1lOiBkYXRhLnByb2plY3ROYW1lLFxuICAgIGJpbGxlZDogZGF0YS50b3RhbEJpbGxlZCxcbiAgICB1bmJpbGxlZDogZGF0YS50b3RhbFVuYmlsbGVkLFxuICAgIHByb2plY3RlZDogZGF0YS50b3RhbFByb2plY3RlZCxcbiAgfSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdGlhbGl6ZVByb2plY3Rpb25zVGFibGUocHJvamVjdHM6IFpvaG9Qcm9qZWN0W10pOiBQcm9qZWN0aW9uc1RhYmxlIHtcbiAgLy8gSGFuZGxlIHVuZGVmaW5lZCBvciBudWxsIHByb2plY3RzXG4gIGNvbnN0IHNhZmVQcm9qZWN0cyA9IHByb2plY3RzIHx8IFtdO1xuICBjb25zdCBtb250aFJhbmdlID0gZ2V0UHJvamVjdGlvbnNNb250aFJhbmdlKCk7XG4gIGNvbnN0IHRhYmxlOiBQcm9qZWN0aW9uc1RhYmxlID0ge307XG5cbiAgc2FmZVByb2plY3RzLmZvckVhY2gocHJvamVjdCA9PiB7XG4gICAgdGFibGVbcHJvamVjdC5wcm9qZWN0X2lkXSA9IHtcbiAgICAgIG1vbnRoczoge30sXG4gICAgICBhc3JGZWU6IDAsXG4gICAgfTtcbiAgICBtb250aFJhbmdlLmZvckVhY2gobW9udGggPT4ge1xuICAgICAgY29uc3QgaXNFZGl0YWJsZSA9IGlzRnV0dXJlTW9udGgobW9udGgpO1xuICAgICAgdGFibGVbcHJvamVjdC5wcm9qZWN0X2lkXS5tb250aHNbbW9udGhdID0ge1xuICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgaXNFZGl0YWJsZSxcbiAgICAgICAgaXNQcm9qZWN0ZWQ6IGlzRWRpdGFibGUsXG4gICAgICB9O1xuICAgIH0pO1xuICB9KTtcblxuICByZXR1cm4gdGFibGU7XG59IFxuXG4vLyBOZXcgZnVuY3Rpb25zIGZvciBDbG9ja2lmeSBpbnRlZ3JhdGlvblxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZVRpbWVUcmFja2luZ0tQSXMoY2xvY2tpZnlEYXRhOiBDbG9ja2lmeVRpbWVSZXBvcnQpOiBUaW1lVHJhY2tpbmdLUEkge1xuICBjb25zdCBlZmZpY2llbmN5ID0gY2xvY2tpZnlEYXRhLnRvdGFsSG91cnMgPiAwID8gY2xvY2tpZnlEYXRhLmJpbGxhYmxlSG91cnMgLyBjbG9ja2lmeURhdGEudG90YWxIb3VycyA6IDA7XG4gIGNvbnN0IGF2ZXJhZ2VIb3VybHlSYXRlID0gY2xvY2tpZnlEYXRhLmJpbGxhYmxlSG91cnMgPiAwID8gY2xvY2tpZnlEYXRhLmJpbGxhYmxlQW1vdW50IC8gY2xvY2tpZnlEYXRhLmJpbGxhYmxlSG91cnMgOiAwO1xuXG4gIHJldHVybiB7XG4gICAgcHJvamVjdElkOiBjbG9ja2lmeURhdGEucHJvamVjdElkLFxuICAgIHByb2plY3ROYW1lOiBjbG9ja2lmeURhdGEucHJvamVjdE5hbWUsXG4gICAgdG90YWxIb3VyczogY2xvY2tpZnlEYXRhLnRvdGFsSG91cnMsXG4gICAgYmlsbGFibGVIb3VyczogY2xvY2tpZnlEYXRhLmJpbGxhYmxlSG91cnMsXG4gICAgbm9uQmlsbGFibGVIb3VyczogY2xvY2tpZnlEYXRhLm5vbkJpbGxhYmxlSG91cnMsXG4gICAgaG91cmx5UmF0ZTogYXZlcmFnZUhvdXJseVJhdGUsXG4gICAgdG90YWxWYWx1ZTogY2xvY2tpZnlEYXRhLmJpbGxhYmxlQW1vdW50LFxuICAgIGVmZmljaWVuY3ksXG4gICAgcGVyaW9kOiBjbG9ja2lmeURhdGEucGVyaW9kLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW5oYW5jZUJpbGxpbmdEYXRhV2l0aENsb2NraWZ5KFxuICBiaWxsaW5nRGF0YTogQmlsbGluZ0RhdGFbXSxcbiAgY2xvY2tpZnlSZXBvcnRzOiBDbG9ja2lmeVRpbWVSZXBvcnRbXVxuKTogQmlsbGluZ0RhdGFbXSB7XG4gIHJldHVybiBiaWxsaW5nRGF0YS5tYXAocHJvamVjdCA9PiB7XG4gICAgY29uc3QgY2xvY2tpZnlSZXBvcnQgPSBjbG9ja2lmeVJlcG9ydHMuZmluZChyZXBvcnQgPT4gXG4gICAgICByZXBvcnQucHJvamVjdElkID09PSBwcm9qZWN0LnByb2plY3RJZCB8fCBcbiAgICAgIHJlcG9ydC5wcm9qZWN0TmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHByb2plY3QucHJvamVjdE5hbWUudG9Mb3dlckNhc2UoKSlcbiAgICApO1xuXG4gICAgaWYgKGNsb2NraWZ5UmVwb3J0KSB7XG4gICAgICBjb25zdCB0aW1lVHJhY2tpbmdLUEkgPSBjYWxjdWxhdGVUaW1lVHJhY2tpbmdLUElzKGNsb2NraWZ5UmVwb3J0KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucHJvamVjdCxcbiAgICAgICAgY2xvY2tpZnlEYXRhOiBjbG9ja2lmeVJlcG9ydCxcbiAgICAgICAgdG90YWxIb3VyczogY2xvY2tpZnlSZXBvcnQudG90YWxIb3VycyxcbiAgICAgICAgYmlsbGFibGVIb3VyczogY2xvY2tpZnlSZXBvcnQuYmlsbGFibGVIb3VycyxcbiAgICAgICAgbm9uQmlsbGFibGVIb3VyczogY2xvY2tpZnlSZXBvcnQubm9uQmlsbGFibGVIb3VycyxcbiAgICAgICAgaG91cmx5UmF0ZTogdGltZVRyYWNraW5nS1BJLmhvdXJseVJhdGUsXG4gICAgICAgIGVmZmljaWVuY3k6IHRpbWVUcmFja2luZ0tQSS5lZmZpY2llbmN5LFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvamVjdDtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVQcm9maXRhYmlsaXR5TWV0cmljcyhcbiAgYmlsbGluZ0RhdGE6IEJpbGxpbmdEYXRhLFxuICB0aW1lVHJhY2tpbmdLUEk/OiBUaW1lVHJhY2tpbmdLUElcbikge1xuICBjb25zdCByZXZlbnVlID0gYmlsbGluZ0RhdGEudG90YWxCaWxsZWQgKyBiaWxsaW5nRGF0YS50b3RhbFVuYmlsbGVkO1xuICBjb25zdCBjb3N0ID0gdGltZVRyYWNraW5nS1BJID8gdGltZVRyYWNraW5nS1BJLnRvdGFsVmFsdWUgOiAwO1xuICBjb25zdCBwcm9maXQgPSByZXZlbnVlIC0gY29zdDtcbiAgY29uc3QgbWFyZ2luID0gcmV2ZW51ZSA+IDAgPyAocHJvZml0IC8gcmV2ZW51ZSkgKiAxMDAgOiAwO1xuXG4gIHJldHVybiB7XG4gICAgcmV2ZW51ZSxcbiAgICBjb3N0LFxuICAgIHByb2ZpdCxcbiAgICBtYXJnaW4sXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRIb3Vycyhob3VyczogbnVtYmVyKTogc3RyaW5nIHtcbiAgY29uc3Qgd2hvbGVIb3VycyA9IE1hdGguZmxvb3IoaG91cnMpO1xuICBjb25zdCBtaW51dGVzID0gTWF0aC5yb3VuZCgoaG91cnMgLSB3aG9sZUhvdXJzKSAqIDYwKTtcbiAgcmV0dXJuIGAke3dob2xlSG91cnN9aCAke21pbnV0ZXN9bWA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRFZmZpY2llbmN5KGVmZmljaWVuY3k6IG51bWJlcik6IHN0cmluZyB7XG4gIHJldHVybiBgJHsoZWZmaWNpZW5jeSAqIDEwMCkudG9GaXhlZCgxKX0lYDtcbn0gIl0sIm5hbWVzIjpbImZvcm1hdCIsInN1Yk1vbnRocyIsImFkZE1vbnRocyIsInN0YXJ0T2ZNb250aCIsImVuZE9mTW9udGgiLCJjbHN4IiwidHdNZXJnZSIsImNuIiwiaW5wdXRzIiwiZ2VuZXJhdGVNb250aFJhbmdlIiwic3RhcnREYXRlIiwiZW5kRGF0ZSIsIm1vbnRocyIsImN1cnJlbnREYXRlIiwiZW5kIiwicHVzaCIsImdldEN1cnJlbnRNb250aFJhbmdlIiwibW9udGhzQmFjayIsIm1vbnRoc0ZvcndhcmQiLCJ0b2RheSIsIkRhdGUiLCJnZXRQcm9qZWN0aW9uc01vbnRoUmFuZ2UiLCJnZXRDaGFydE1vbnRoUmFuZ2UiLCJwcm9jZXNzQmlsbGluZ0RhdGEiLCJwcm9qZWN0cyIsImludm9pY2VzIiwicHJvamVjdGlvbnMiLCJzYWZlUHJvamVjdHMiLCJzYWZlSW52b2ljZXMiLCJzYWZlUHJvamVjdGlvbnMiLCJtb250aFJhbmdlIiwibWFwIiwicHJvamVjdCIsInByb2plY3RJbnZvaWNlcyIsImZpbHRlciIsImludm9pY2UiLCJwcm9qZWN0X2lkIiwibW9udGhseURhdGEiLCJtb250aCIsIm1vbnRoSW52b2ljZXMiLCJpbnZvaWNlTW9udGgiLCJkYXRlIiwiYmlsbGVkIiwicmVkdWNlIiwic3VtIiwiYmlsbGVkX2Ftb3VudCIsInVuYmlsbGVkIiwidW5iaWxsZWRfYW1vdW50IiwicHJvamVjdGVkIiwidmFsdWUiLCJhY3R1YWwiLCJ0b3RhbEJpbGxlZCIsImRhdGEiLCJ0b3RhbFVuYmlsbGVkIiwidG90YWxQcm9qZWN0ZWQiLCJwcm9qZWN0SWQiLCJwcm9qZWN0TmFtZSIsInByb2plY3RfbmFtZSIsImN1c3RvbWVyTmFtZSIsImN1c3RvbWVyX25hbWUiLCJzaWduZWRGZWUiLCJ1bmRlZmluZWQiLCJjYWxjdWxhdGVEYXNoYm9hcmRTdGF0cyIsImJpbGxpbmdEYXRhIiwiY2xvc2VkUHJvamVjdHMiLCJtb250aGx5UHJvamVjdGlvbnMiLCJtb250aGx5U3RhdHVzZXMiLCJBcnJheSIsImlzQXJyYXkiLCJ0b3RhbFByb2plY3RzIiwiYWN0aXZlUHJvamVjdHMiLCJ0b3RhbEhvdXJzIiwiYmlsbGFibGVIb3VycyIsIm5vbkJpbGxhYmxlSG91cnMiLCJhdmVyYWdlSG91cmx5UmF0ZSIsInRvdGFsVGltZVZhbHVlIiwiZWZmaWNpZW5jeSIsImF2ZXJhZ2VIb3Vyc1BlclByb2plY3QiLCJ0b3BQZXJmb3JtaW5nUHJvamVjdHMiLCJsZW5ndGgiLCJjbG9zZWRQcm9qZWN0c0NvdW50Iiwic2l6ZSIsInNhZmVMb2NhbFN0b3JhZ2VHZXQiLCJzdGF0dXNlcyIsImN1cnJlbnRZZWFyIiwiZ2V0RnVsbFllYXIiLCJ0b1N0cmluZyIsInRvdGFsQmlsbGVkWVREIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJwcm9qZWN0UHJvamVjdGlvbnMiLCJwcm9qZWN0U3RhdHVzZXMiLCJzdGFydHNXaXRoIiwiY3VycmVudE1vbnRoIiwidG9JU09TdHJpbmciLCJzbGljZSIsImJhY2tsb2ciLCJ0b3RhbEhvdXJseVJhdGUiLCJwcm9qZWN0c1dpdGhUaW1lRGF0YSIsInByb2plY3RFZmZpY2llbmNpZXMiLCJjbG9ja2lmeURhdGEiLCJ0aW1lRGF0YSIsImJpbGxhYmxlQW1vdW50IiwiaG91cnMiLCJzb3J0IiwiYSIsImIiLCJwIiwiZm9ybWF0Q3VycmVuY3kiLCJhbW91bnQiLCJJbnRsIiwiTnVtYmVyRm9ybWF0Iiwic3R5bGUiLCJjdXJyZW5jeSIsImZvcm1hdE1vbnRoIiwibW9udGhTdHJpbmciLCJ5ZWFyIiwic3BsaXQiLCJwYXJzZUludCIsImlzQ3VycmVudE1vbnRoIiwiaXNGdXR1cmVNb250aCIsImlzUGFzdE1vbnRoIiwiaXNMb2NhbFN0b3JhZ2VBdmFpbGFibGUiLCJ0ZXN0IiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJrZXkiLCJjb25zb2xlIiwid2FybiIsIml0ZW0iLCJnZXRJdGVtIiwiSlNPTiIsInBhcnNlIiwiZXJyb3IiLCJzYWZlTG9jYWxTdG9yYWdlU2V0Iiwic3RyaW5naWZ5Iiwic2FmZUxvY2FsU3RvcmFnZVJlbW92ZSIsImNyZWF0ZUNoYXJ0RGF0YSIsIm5hbWUiLCJpbml0aWFsaXplUHJvamVjdGlvbnNUYWJsZSIsInRhYmxlIiwiYXNyRmVlIiwiaXNFZGl0YWJsZSIsImlzUHJvamVjdGVkIiwiY2FsY3VsYXRlVGltZVRyYWNraW5nS1BJcyIsImhvdXJseVJhdGUiLCJ0b3RhbFZhbHVlIiwicGVyaW9kIiwiZW5oYW5jZUJpbGxpbmdEYXRhV2l0aENsb2NraWZ5IiwiY2xvY2tpZnlSZXBvcnRzIiwiY2xvY2tpZnlSZXBvcnQiLCJmaW5kIiwicmVwb3J0IiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsInRpbWVUcmFja2luZ0tQSSIsImNhbGN1bGF0ZVByb2ZpdGFiaWxpdHlNZXRyaWNzIiwicmV2ZW51ZSIsImNvc3QiLCJwcm9maXQiLCJtYXJnaW4iLCJmb3JtYXRIb3VycyIsIndob2xlSG91cnMiLCJNYXRoIiwiZmxvb3IiLCJtaW51dGVzIiwicm91bmQiLCJmb3JtYXRFZmZpY2llbmN5IiwidG9GaXhlZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/utils.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/date-fns","vendor-chunks/tailwind-merge","vendor-chunks/@babel","vendor-chunks/clsx"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fclockify%2Froute&page=%2Fapi%2Fclockify%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fclockify%2Froute.ts&appDir=C%3A%5CUsers%5CJonathan%5CDesktop%5CBilling%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CJonathan%5CDesktop%5CBilling&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();