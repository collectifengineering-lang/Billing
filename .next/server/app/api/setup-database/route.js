"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/setup-database/route";
exports.ids = ["app/api/setup-database/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsetup-database%2Froute&page=%2Fapi%2Fsetup-database%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsetup-database%2Froute.ts&appDir=C%3A%5CUsers%5CJohn%5CBillingPlatform%5CBilling%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CJohn%5CBillingPlatform%5CBilling&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsetup-database%2Froute&page=%2Fapi%2Fsetup-database%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsetup-database%2Froute.ts&appDir=C%3A%5CUsers%5CJohn%5CBillingPlatform%5CBilling%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CJohn%5CBillingPlatform%5CBilling&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_John_BillingPlatform_Billing_app_api_setup_database_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/setup-database/route.ts */ \"(rsc)/./app/api/setup-database/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/setup-database/route\",\n        pathname: \"/api/setup-database\",\n        filename: \"route\",\n        bundlePath: \"app/api/setup-database/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\John\\\\BillingPlatform\\\\Billing\\\\app\\\\api\\\\setup-database\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_John_BillingPlatform_Billing_app_api_setup_database_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/setup-database/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZzZXR1cC1kYXRhYmFzZSUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGc2V0dXAtZGF0YWJhc2UlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZzZXR1cC1kYXRhYmFzZSUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNKb2huJTVDQmlsbGluZ1BsYXRmb3JtJTVDQmlsbGluZyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDSm9obiU1Q0JpbGxpbmdQbGF0Zm9ybSU1Q0JpbGxpbmcmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQzZCO0FBQzFHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vem9oby1iaWxsaW5nLXBsYXRmb3JtLz82ZTAyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXEpvaG5cXFxcQmlsbGluZ1BsYXRmb3JtXFxcXEJpbGxpbmdcXFxcYXBwXFxcXGFwaVxcXFxzZXR1cC1kYXRhYmFzZVxcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvc2V0dXAtZGF0YWJhc2Uvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9zZXR1cC1kYXRhYmFzZVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvc2V0dXAtZGF0YWJhc2Uvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxKb2huXFxcXEJpbGxpbmdQbGF0Zm9ybVxcXFxCaWxsaW5nXFxcXGFwcFxcXFxhcGlcXFxcc2V0dXAtZGF0YWJhc2VcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3NldHVwLWRhdGFiYXNlL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsetup-database%2Froute&page=%2Fapi%2Fsetup-database%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsetup-database%2Froute.ts&appDir=C%3A%5CUsers%5CJohn%5CBillingPlatform%5CBilling%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CJohn%5CBillingPlatform%5CBilling&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/setup-database/route.ts":
/*!*****************************************!*\
  !*** ./app/api/setup-database/route.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   dynamic: () => (/* binding */ dynamic)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_database__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/database */ \"(rsc)/./lib/database.ts\");\n\n\n// Force dynamic rendering to prevent static generation\nconst dynamic = \"force-dynamic\";\nasync function POST() {\n    try {\n        console.log(\"Setting up database schema...\");\n        const success = await (0,_lib_database__WEBPACK_IMPORTED_MODULE_1__.createDatabaseSchema)();\n        if (success) {\n            console.log(\"Database schema setup completed successfully\");\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: true,\n                message: \"Database schema setup completed\"\n            });\n        } else {\n            console.error(\"Database schema setup failed\");\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Database schema setup failed\"\n            }, {\n                status: 500\n            });\n        }\n    } catch (error) {\n        console.error(\"Database setup failed:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Database setup failed\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3NldHVwLWRhdGFiYXNlL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBMkM7QUFDa0I7QUFFN0QsdURBQXVEO0FBQ2hELE1BQU1FLFVBQVUsZ0JBQWdCO0FBRWhDLGVBQWVDO0lBQ3BCLElBQUk7UUFDRkMsUUFBUUMsR0FBRyxDQUFDO1FBRVosTUFBTUMsVUFBVSxNQUFNTCxtRUFBb0JBO1FBRTFDLElBQUlLLFNBQVM7WUFDWEYsUUFBUUMsR0FBRyxDQUFDO1lBQ1osT0FBT0wscURBQVlBLENBQUNPLElBQUksQ0FBQztnQkFBRUQsU0FBUztnQkFBTUUsU0FBUztZQUFrQztRQUN2RixPQUFPO1lBQ0xKLFFBQVFLLEtBQUssQ0FBQztZQUNkLE9BQU9ULHFEQUFZQSxDQUFDTyxJQUFJLENBQUM7Z0JBQUVFLE9BQU87WUFBK0IsR0FBRztnQkFBRUMsUUFBUTtZQUFJO1FBQ3BGO0lBQ0YsRUFBRSxPQUFPRCxPQUFPO1FBQ2RMLFFBQVFLLEtBQUssQ0FBQywwQkFBMEJBO1FBQ3hDLE9BQU9ULHFEQUFZQSxDQUFDTyxJQUFJLENBQUM7WUFBRUUsT0FBTztRQUF3QixHQUFHO1lBQUVDLFFBQVE7UUFBSTtJQUM3RTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vem9oby1iaWxsaW5nLXBsYXRmb3JtLy4vYXBwL2FwaS9zZXR1cC1kYXRhYmFzZS9yb3V0ZS50cz82YmJiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcclxuaW1wb3J0IHsgY3JlYXRlRGF0YWJhc2VTY2hlbWEgfSBmcm9tICcuLi8uLi8uLi9saWIvZGF0YWJhc2UnO1xyXG5cclxuLy8gRm9yY2UgZHluYW1pYyByZW5kZXJpbmcgdG8gcHJldmVudCBzdGF0aWMgZ2VuZXJhdGlvblxyXG5leHBvcnQgY29uc3QgZHluYW1pYyA9ICdmb3JjZS1keW5hbWljJztcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zb2xlLmxvZygnU2V0dGluZyB1cCBkYXRhYmFzZSBzY2hlbWEuLi4nKTtcclxuICAgIFxyXG4gICAgY29uc3Qgc3VjY2VzcyA9IGF3YWl0IGNyZWF0ZURhdGFiYXNlU2NoZW1hKCk7XHJcbiAgICBcclxuICAgIGlmIChzdWNjZXNzKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdEYXRhYmFzZSBzY2hlbWEgc2V0dXAgY29tcGxldGVkIHN1Y2Nlc3NmdWxseScpO1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiAnRGF0YWJhc2Ugc2NoZW1hIHNldHVwIGNvbXBsZXRlZCcgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdEYXRhYmFzZSBzY2hlbWEgc2V0dXAgZmFpbGVkJyk7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnRGF0YWJhc2Ugc2NoZW1hIHNldHVwIGZhaWxlZCcgfSwgeyBzdGF0dXM6IDUwMCB9KTtcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRGF0YWJhc2Ugc2V0dXAgZmFpbGVkOicsIGVycm9yKTtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnRGF0YWJhc2Ugc2V0dXAgZmFpbGVkJyB9LCB7IHN0YXR1czogNTAwIH0pO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiY3JlYXRlRGF0YWJhc2VTY2hlbWEiLCJkeW5hbWljIiwiUE9TVCIsImNvbnNvbGUiLCJsb2ciLCJzdWNjZXNzIiwianNvbiIsIm1lc3NhZ2UiLCJlcnJvciIsInN0YXR1cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/setup-database/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/database.ts":
/*!*************************!*\
  !*** ./lib/database.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createDatabaseSchema: () => (/* binding */ createDatabaseSchema),\n/* harmony export */   ensureDatabaseSchema: () => (/* binding */ ensureDatabaseSchema),\n/* harmony export */   getAllEmployeeSalaries: () => (/* binding */ getAllEmployeeSalaries),\n/* harmony export */   getAllEmployeeTimeEntries: () => (/* binding */ getAllEmployeeTimeEntries),\n/* harmony export */   getAllEmployees: () => (/* binding */ getAllEmployees),\n/* harmony export */   getAllProjectMultipliers: () => (/* binding */ getAllProjectMultipliers),\n/* harmony export */   getBambooHRConfig: () => (/* binding */ getBambooHRConfig),\n/* harmony export */   prisma: () => (/* reexport safe */ _db__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   saveBambooHRConfig: () => (/* binding */ saveBambooHRConfig),\n/* harmony export */   saveEmployee: () => (/* binding */ saveEmployee),\n/* harmony export */   saveEmployeeSalary: () => (/* binding */ saveEmployeeSalary),\n/* harmony export */   saveEmployeeTimeEntry: () => (/* binding */ saveEmployeeTimeEntry),\n/* harmony export */   saveProjectMultiplier: () => (/* binding */ saveProjectMultiplier),\n/* harmony export */   testDatabaseConnection: () => (/* binding */ testDatabaseConnection)\n/* harmony export */ });\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./db */ \"(rsc)/./lib/db.ts\");\n\nasync function ensureDatabaseSchema() {\n    try {\n        // Check if tables already exist by trying to query them\n        await _db__WEBPACK_IMPORTED_MODULE_0__[\"default\"].projection.findFirst();\n        console.log(\"Database schema already exists\");\n        return true; // Tables exist\n    } catch (error) {\n        console.log(\"Tables do not exist, attempting to create schema...\");\n        // If it's a table doesn't exist error, we need to create the schema\n        if (error.code === \"P2021\" || error.message?.includes(\"does not exist\")) {\n            try {\n                // Try to create the schema by running a simple operation\n                // This will trigger Prisma to create the tables if using Prisma Accelerate\n                console.log(\"Attempting to create database schema...\");\n                // Try to create a test record to trigger table creation\n                await _db__WEBPACK_IMPORTED_MODULE_0__[\"default\"].projection.create({\n                    data: {\n                        projectId: \"__test__\",\n                        month: \"__test__\",\n                        value: 0\n                    }\n                });\n                // If successful, delete the test record\n                await _db__WEBPACK_IMPORTED_MODULE_0__[\"default\"].projection.deleteMany({\n                    where: {\n                        projectId: \"__test__\",\n                        month: \"__test__\"\n                    }\n                });\n                console.log(\"Database schema created successfully\");\n                return true;\n            } catch (createError) {\n                console.error(\"Failed to create database schema:\", createError);\n                return false;\n            }\n        }\n        console.log(\"Tables do not exist, but Prisma Accelerate will create them automatically\");\n        console.log(\"Note: With Prisma Accelerate, tables are created automatically when you first insert data\");\n        return false; // Tables don't exist yet\n    }\n}\nasync function createDatabaseSchema() {\n    try {\n        console.log(\"Creating database schema...\");\n        // This will create all tables defined in the schema\n        // We'll use a more direct approach by trying to create the schema\n        const result = await ensureDatabaseSchema();\n        if (result) {\n            console.log(\"Database schema creation completed successfully\");\n            return true;\n        } else {\n            console.error(\"Database schema creation failed\");\n            return false;\n        }\n    } catch (error) {\n        console.error(\"Database schema creation failed:\", error);\n        return false;\n    }\n}\nasync function testDatabaseConnection() {\n    try {\n        // Test basic connection\n        await _db__WEBPACK_IMPORTED_MODULE_0__[\"default\"].$connect();\n        console.log(\"Database connection successful\");\n        // Test a simple query\n        const result = await _db__WEBPACK_IMPORTED_MODULE_0__[\"default\"].$queryRaw`SELECT 1 as test`;\n        console.log(\"Database query test successful:\", result);\n        return true;\n    } catch (error) {\n        console.error(\"Database connection test failed:\", error);\n        // Provide specific error guidance\n        if (error.message?.includes(\"ENOTFOUND\")) {\n            console.error(\"Network error: Check your DATABASE_URL and network connectivity\");\n        } else if (error.message?.includes(\"authentication failed\")) {\n            console.error(\"Authentication error: Check your database credentials\");\n        } else if (error.message?.includes(\"does not exist\")) {\n            console.error(\"Database does not exist: Check your database name in the connection URL\");\n        } else if (error.message?.includes(\"connection timeout\")) {\n            console.error(\"Connection timeout: Check your network and database server status\");\n        }\n        return false;\n    } finally{\n        await _db__WEBPACK_IMPORTED_MODULE_0__[\"default\"].$disconnect();\n    }\n}\n// BambooHR Database Operations\nasync function saveBambooHRConfig(config) {\n    try {\n        const result = await _db__WEBPACK_IMPORTED_MODULE_0__[\"default\"].bambooHRConfig.upsert({\n            where: {\n                subdomain: config.subdomain\n            },\n            update: {\n                apiKey: config.apiKey,\n                webhookSecret: config.webhookSecret,\n                isActive: true,\n                lastSync: new Date(),\n                updatedAt: new Date()\n            },\n            create: {\n                subdomain: config.subdomain,\n                apiKey: config.apiKey,\n                webhookSecret: config.webhookSecret,\n                isActive: true,\n                lastSync: new Date()\n            }\n        });\n        console.log(`BambooHR config saved for subdomain: ${config.subdomain}`);\n        return result;\n    } catch (error) {\n        console.error(\"Error saving BambooHR config:\", error);\n        throw error;\n    }\n}\nasync function getBambooHRConfig(subdomain) {\n    try {\n        return await _db__WEBPACK_IMPORTED_MODULE_0__[\"default\"].bambooHRConfig.findUnique({\n            where: {\n                subdomain\n            }\n        });\n    } catch (error) {\n        console.error(\"Error getting BambooHR config:\", error);\n        throw error;\n    }\n}\nasync function saveEmployee(employee) {\n    try {\n        console.log(`🔄 Attempting to upsert employee:`, JSON.stringify(employee, null, 2));\n        const result = await _db__WEBPACK_IMPORTED_MODULE_0__[\"default\"].employee.upsert({\n            where: {\n                id: employee.id\n            },\n            update: {\n                name: employee.name,\n                email: employee.email,\n                status: employee.status,\n                department: employee.department,\n                position: employee.position,\n                hireDate: employee.hireDate || null,\n                terminationDate: employee.terminationDate,\n                updatedAt: new Date()\n            },\n            create: {\n                id: employee.id,\n                name: employee.name,\n                email: employee.email,\n                status: employee.status,\n                department: employee.department,\n                position: employee.position,\n                hireDate: employee.hireDate || null,\n                terminationDate: employee.terminationDate\n            }\n        });\n        console.log(`✅ Employee saved: ${employee.name} (${employee.id})`);\n        return result;\n    } catch (error) {\n        console.error(\"❌ Error saving employee:\", error);\n        // Handle P2025 (record not found) error\n        if (error.code === \"P2025\") {\n            console.log(`🔄 Record not found, attempting to create employee: ${employee.name} (${employee.id})`);\n            try {\n                const result = await _db__WEBPACK_IMPORTED_MODULE_0__[\"default\"].employee.create({\n                    data: {\n                        id: employee.id,\n                        name: employee.name,\n                        email: employee.email,\n                        status: employee.status,\n                        department: employee.department,\n                        position: employee.position,\n                        hireDate: employee.hireDate || null,\n                        terminationDate: employee.terminationDate\n                    }\n                });\n                console.log(`✅ Employee created: ${employee.name} (${employee.id})`);\n                return result;\n            } catch (createError) {\n                console.error(\"❌ Error creating employee:\", createError);\n                throw createError;\n            }\n        }\n        throw error;\n    }\n}\nasync function saveEmployeeSalary(salary) {\n    try {\n        console.log(`🔄 Attempting to upsert employee salary:`, JSON.stringify(salary, null, 2));\n        const result = await _db__WEBPACK_IMPORTED_MODULE_0__[\"default\"].employeeSalary.upsert({\n            where: {\n                employeeId_effectiveDate: {\n                    employeeId: salary.employeeId,\n                    effectiveDate: salary.effectiveDate\n                }\n            },\n            update: {\n                endDate: salary.endDate,\n                annualSalary: salary.annualSalary,\n                hourlyRate: salary.hourlyRate,\n                currency: salary.currency,\n                notes: salary.notes,\n                source: salary.source,\n                updatedAt: new Date()\n            },\n            create: {\n                employeeId: salary.employeeId,\n                effectiveDate: salary.effectiveDate,\n                endDate: salary.endDate,\n                annualSalary: salary.annualSalary,\n                hourlyRate: salary.hourlyRate,\n                currency: salary.currency || \"USD\",\n                notes: salary.notes,\n                source: salary.source || \"bamboohr\"\n            }\n        });\n        console.log(`✅ Employee salary saved for ${salary.employeeId} effective ${salary.effectiveDate}`);\n        return result;\n    } catch (error) {\n        console.error(\"❌ Error saving employee salary:\", error);\n        // Handle P2025 (record not found) error\n        if (error.code === \"P2025\") {\n            console.log(`🔄 Record not found, attempting to create employee salary for ${salary.employeeId} effective ${salary.effectiveDate}`);\n            try {\n                const result = await _db__WEBPACK_IMPORTED_MODULE_0__[\"default\"].employeeSalary.create({\n                    data: {\n                        employeeId: salary.employeeId,\n                        effectiveDate: salary.effectiveDate,\n                        endDate: salary.endDate,\n                        annualSalary: salary.annualSalary,\n                        hourlyRate: salary.hourlyRate,\n                        currency: salary.currency || \"USD\",\n                        notes: salary.notes,\n                        source: salary.source || \"bamboohr\"\n                    }\n                });\n                console.log(`✅ Employee salary created for ${salary.employeeId} effective ${salary.effectiveDate}`);\n                return result;\n            } catch (createError) {\n                console.error(\"❌ Error creating employee salary:\", createError);\n                throw createError;\n            }\n        }\n        throw error;\n    }\n}\nasync function saveProjectMultiplier(multiplier) {\n    try {\n        const result = await _db__WEBPACK_IMPORTED_MODULE_0__[\"default\"].projectMultiplier.upsert({\n            where: {\n                projectId_effectiveDate: {\n                    projectId: multiplier.projectId,\n                    effectiveDate: multiplier.effectiveDate\n                }\n            },\n            update: {\n                projectName: multiplier.projectName,\n                multiplier: multiplier.multiplier,\n                endDate: multiplier.endDate,\n                notes: multiplier.notes,\n                updatedAt: new Date()\n            },\n            create: {\n                projectId: multiplier.projectId,\n                projectName: multiplier.projectName,\n                multiplier: multiplier.multiplier,\n                effectiveDate: multiplier.effectiveDate,\n                endDate: multiplier.endDate,\n                notes: multiplier.notes\n            }\n        });\n        console.log(`Project multiplier saved for ${multiplier.projectName} effective ${multiplier.effectiveDate}`);\n        return result;\n    } catch (error) {\n        console.error(\"Error saving project multiplier:\", error);\n        throw error;\n    }\n}\nasync function saveEmployeeTimeEntry(timeEntry) {\n    try {\n        const result = await _db__WEBPACK_IMPORTED_MODULE_0__[\"default\"].employeeTimeEntry.upsert({\n            where: {\n                employeeId_projectId_date: {\n                    employeeId: timeEntry.employeeId,\n                    projectId: timeEntry.projectId,\n                    date: timeEntry.date\n                }\n            },\n            update: {\n                employeeName: timeEntry.employeeName,\n                projectName: timeEntry.projectName,\n                hours: timeEntry.hours,\n                billableHours: timeEntry.billableHours,\n                nonBillableHours: timeEntry.nonBillableHours,\n                hourlyRate: timeEntry.hourlyRate,\n                projectMultiplier: timeEntry.projectMultiplier,\n                totalCost: timeEntry.totalCost,\n                billableValue: timeEntry.billableValue,\n                efficiency: timeEntry.efficiency,\n                description: timeEntry.description,\n                tags: timeEntry.tags,\n                updatedAt: new Date()\n            },\n            create: {\n                employeeId: timeEntry.employeeId,\n                employeeName: timeEntry.employeeName,\n                projectId: timeEntry.projectId,\n                projectName: timeEntry.projectName,\n                date: timeEntry.date,\n                hours: timeEntry.hours,\n                billableHours: timeEntry.billableHours,\n                nonBillableHours: timeEntry.nonBillableHours,\n                hourlyRate: timeEntry.hourlyRate,\n                projectMultiplier: timeEntry.projectMultiplier,\n                totalCost: timeEntry.totalCost,\n                billableValue: timeEntry.billableValue,\n                efficiency: timeEntry.efficiency,\n                description: timeEntry.description,\n                tags: timeEntry.tags\n            }\n        });\n        console.log(`Time entry saved for ${timeEntry.employeeName} on ${timeEntry.date}`);\n        return result;\n    } catch (error) {\n        console.error(\"Error saving time entry:\", error);\n        throw error;\n    }\n}\nasync function getAllEmployees() {\n    try {\n        return await _db__WEBPACK_IMPORTED_MODULE_0__[\"default\"].employee.findMany({\n            include: {\n                salaries: true\n            }\n        });\n    } catch (error) {\n        console.error(\"Error getting all employees:\", error);\n        throw error;\n    }\n}\nasync function getAllEmployeeSalaries() {\n    try {\n        return await _db__WEBPACK_IMPORTED_MODULE_0__[\"default\"].employeeSalary.findMany({\n            include: {\n                employee: true\n            }\n        });\n    } catch (error) {\n        console.error(\"Error getting all employee salaries:\", error);\n        throw error;\n    }\n}\nasync function getAllProjectMultipliers() {\n    try {\n        return await _db__WEBPACK_IMPORTED_MODULE_0__[\"default\"].projectMultiplier.findMany();\n    } catch (error) {\n        console.error(\"Error getting all project multipliers:\", error);\n        throw error;\n    }\n}\nasync function getAllEmployeeTimeEntries() {\n    try {\n        return await _db__WEBPACK_IMPORTED_MODULE_0__[\"default\"].employeeTimeEntry.findMany({\n            include: {\n                employee: true\n            }\n        });\n    } catch (error) {\n        console.error(\"Error getting all time entries:\", error);\n        throw error;\n    }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q3BCLElBQUk7UUFDRixPQUFPLE1BQU1qRiwyQ0FBTUEsQ0FBQ3VDLFFBQVEsQ0FBQzJDLFFBQVEsQ0FBQztZQUNwQ0MsU0FBUztnQkFDUEMsVUFBVTtZQUNaO1FBQ0Y7SUFDRixFQUFFLE9BQU85RSxPQUFPO1FBQ2RGLFFBQVFFLEtBQUssQ0FBQyxnQ0FBZ0NBO1FBQzlDLE1BQU1BO0lBQ1I7QUFDRjtBQUVPLGVBQWUrRTtJQUNwQixJQUFJO1FBQ0YsT0FBTyxNQUFNckYsMkNBQU1BLENBQUNvRCxjQUFjLENBQUM4QixRQUFRLENBQUM7WUFDMUNDLFNBQVM7Z0JBQ1A1QyxVQUFVO1lBQ1o7UUFDRjtJQUNGLEVBQUUsT0FBT2pDLE9BQU87UUFDZEYsUUFBUUUsS0FBSyxDQUFDLHdDQUF3Q0E7UUFDdEQsTUFBTUE7SUFDUjtBQUNGO0FBRU8sZUFBZWdGO0lBQ3BCLElBQUk7UUFDRixPQUFPLE1BQU10RiwyQ0FBTUEsQ0FBQ2dFLGlCQUFpQixDQUFDa0IsUUFBUTtJQUNoRCxFQUFFLE9BQU81RSxPQUFPO1FBQ2RGLFFBQVFFLEtBQUssQ0FBQywwQ0FBMENBO1FBQ3hELE1BQU1BO0lBQ1I7QUFDRjtBQUVPLGVBQWVpRjtJQUNwQixJQUFJO1FBQ0YsT0FBTyxNQUFNdkYsMkNBQU1BLENBQUNxRSxpQkFBaUIsQ0FBQ2EsUUFBUSxDQUFDO1lBQzdDQyxTQUFTO2dCQUNQNUMsVUFBVTtZQUNaO1FBQ0Y7SUFDRixFQUFFLE9BQU9qQyxPQUFPO1FBQ2RGLFFBQVFFLEtBQUssQ0FBQyxtQ0FBbUNBO1FBQ2pELE1BQU1BO0lBQ1I7QUFDRjtBQUVrQiIsInNvdXJjZXMiOlsid2VicGFjazovL3pvaG8tYmlsbGluZy1wbGF0Zm9ybS8uL2xpYi9kYXRhYmFzZS50cz80ZDQ5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwcmlzbWEgZnJvbSAnLi9kYic7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZW5zdXJlRGF0YWJhc2VTY2hlbWEoKSB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGlmIHRhYmxlcyBhbHJlYWR5IGV4aXN0IGJ5IHRyeWluZyB0byBxdWVyeSB0aGVtXHJcbiAgICBhd2FpdCBwcmlzbWEucHJvamVjdGlvbi5maW5kRmlyc3QoKTtcclxuICAgIGNvbnNvbGUubG9nKCdEYXRhYmFzZSBzY2hlbWEgYWxyZWFkeSBleGlzdHMnKTtcclxuICAgIHJldHVybiB0cnVlOyAvLyBUYWJsZXMgZXhpc3RcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICBjb25zb2xlLmxvZygnVGFibGVzIGRvIG5vdCBleGlzdCwgYXR0ZW1wdGluZyB0byBjcmVhdGUgc2NoZW1hLi4uJyk7XHJcbiAgICBcclxuICAgIC8vIElmIGl0J3MgYSB0YWJsZSBkb2Vzbid0IGV4aXN0IGVycm9yLCB3ZSBuZWVkIHRvIGNyZWF0ZSB0aGUgc2NoZW1hXHJcbiAgICBpZiAoZXJyb3IuY29kZSA9PT0gJ1AyMDIxJyB8fCBlcnJvci5tZXNzYWdlPy5pbmNsdWRlcygnZG9lcyBub3QgZXhpc3QnKSkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIC8vIFRyeSB0byBjcmVhdGUgdGhlIHNjaGVtYSBieSBydW5uaW5nIGEgc2ltcGxlIG9wZXJhdGlvblxyXG4gICAgICAgIC8vIFRoaXMgd2lsbCB0cmlnZ2VyIFByaXNtYSB0byBjcmVhdGUgdGhlIHRhYmxlcyBpZiB1c2luZyBQcmlzbWEgQWNjZWxlcmF0ZVxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdBdHRlbXB0aW5nIHRvIGNyZWF0ZSBkYXRhYmFzZSBzY2hlbWEuLi4nKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBUcnkgdG8gY3JlYXRlIGEgdGVzdCByZWNvcmQgdG8gdHJpZ2dlciB0YWJsZSBjcmVhdGlvblxyXG4gICAgICAgIGF3YWl0IHByaXNtYS5wcm9qZWN0aW9uLmNyZWF0ZSh7XHJcbiAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgIHByb2plY3RJZDogJ19fdGVzdF9fJyxcclxuICAgICAgICAgICAgbW9udGg6ICdfX3Rlc3RfXycsXHJcbiAgICAgICAgICAgIHZhbHVlOiAwXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gSWYgc3VjY2Vzc2Z1bCwgZGVsZXRlIHRoZSB0ZXN0IHJlY29yZFxyXG4gICAgICAgIGF3YWl0IHByaXNtYS5wcm9qZWN0aW9uLmRlbGV0ZU1hbnkoe1xyXG4gICAgICAgICAgd2hlcmU6IHtcclxuICAgICAgICAgICAgcHJvamVjdElkOiAnX190ZXN0X18nLFxyXG4gICAgICAgICAgICBtb250aDogJ19fdGVzdF9fJ1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdEYXRhYmFzZSBzY2hlbWEgY3JlYXRlZCBzdWNjZXNzZnVsbHknKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfSBjYXRjaCAoY3JlYXRlRXJyb3I6IGFueSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBjcmVhdGUgZGF0YWJhc2Ugc2NoZW1hOicsIGNyZWF0ZUVycm9yKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coJ1RhYmxlcyBkbyBub3QgZXhpc3QsIGJ1dCBQcmlzbWEgQWNjZWxlcmF0ZSB3aWxsIGNyZWF0ZSB0aGVtIGF1dG9tYXRpY2FsbHknKTtcclxuICAgIGNvbnNvbGUubG9nKCdOb3RlOiBXaXRoIFByaXNtYSBBY2NlbGVyYXRlLCB0YWJsZXMgYXJlIGNyZWF0ZWQgYXV0b21hdGljYWxseSB3aGVuIHlvdSBmaXJzdCBpbnNlcnQgZGF0YScpO1xyXG4gICAgcmV0dXJuIGZhbHNlOyAvLyBUYWJsZXMgZG9uJ3QgZXhpc3QgeWV0XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlRGF0YWJhc2VTY2hlbWEoKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnNvbGUubG9nKCdDcmVhdGluZyBkYXRhYmFzZSBzY2hlbWEuLi4nKTtcclxuICAgIFxyXG4gICAgLy8gVGhpcyB3aWxsIGNyZWF0ZSBhbGwgdGFibGVzIGRlZmluZWQgaW4gdGhlIHNjaGVtYVxyXG4gICAgLy8gV2UnbGwgdXNlIGEgbW9yZSBkaXJlY3QgYXBwcm9hY2ggYnkgdHJ5aW5nIHRvIGNyZWF0ZSB0aGUgc2NoZW1hXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBlbnN1cmVEYXRhYmFzZVNjaGVtYSgpO1xyXG4gICAgXHJcbiAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdEYXRhYmFzZSBzY2hlbWEgY3JlYXRpb24gY29tcGxldGVkIHN1Y2Nlc3NmdWxseScpO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0RhdGFiYXNlIHNjaGVtYSBjcmVhdGlvbiBmYWlsZWQnKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdEYXRhYmFzZSBzY2hlbWEgY3JlYXRpb24gZmFpbGVkOicsIGVycm9yKTtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0ZXN0RGF0YWJhc2VDb25uZWN0aW9uKCkge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBUZXN0IGJhc2ljIGNvbm5lY3Rpb25cclxuICAgIGF3YWl0IHByaXNtYS4kY29ubmVjdCgpO1xyXG4gICAgY29uc29sZS5sb2coJ0RhdGFiYXNlIGNvbm5lY3Rpb24gc3VjY2Vzc2Z1bCcpO1xyXG4gICAgXHJcbiAgICAvLyBUZXN0IGEgc2ltcGxlIHF1ZXJ5XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwcmlzbWEuJHF1ZXJ5UmF3YFNFTEVDVCAxIGFzIHRlc3RgO1xyXG4gICAgY29uc29sZS5sb2coJ0RhdGFiYXNlIHF1ZXJ5IHRlc3Qgc3VjY2Vzc2Z1bDonLCByZXN1bHQpO1xyXG4gICAgXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdEYXRhYmFzZSBjb25uZWN0aW9uIHRlc3QgZmFpbGVkOicsIGVycm9yKTtcclxuICAgIFxyXG4gICAgLy8gUHJvdmlkZSBzcGVjaWZpYyBlcnJvciBndWlkYW5jZVxyXG4gICAgaWYgKGVycm9yLm1lc3NhZ2U/LmluY2x1ZGVzKCdFTk9URk9VTkQnKSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdOZXR3b3JrIGVycm9yOiBDaGVjayB5b3VyIERBVEFCQVNFX1VSTCBhbmQgbmV0d29yayBjb25uZWN0aXZpdHknKTtcclxuICAgIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZT8uaW5jbHVkZXMoJ2F1dGhlbnRpY2F0aW9uIGZhaWxlZCcpKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0F1dGhlbnRpY2F0aW9uIGVycm9yOiBDaGVjayB5b3VyIGRhdGFiYXNlIGNyZWRlbnRpYWxzJyk7XHJcbiAgICB9IGVsc2UgaWYgKGVycm9yLm1lc3NhZ2U/LmluY2x1ZGVzKCdkb2VzIG5vdCBleGlzdCcpKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0RhdGFiYXNlIGRvZXMgbm90IGV4aXN0OiBDaGVjayB5b3VyIGRhdGFiYXNlIG5hbWUgaW4gdGhlIGNvbm5lY3Rpb24gVVJMJyk7XHJcbiAgICB9IGVsc2UgaWYgKGVycm9yLm1lc3NhZ2U/LmluY2x1ZGVzKCdjb25uZWN0aW9uIHRpbWVvdXQnKSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdDb25uZWN0aW9uIHRpbWVvdXQ6IENoZWNrIHlvdXIgbmV0d29yayBhbmQgZGF0YWJhc2Ugc2VydmVyIHN0YXR1cycpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfSBmaW5hbGx5IHtcclxuICAgIGF3YWl0IHByaXNtYS4kZGlzY29ubmVjdCgpO1xyXG4gIH1cclxufVxyXG5cclxuLy8gQmFtYm9vSFIgRGF0YWJhc2UgT3BlcmF0aW9uc1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2F2ZUJhbWJvb0hSQ29uZmlnKGNvbmZpZzoge1xyXG4gIHN1YmRvbWFpbjogc3RyaW5nO1xyXG4gIGFwaUtleTogc3RyaW5nO1xyXG4gIHdlYmhvb2tTZWNyZXQ/OiBzdHJpbmc7XHJcbn0pIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHJpc21hLmJhbWJvb0hSQ29uZmlnLnVwc2VydCh7XHJcbiAgICAgIHdoZXJlOiB7IHN1YmRvbWFpbjogY29uZmlnLnN1YmRvbWFpbiB9LFxyXG4gICAgICB1cGRhdGU6IHtcclxuICAgICAgICBhcGlLZXk6IGNvbmZpZy5hcGlLZXksXHJcbiAgICAgICAgd2ViaG9va1NlY3JldDogY29uZmlnLndlYmhvb2tTZWNyZXQsXHJcbiAgICAgICAgaXNBY3RpdmU6IHRydWUsXHJcbiAgICAgICAgbGFzdFN5bmM6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpXHJcbiAgICAgIH0sXHJcbiAgICAgIGNyZWF0ZToge1xyXG4gICAgICAgIHN1YmRvbWFpbjogY29uZmlnLnN1YmRvbWFpbixcclxuICAgICAgICBhcGlLZXk6IGNvbmZpZy5hcGlLZXksXHJcbiAgICAgICAgd2ViaG9va1NlY3JldDogY29uZmlnLndlYmhvb2tTZWNyZXQsXHJcbiAgICAgICAgaXNBY3RpdmU6IHRydWUsXHJcbiAgICAgICAgbGFzdFN5bmM6IG5ldyBEYXRlKClcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKGBCYW1ib29IUiBjb25maWcgc2F2ZWQgZm9yIHN1YmRvbWFpbjogJHtjb25maWcuc3ViZG9tYWlufWApO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIEJhbWJvb0hSIGNvbmZpZzonLCBlcnJvcik7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRCYW1ib29IUkNvbmZpZyhzdWJkb21haW46IHN0cmluZykge1xyXG4gIHRyeSB7XHJcbiAgICByZXR1cm4gYXdhaXQgcHJpc21hLmJhbWJvb0hSQ29uZmlnLmZpbmRVbmlxdWUoe1xyXG4gICAgICB3aGVyZTogeyBzdWJkb21haW4gfVxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgQmFtYm9vSFIgY29uZmlnOicsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNhdmVFbXBsb3llZShlbXBsb3llZToge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIGVtYWlsPzogc3RyaW5nIHwgbnVsbDtcclxuICBzdGF0dXM6IHN0cmluZztcclxuICBkZXBhcnRtZW50Pzogc3RyaW5nO1xyXG4gIHBvc2l0aW9uPzogc3RyaW5nO1xyXG4gIGhpcmVEYXRlPzogc3RyaW5nIHwgbnVsbDtcclxuICB0ZXJtaW5hdGlvbkRhdGU/OiBzdHJpbmc7XHJcbn0pIHtcclxuICB0cnkge1xyXG4gICAgY29uc29sZS5sb2coYPCflIQgQXR0ZW1wdGluZyB0byB1cHNlcnQgZW1wbG95ZWU6YCwgSlNPTi5zdHJpbmdpZnkoZW1wbG95ZWUsIG51bGwsIDIpKTtcclxuICAgIFxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHJpc21hLmVtcGxveWVlLnVwc2VydCh7XHJcbiAgICAgIHdoZXJlOiB7IGlkOiBlbXBsb3llZS5pZCB9LFxyXG4gICAgICB1cGRhdGU6IHtcclxuICAgICAgICBuYW1lOiBlbXBsb3llZS5uYW1lLFxyXG4gICAgICAgIGVtYWlsOiBlbXBsb3llZS5lbWFpbCxcclxuICAgICAgICBzdGF0dXM6IGVtcGxveWVlLnN0YXR1cyxcclxuICAgICAgICBkZXBhcnRtZW50OiBlbXBsb3llZS5kZXBhcnRtZW50LFxyXG4gICAgICAgIHBvc2l0aW9uOiBlbXBsb3llZS5wb3NpdGlvbixcclxuICAgICAgICBoaXJlRGF0ZTogZW1wbG95ZWUuaGlyZURhdGUgfHwgbnVsbCxcclxuICAgICAgICB0ZXJtaW5hdGlvbkRhdGU6IGVtcGxveWVlLnRlcm1pbmF0aW9uRGF0ZSxcclxuICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKClcclxuICAgICAgfSxcclxuICAgICAgY3JlYXRlOiB7XHJcbiAgICAgICAgaWQ6IGVtcGxveWVlLmlkLFxyXG4gICAgICAgIG5hbWU6IGVtcGxveWVlLm5hbWUsXHJcbiAgICAgICAgZW1haWw6IGVtcGxveWVlLmVtYWlsLFxyXG4gICAgICAgIHN0YXR1czogZW1wbG95ZWUuc3RhdHVzLFxyXG4gICAgICAgIGRlcGFydG1lbnQ6IGVtcGxveWVlLmRlcGFydG1lbnQsXHJcbiAgICAgICAgcG9zaXRpb246IGVtcGxveWVlLnBvc2l0aW9uLFxyXG4gICAgICAgIGhpcmVEYXRlOiBlbXBsb3llZS5oaXJlRGF0ZSB8fCBudWxsLFxyXG4gICAgICAgIHRlcm1pbmF0aW9uRGF0ZTogZW1wbG95ZWUudGVybWluYXRpb25EYXRlXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZyhg4pyFIEVtcGxveWVlIHNhdmVkOiAke2VtcGxveWVlLm5hbWV9ICgke2VtcGxveWVlLmlkfSlgKTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIHNhdmluZyBlbXBsb3llZTonLCBlcnJvcik7XHJcbiAgICBcclxuICAgIC8vIEhhbmRsZSBQMjAyNSAocmVjb3JkIG5vdCBmb3VuZCkgZXJyb3JcclxuICAgIGlmIChlcnJvci5jb2RlID09PSAnUDIwMjUnKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGDwn5SEIFJlY29yZCBub3QgZm91bmQsIGF0dGVtcHRpbmcgdG8gY3JlYXRlIGVtcGxveWVlOiAke2VtcGxveWVlLm5hbWV9ICgke2VtcGxveWVlLmlkfSlgKTtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwcmlzbWEuZW1wbG95ZWUuY3JlYXRlKHtcclxuICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgaWQ6IGVtcGxveWVlLmlkLFxyXG4gICAgICAgICAgICBuYW1lOiBlbXBsb3llZS5uYW1lLFxyXG4gICAgICAgICAgICBlbWFpbDogZW1wbG95ZWUuZW1haWwsXHJcbiAgICAgICAgICAgIHN0YXR1czogZW1wbG95ZWUuc3RhdHVzLFxyXG4gICAgICAgICAgICBkZXBhcnRtZW50OiBlbXBsb3llZS5kZXBhcnRtZW50LFxyXG4gICAgICAgICAgICBwb3NpdGlvbjogZW1wbG95ZWUucG9zaXRpb24sXHJcbiAgICAgICAgICAgIGhpcmVEYXRlOiBlbXBsb3llZS5oaXJlRGF0ZSB8fCBudWxsLFxyXG4gICAgICAgICAgICB0ZXJtaW5hdGlvbkRhdGU6IGVtcGxveWVlLnRlcm1pbmF0aW9uRGF0ZVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGDinIUgRW1wbG95ZWUgY3JlYXRlZDogJHtlbXBsb3llZS5uYW1lfSAoJHtlbXBsb3llZS5pZH0pYCk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgfSBjYXRjaCAoY3JlYXRlRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgY3JlYXRpbmcgZW1wbG95ZWU6JywgY3JlYXRlRXJyb3IpO1xyXG4gICAgICAgIHRocm93IGNyZWF0ZUVycm9yO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNhdmVFbXBsb3llZVNhbGFyeShzYWxhcnk6IHtcclxuICBlbXBsb3llZUlkOiBzdHJpbmc7XHJcbiAgZWZmZWN0aXZlRGF0ZTogc3RyaW5nO1xyXG4gIGVuZERhdGU/OiBzdHJpbmcgfCBudWxsO1xyXG4gIGFubnVhbFNhbGFyeTogbnVtYmVyO1xyXG4gIGhvdXJseVJhdGU6IG51bWJlcjtcclxuICBjdXJyZW5jeT86IHN0cmluZztcclxuICBub3Rlcz86IHN0cmluZztcclxuICBzb3VyY2U/OiBzdHJpbmc7XHJcbn0pIHtcclxuICB0cnkge1xyXG4gICAgY29uc29sZS5sb2coYPCflIQgQXR0ZW1wdGluZyB0byB1cHNlcnQgZW1wbG95ZWUgc2FsYXJ5OmAsIEpTT04uc3RyaW5naWZ5KHNhbGFyeSwgbnVsbCwgMikpO1xyXG4gICAgXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwcmlzbWEuZW1wbG95ZWVTYWxhcnkudXBzZXJ0KHtcclxuICAgICAgd2hlcmU6IHtcclxuICAgICAgICBlbXBsb3llZUlkX2VmZmVjdGl2ZURhdGU6IHtcclxuICAgICAgICAgIGVtcGxveWVlSWQ6IHNhbGFyeS5lbXBsb3llZUlkLFxyXG4gICAgICAgICAgZWZmZWN0aXZlRGF0ZTogc2FsYXJ5LmVmZmVjdGl2ZURhdGVcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIHVwZGF0ZToge1xyXG4gICAgICAgIGVuZERhdGU6IHNhbGFyeS5lbmREYXRlLFxyXG4gICAgICAgIGFubnVhbFNhbGFyeTogc2FsYXJ5LmFubnVhbFNhbGFyeSxcclxuICAgICAgICBob3VybHlSYXRlOiBzYWxhcnkuaG91cmx5UmF0ZSxcclxuICAgICAgICBjdXJyZW5jeTogc2FsYXJ5LmN1cnJlbmN5LFxyXG4gICAgICAgIG5vdGVzOiBzYWxhcnkubm90ZXMsXHJcbiAgICAgICAgc291cmNlOiBzYWxhcnkuc291cmNlLFxyXG4gICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKVxyXG4gICAgICB9LFxyXG4gICAgICBjcmVhdGU6IHtcclxuICAgICAgICBlbXBsb3llZUlkOiBzYWxhcnkuZW1wbG95ZWVJZCxcclxuICAgICAgICBlZmZlY3RpdmVEYXRlOiBzYWxhcnkuZWZmZWN0aXZlRGF0ZSxcclxuICAgICAgICBlbmREYXRlOiBzYWxhcnkuZW5kRGF0ZSxcclxuICAgICAgICBhbm51YWxTYWxhcnk6IHNhbGFyeS5hbm51YWxTYWxhcnksXHJcbiAgICAgICAgaG91cmx5UmF0ZTogc2FsYXJ5LmhvdXJseVJhdGUsXHJcbiAgICAgICAgY3VycmVuY3k6IHNhbGFyeS5jdXJyZW5jeSB8fCAnVVNEJyxcclxuICAgICAgICBub3Rlczogc2FsYXJ5Lm5vdGVzLFxyXG4gICAgICAgIHNvdXJjZTogc2FsYXJ5LnNvdXJjZSB8fCAnYmFtYm9vaHInXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZyhg4pyFIEVtcGxveWVlIHNhbGFyeSBzYXZlZCBmb3IgJHtzYWxhcnkuZW1wbG95ZWVJZH0gZWZmZWN0aXZlICR7c2FsYXJ5LmVmZmVjdGl2ZURhdGV9YCk7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBzYXZpbmcgZW1wbG95ZWUgc2FsYXJ5OicsIGVycm9yKTtcclxuICAgIFxyXG4gICAgLy8gSGFuZGxlIFAyMDI1IChyZWNvcmQgbm90IGZvdW5kKSBlcnJvclxyXG4gICAgaWYgKGVycm9yLmNvZGUgPT09ICdQMjAyNScpIHtcclxuICAgICAgY29uc29sZS5sb2coYPCflIQgUmVjb3JkIG5vdCBmb3VuZCwgYXR0ZW1wdGluZyB0byBjcmVhdGUgZW1wbG95ZWUgc2FsYXJ5IGZvciAke3NhbGFyeS5lbXBsb3llZUlkfSBlZmZlY3RpdmUgJHtzYWxhcnkuZWZmZWN0aXZlRGF0ZX1gKTtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwcmlzbWEuZW1wbG95ZWVTYWxhcnkuY3JlYXRlKHtcclxuICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgZW1wbG95ZWVJZDogc2FsYXJ5LmVtcGxveWVlSWQsXHJcbiAgICAgICAgICAgIGVmZmVjdGl2ZURhdGU6IHNhbGFyeS5lZmZlY3RpdmVEYXRlLFxyXG4gICAgICAgICAgICBlbmREYXRlOiBzYWxhcnkuZW5kRGF0ZSxcclxuICAgICAgICAgICAgYW5udWFsU2FsYXJ5OiBzYWxhcnkuYW5udWFsU2FsYXJ5LFxyXG4gICAgICAgICAgICBob3VybHlSYXRlOiBzYWxhcnkuaG91cmx5UmF0ZSxcclxuICAgICAgICAgICAgY3VycmVuY3k6IHNhbGFyeS5jdXJyZW5jeSB8fCAnVVNEJyxcclxuICAgICAgICAgICAgbm90ZXM6IHNhbGFyeS5ub3RlcyxcclxuICAgICAgICAgICAgc291cmNlOiBzYWxhcnkuc291cmNlIHx8ICdiYW1ib29ocidcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zb2xlLmxvZyhg4pyFIEVtcGxveWVlIHNhbGFyeSBjcmVhdGVkIGZvciAke3NhbGFyeS5lbXBsb3llZUlkfSBlZmZlY3RpdmUgJHtzYWxhcnkuZWZmZWN0aXZlRGF0ZX1gKTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICB9IGNhdGNoIChjcmVhdGVFcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBjcmVhdGluZyBlbXBsb3llZSBzYWxhcnk6JywgY3JlYXRlRXJyb3IpO1xyXG4gICAgICAgIHRocm93IGNyZWF0ZUVycm9yO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNhdmVQcm9qZWN0TXVsdGlwbGllcihtdWx0aXBsaWVyOiB7XHJcbiAgcHJvamVjdElkOiBzdHJpbmc7XHJcbiAgcHJvamVjdE5hbWU6IHN0cmluZztcclxuICBtdWx0aXBsaWVyOiBudW1iZXI7XHJcbiAgZWZmZWN0aXZlRGF0ZTogc3RyaW5nO1xyXG4gIGVuZERhdGU/OiBzdHJpbmc7XHJcbiAgbm90ZXM/OiBzdHJpbmc7XHJcbn0pIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHJpc21hLnByb2plY3RNdWx0aXBsaWVyLnVwc2VydCh7XHJcbiAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgcHJvamVjdElkX2VmZmVjdGl2ZURhdGU6IHtcclxuICAgICAgICAgIHByb2plY3RJZDogbXVsdGlwbGllci5wcm9qZWN0SWQsXHJcbiAgICAgICAgICBlZmZlY3RpdmVEYXRlOiBtdWx0aXBsaWVyLmVmZmVjdGl2ZURhdGVcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIHVwZGF0ZToge1xyXG4gICAgICAgIHByb2plY3ROYW1lOiBtdWx0aXBsaWVyLnByb2plY3ROYW1lLFxyXG4gICAgICAgIG11bHRpcGxpZXI6IG11bHRpcGxpZXIubXVsdGlwbGllcixcclxuICAgICAgICBlbmREYXRlOiBtdWx0aXBsaWVyLmVuZERhdGUsXHJcbiAgICAgICAgbm90ZXM6IG11bHRpcGxpZXIubm90ZXMsXHJcbiAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpXHJcbiAgICAgIH0sXHJcbiAgICAgIGNyZWF0ZToge1xyXG4gICAgICAgIHByb2plY3RJZDogbXVsdGlwbGllci5wcm9qZWN0SWQsXHJcbiAgICAgICAgcHJvamVjdE5hbWU6IG11bHRpcGxpZXIucHJvamVjdE5hbWUsXHJcbiAgICAgICAgbXVsdGlwbGllcjogbXVsdGlwbGllci5tdWx0aXBsaWVyLFxyXG4gICAgICAgIGVmZmVjdGl2ZURhdGU6IG11bHRpcGxpZXIuZWZmZWN0aXZlRGF0ZSxcclxuICAgICAgICBlbmREYXRlOiBtdWx0aXBsaWVyLmVuZERhdGUsXHJcbiAgICAgICAgbm90ZXM6IG11bHRpcGxpZXIubm90ZXNcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKGBQcm9qZWN0IG11bHRpcGxpZXIgc2F2ZWQgZm9yICR7bXVsdGlwbGllci5wcm9qZWN0TmFtZX0gZWZmZWN0aXZlICR7bXVsdGlwbGllci5lZmZlY3RpdmVEYXRlfWApO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIHByb2plY3QgbXVsdGlwbGllcjonLCBlcnJvcik7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzYXZlRW1wbG95ZWVUaW1lRW50cnkodGltZUVudHJ5OiB7XHJcbiAgZW1wbG95ZWVJZDogc3RyaW5nO1xyXG4gIGVtcGxveWVlTmFtZTogc3RyaW5nO1xyXG4gIHByb2plY3RJZDogc3RyaW5nO1xyXG4gIHByb2plY3ROYW1lOiBzdHJpbmc7XHJcbiAgZGF0ZTogc3RyaW5nO1xyXG4gIGhvdXJzOiBudW1iZXI7XHJcbiAgYmlsbGFibGVIb3VyczogbnVtYmVyO1xyXG4gIG5vbkJpbGxhYmxlSG91cnM6IG51bWJlcjtcclxuICBob3VybHlSYXRlOiBudW1iZXI7XHJcbiAgcHJvamVjdE11bHRpcGxpZXI6IG51bWJlcjtcclxuICB0b3RhbENvc3Q6IG51bWJlcjtcclxuICBiaWxsYWJsZVZhbHVlOiBudW1iZXI7XHJcbiAgZWZmaWNpZW5jeTogbnVtYmVyO1xyXG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xyXG4gIHRhZ3M6IHN0cmluZ1tdO1xyXG59KSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByaXNtYS5lbXBsb3llZVRpbWVFbnRyeS51cHNlcnQoe1xyXG4gICAgICB3aGVyZToge1xyXG4gICAgICAgIGVtcGxveWVlSWRfcHJvamVjdElkX2RhdGU6IHtcclxuICAgICAgICAgIGVtcGxveWVlSWQ6IHRpbWVFbnRyeS5lbXBsb3llZUlkLFxyXG4gICAgICAgICAgcHJvamVjdElkOiB0aW1lRW50cnkucHJvamVjdElkLFxyXG4gICAgICAgICAgZGF0ZTogdGltZUVudHJ5LmRhdGVcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIHVwZGF0ZToge1xyXG4gICAgICAgIGVtcGxveWVlTmFtZTogdGltZUVudHJ5LmVtcGxveWVlTmFtZSxcclxuICAgICAgICBwcm9qZWN0TmFtZTogdGltZUVudHJ5LnByb2plY3ROYW1lLFxyXG4gICAgICAgIGhvdXJzOiB0aW1lRW50cnkuaG91cnMsXHJcbiAgICAgICAgYmlsbGFibGVIb3VyczogdGltZUVudHJ5LmJpbGxhYmxlSG91cnMsXHJcbiAgICAgICAgbm9uQmlsbGFibGVIb3VyczogdGltZUVudHJ5Lm5vbkJpbGxhYmxlSG91cnMsXHJcbiAgICAgICAgaG91cmx5UmF0ZTogdGltZUVudHJ5LmhvdXJseVJhdGUsXHJcbiAgICAgICAgcHJvamVjdE11bHRpcGxpZXI6IHRpbWVFbnRyeS5wcm9qZWN0TXVsdGlwbGllcixcclxuICAgICAgICB0b3RhbENvc3Q6IHRpbWVFbnRyeS50b3RhbENvc3QsXHJcbiAgICAgICAgYmlsbGFibGVWYWx1ZTogdGltZUVudHJ5LmJpbGxhYmxlVmFsdWUsXHJcbiAgICAgICAgZWZmaWNpZW5jeTogdGltZUVudHJ5LmVmZmljaWVuY3ksXHJcbiAgICAgICAgZGVzY3JpcHRpb246IHRpbWVFbnRyeS5kZXNjcmlwdGlvbixcclxuICAgICAgICB0YWdzOiB0aW1lRW50cnkudGFncyxcclxuICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKClcclxuICAgICAgfSxcclxuICAgICAgY3JlYXRlOiB7XHJcbiAgICAgICAgZW1wbG95ZWVJZDogdGltZUVudHJ5LmVtcGxveWVlSWQsXHJcbiAgICAgICAgZW1wbG95ZWVOYW1lOiB0aW1lRW50cnkuZW1wbG95ZWVOYW1lLFxyXG4gICAgICAgIHByb2plY3RJZDogdGltZUVudHJ5LnByb2plY3RJZCxcclxuICAgICAgICBwcm9qZWN0TmFtZTogdGltZUVudHJ5LnByb2plY3ROYW1lLFxyXG4gICAgICAgIGRhdGU6IHRpbWVFbnRyeS5kYXRlLFxyXG4gICAgICAgIGhvdXJzOiB0aW1lRW50cnkuaG91cnMsXHJcbiAgICAgICAgYmlsbGFibGVIb3VyczogdGltZUVudHJ5LmJpbGxhYmxlSG91cnMsXHJcbiAgICAgICAgbm9uQmlsbGFibGVIb3VyczogdGltZUVudHJ5Lm5vbkJpbGxhYmxlSG91cnMsXHJcbiAgICAgICAgaG91cmx5UmF0ZTogdGltZUVudHJ5LmhvdXJseVJhdGUsXHJcbiAgICAgICAgcHJvamVjdE11bHRpcGxpZXI6IHRpbWVFbnRyeS5wcm9qZWN0TXVsdGlwbGllcixcclxuICAgICAgICB0b3RhbENvc3Q6IHRpbWVFbnRyeS50b3RhbENvc3QsXHJcbiAgICAgICAgYmlsbGFibGVWYWx1ZTogdGltZUVudHJ5LmJpbGxhYmxlVmFsdWUsXHJcbiAgICAgICAgZWZmaWNpZW5jeTogdGltZUVudHJ5LmVmZmljaWVuY3ksXHJcbiAgICAgICAgZGVzY3JpcHRpb246IHRpbWVFbnRyeS5kZXNjcmlwdGlvbixcclxuICAgICAgICB0YWdzOiB0aW1lRW50cnkudGFnc1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coYFRpbWUgZW50cnkgc2F2ZWQgZm9yICR7dGltZUVudHJ5LmVtcGxveWVlTmFtZX0gb24gJHt0aW1lRW50cnkuZGF0ZX1gKTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyB0aW1lIGVudHJ5OicsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFsbEVtcGxveWVlcygpIHtcclxuICB0cnkge1xyXG4gICAgcmV0dXJuIGF3YWl0IHByaXNtYS5lbXBsb3llZS5maW5kTWFueSh7XHJcbiAgICAgIGluY2x1ZGU6IHtcclxuICAgICAgICBzYWxhcmllczogdHJ1ZVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBhbGwgZW1wbG95ZWVzOicsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFsbEVtcGxveWVlU2FsYXJpZXMoKSB7XHJcbiAgdHJ5IHtcclxuICAgIHJldHVybiBhd2FpdCBwcmlzbWEuZW1wbG95ZWVTYWxhcnkuZmluZE1hbnkoe1xyXG4gICAgICBpbmNsdWRlOiB7XHJcbiAgICAgICAgZW1wbG95ZWU6IHRydWVcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgYWxsIGVtcGxveWVlIHNhbGFyaWVzOicsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFsbFByb2plY3RNdWx0aXBsaWVycygpIHtcclxuICB0cnkge1xyXG4gICAgcmV0dXJuIGF3YWl0IHByaXNtYS5wcm9qZWN0TXVsdGlwbGllci5maW5kTWFueSgpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIGFsbCBwcm9qZWN0IG11bHRpcGxpZXJzOicsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFsbEVtcGxveWVlVGltZUVudHJpZXMoKSB7XHJcbiAgdHJ5IHtcclxuICAgIHJldHVybiBhd2FpdCBwcmlzbWEuZW1wbG95ZWVUaW1lRW50cnkuZmluZE1hbnkoe1xyXG4gICAgICBpbmNsdWRlOiB7XHJcbiAgICAgICAgZW1wbG95ZWU6IHRydWVcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgYWxsIHRpbWUgZW50cmllczonLCBlcnJvcik7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IHByaXNtYSB9O1xyXG4iXSwibmFtZXMiOlsicHJpc21hIiwiZW5zdXJlRGF0YWJhc2VTY2hlbWEiLCJwcm9qZWN0aW9uIiwiZmluZEZpcnN0IiwiY29uc29sZSIsImxvZyIsImVycm9yIiwiY29kZSIsIm1lc3NhZ2UiLCJpbmNsdWRlcyIsImNyZWF0ZSIsImRhdGEiLCJwcm9qZWN0SWQiLCJtb250aCIsInZhbHVlIiwiZGVsZXRlTWFueSIsIndoZXJlIiwiY3JlYXRlRXJyb3IiLCJjcmVhdGVEYXRhYmFzZVNjaGVtYSIsInJlc3VsdCIsInRlc3REYXRhYmFzZUNvbm5lY3Rpb24iLCIkY29ubmVjdCIsIiRxdWVyeVJhdyIsIiRkaXNjb25uZWN0Iiwic2F2ZUJhbWJvb0hSQ29uZmlnIiwiY29uZmlnIiwiYmFtYm9vSFJDb25maWciLCJ1cHNlcnQiLCJzdWJkb21haW4iLCJ1cGRhdGUiLCJhcGlLZXkiLCJ3ZWJob29rU2VjcmV0IiwiaXNBY3RpdmUiLCJsYXN0U3luYyIsIkRhdGUiLCJ1cGRhdGVkQXQiLCJnZXRCYW1ib29IUkNvbmZpZyIsImZpbmRVbmlxdWUiLCJzYXZlRW1wbG95ZWUiLCJlbXBsb3llZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJpZCIsIm5hbWUiLCJlbWFpbCIsInN0YXR1cyIsImRlcGFydG1lbnQiLCJwb3NpdGlvbiIsImhpcmVEYXRlIiwidGVybWluYXRpb25EYXRlIiwic2F2ZUVtcGxveWVlU2FsYXJ5Iiwic2FsYXJ5IiwiZW1wbG95ZWVTYWxhcnkiLCJlbXBsb3llZUlkX2VmZmVjdGl2ZURhdGUiLCJlbXBsb3llZUlkIiwiZWZmZWN0aXZlRGF0ZSIsImVuZERhdGUiLCJhbm51YWxTYWxhcnkiLCJob3VybHlSYXRlIiwiY3VycmVuY3kiLCJub3RlcyIsInNvdXJjZSIsInNhdmVQcm9qZWN0TXVsdGlwbGllciIsIm11bHRpcGxpZXIiLCJwcm9qZWN0TXVsdGlwbGllciIsInByb2plY3RJZF9lZmZlY3RpdmVEYXRlIiwicHJvamVjdE5hbWUiLCJzYXZlRW1wbG95ZWVUaW1lRW50cnkiLCJ0aW1lRW50cnkiLCJlbXBsb3llZVRpbWVFbnRyeSIsImVtcGxveWVlSWRfcHJvamVjdElkX2RhdGUiLCJkYXRlIiwiZW1wbG95ZWVOYW1lIiwiaG91cnMiLCJiaWxsYWJsZUhvdXJzIiwibm9uQmlsbGFibGVIb3VycyIsInRvdGFsQ29zdCIsImJpbGxhYmxlVmFsdWUiLCJlZmZpY2llbmN5IiwiZGVzY3JpcHRpb24iLCJ0YWdzIiwiZ2V0QWxsRW1wbG95ZWVzIiwiZmluZE1hbnkiLCJpbmNsdWRlIiwic2FsYXJpZXMiLCJnZXRBbGxFbXBsb3llZVNhbGFyaWVzIiwiZ2V0QWxsUHJvamVjdE11bHRpcGxpZXJzIiwiZ2V0QWxsRW1wbG95ZWVUaW1lRW50cmllcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/database.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db.ts":
/*!*******************!*\
  !*** ./lib/db.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst prismaClientSingleton = ()=>{\n    return new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient({\n        log: [\n            \"error\"\n        ]\n    });\n};\nconst globalForPrisma = globalThis;\nconst prisma = globalForPrisma.prisma ?? prismaClientSingleton();\nif (true) globalForPrisma.prisma = prisma;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (prisma);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQThDO0FBRTlDLE1BQU1DLHdCQUF3QjtJQUM1QixPQUFPLElBQUlELHdEQUFZQSxDQUFDO1FBQ3RCRSxLQUFLO1lBQUM7U0FBUTtJQUNoQjtBQUNGO0FBSUEsTUFBTUMsa0JBQWtCQztBQUl4QixNQUFNQyxTQUFTRixnQkFBZ0JFLE1BQU0sSUFBSUo7QUFFekMsSUFBSUssSUFBeUIsRUFBY0gsZ0JBQWdCRSxNQUFNLEdBQUdBO0FBRXBFLGlFQUFlQSxNQUFNQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vem9oby1iaWxsaW5nLXBsYXRmb3JtLy4vbGliL2RiLnRzPzFkZjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSAnQHByaXNtYS9jbGllbnQnO1xyXG5cclxuY29uc3QgcHJpc21hQ2xpZW50U2luZ2xldG9uID0gKCkgPT4ge1xyXG4gIHJldHVybiBuZXcgUHJpc21hQ2xpZW50KHtcclxuICAgIGxvZzogWydlcnJvciddLCAvLyBBZGQgZXJyb3IgbG9nZ2luZyBmb3IgZGVidWdnaW5nXHJcbiAgfSk7XHJcbn07XHJcblxyXG50eXBlIFByaXNtYUNsaWVudFNpbmdsZXRvbiA9IFJldHVyblR5cGU8dHlwZW9mIHByaXNtYUNsaWVudFNpbmdsZXRvbj47XHJcblxyXG5jb25zdCBnbG9iYWxGb3JQcmlzbWEgPSBnbG9iYWxUaGlzIGFzIHVua25vd24gYXMge1xyXG4gIHByaXNtYTogUHJpc21hQ2xpZW50U2luZ2xldG9uIHwgdW5kZWZpbmVkO1xyXG59O1xyXG5cclxuY29uc3QgcHJpc21hID0gZ2xvYmFsRm9yUHJpc21hLnByaXNtYSA/PyBwcmlzbWFDbGllbnRTaW5nbGV0b24oKTtcclxuXHJcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSBnbG9iYWxGb3JQcmlzbWEucHJpc21hID0gcHJpc21hO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcHJpc21hO1xyXG4iXSwibmFtZXMiOlsiUHJpc21hQ2xpZW50IiwicHJpc21hQ2xpZW50U2luZ2xldG9uIiwibG9nIiwiZ2xvYmFsRm9yUHJpc21hIiwiZ2xvYmFsVGhpcyIsInByaXNtYSIsInByb2Nlc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsetup-database%2Froute&page=%2Fapi%2Fsetup-database%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsetup-database%2Froute.ts&appDir=C%3A%5CUsers%5CJohn%5CBillingPlatform%5CBilling%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CJohn%5CBillingPlatform%5CBilling&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();