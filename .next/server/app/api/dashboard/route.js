"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/dashboard/route";
exports.ids = ["app/api/dashboard/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdashboard%2Froute&page=%2Fapi%2Fdashboard%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdashboard%2Froute.ts&appDir=C%3A%5CUsers%5CJonathan%5CDesktop%5CBilling%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CJonathan%5CDesktop%5CBilling&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdashboard%2Froute&page=%2Fapi%2Fdashboard%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdashboard%2Froute.ts&appDir=C%3A%5CUsers%5CJonathan%5CDesktop%5CBilling%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CJonathan%5CDesktop%5CBilling&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Jonathan_Desktop_Billing_app_api_dashboard_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/dashboard/route.ts */ \"(rsc)/./app/api/dashboard/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/dashboard/route\",\n        pathname: \"/api/dashboard\",\n        filename: \"route\",\n        bundlePath: \"app/api/dashboard/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Jonathan\\\\Desktop\\\\Billing\\\\app\\\\api\\\\dashboard\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_Jonathan_Desktop_Billing_app_api_dashboard_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/dashboard/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZkYXNoYm9hcmQlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmRhc2hib2FyZCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmRhc2hib2FyZCUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNKb25hdGhhbiU1Q0Rlc2t0b3AlNUNCaWxsaW5nJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNKb25hdGhhbiU1Q0Rlc2t0b3AlNUNCaWxsaW5nJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNvQjtBQUNqRztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL3pvaG8tYmlsbGluZy1wbGF0Zm9ybS8/YTgxYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxKb25hdGhhblxcXFxEZXNrdG9wXFxcXEJpbGxpbmdcXFxcYXBwXFxcXGFwaVxcXFxkYXNoYm9hcmRcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2Rhc2hib2FyZC9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2Rhc2hib2FyZFwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvZGFzaGJvYXJkL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcSm9uYXRoYW5cXFxcRGVza3RvcFxcXFxCaWxsaW5nXFxcXGFwcFxcXFxhcGlcXFxcZGFzaGJvYXJkXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9kYXNoYm9hcmQvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdashboard%2Froute&page=%2Fapi%2Fdashboard%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdashboard%2Froute.ts&appDir=C%3A%5CUsers%5CJonathan%5CDesktop%5CBilling%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CJonathan%5CDesktop%5CBilling&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/dashboard/route.ts":
/*!************************************!*\
  !*** ./app/api/dashboard/route.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_zoho__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/zoho */ \"(rsc)/./lib/zoho.ts\");\n/* harmony import */ var _lib_clockify__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/clockify */ \"(rsc)/./lib/clockify.ts\");\n\n\n\nasync function GET(request) {\n    try {\n        const now = new Date();\n        const currentYear = now.getFullYear();\n        // Check Clockify service configuration\n        const clockifyConfig = _lib_clockify__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getConfigurationStatus();\n        console.log(\"Clockify service configuration:\", clockifyConfig);\n        if (!clockifyConfig.configured) {\n            console.warn(\"Clockify service not configured - using mock data for time tracking metrics\");\n        }\n        // Get Zoho data for financial metrics\n        let projects = [];\n        let invoices = [];\n        let customers = [];\n        try {\n            projects = await _lib_zoho__WEBPACK_IMPORTED_MODULE_1__.zohoService.getProjects();\n            invoices = await _lib_zoho__WEBPACK_IMPORTED_MODULE_1__.zohoService.getInvoices();\n            customers = await _lib_zoho__WEBPACK_IMPORTED_MODULE_1__.zohoService.getCustomers();\n        } catch (error) {\n            console.error(\"Failed to fetch Zoho data:\", error);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Failed to fetch financial data from Zoho\"\n            }, {\n                status: 500\n            });\n        }\n        // Get Clockify data for utilization rate\n        let utilizationRate = 0.85;\n        let averageBillingRate = 185;\n        try {\n            if (clockifyConfig.configured) {\n                const clockifyUser = await _lib_clockify__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getUser();\n                const clockifyProjects = await _lib_clockify__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getProjects();\n                // Calculate utilization rate based on billable hours vs total hours\n                try {\n                    const timeEntries = await _lib_clockify__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getAllTimeEntries(new Date(currentYear, 0, 1).toISOString(), now.toISOString());\n                    const totalHours = timeEntries.reduce((sum, entry)=>{\n                        const duration = entry.timeInterval?.duration || \"PT0H\";\n                        const hours = parseDuration(duration);\n                        return sum + hours;\n                    }, 0);\n                    const billableHours = timeEntries.filter((entry)=>entry.billable).reduce((sum, entry)=>{\n                        const duration = entry.timeInterval?.duration || \"PT0H\";\n                        const hours = parseDuration(duration);\n                        return sum + hours;\n                    }, 0);\n                    utilizationRate = totalHours > 0 ? billableHours / totalHours : 0.85;\n                    // Calculate average billing rate\n                    const billableEntries = timeEntries.filter((entry)=>entry.billable);\n                    if (billableEntries.length > 0) {\n                        const totalRate = billableEntries.reduce((sum, entry)=>{\n                            const rate = entry.hourlyRate?.amount || 150;\n                            return sum + rate;\n                        }, 0);\n                        averageBillingRate = totalRate / billableEntries.length;\n                    }\n                } catch (timeError) {\n                    console.warn(\"Failed to calculate utilization rate from Clockify, using defaults:\", timeError);\n                }\n            } else {\n                console.log(\"Using mock utilization data due to Clockify not being configured\");\n            }\n        } catch (error) {\n            console.warn(\"Failed to fetch Clockify data, using defaults:\", error);\n        }\n        // Calculate financial metrics from Zoho data\n        const activeProjects = projects.filter((p)=>p.status === \"active\");\n        const totalBudget = activeProjects.reduce((sum, p)=>sum + (p.budget_amount || 0), 0);\n        const paidInvoices = invoices.filter((inv)=>inv.status === \"paid\");\n        const outstandingInvoices = invoices.filter((inv)=>inv.status === \"sent\" || inv.status === \"viewed\");\n        const totalCollected = paidInvoices.reduce((sum, inv)=>sum + (inv.total || 0), 0);\n        const totalOutstanding = outstandingInvoices.reduce((sum, inv)=>sum + (inv.total || 0), 0);\n        // Calculate YTD metrics\n        const currentYearInvoices = invoices.filter((inv)=>{\n            const invoiceDate = new Date(inv.date);\n            return invoiceDate.getFullYear() === currentYear;\n        });\n        const ytdRevenue = currentYearInvoices.reduce((sum, inv)=>sum + (inv.total || 0), 0);\n        const ytdProfit = ytdRevenue * 0.25; // Assuming 25% profit margin\n        // Generate mock data for missing metrics\n        const mockData = {\n            currentYearMultiplier: 2.8,\n            lastYearMultiplier: 2.6,\n            twoYearsAgoMultiplier: 2.4,\n            currentYearOverhead: 0.35,\n            lastYearOverhead: 0.37,\n            twoYearsAgoOverhead: 0.39,\n            currentYearRevenuePerEmployee: 250000,\n            lastYearRevenuePerEmployee: 235000,\n            twoYearsAgoRevenuePerEmployee: 220000,\n            currentCashflow: totalCollected - totalOutstanding,\n            previousMonthCashflow: totalCollected * 0.8 - totalOutstanding * 0.8,\n            cashflowTrend: \"up\",\n            overdueInvoiceValue: totalOutstanding * 0.3,\n            totalOutstandingInvoices: totalOutstanding,\n            averageDaysToPayment: 45,\n            ytdProfit,\n            lastYearYtdProfit: ytdProfit * 0.9,\n            currentYearGrossMargin: 0.35,\n            lastYearGrossMargin: 0.33,\n            ytdOperatingIncome: ytdProfit * 0.8,\n            lastYearYtdOperatingIncome: ytdProfit * 0.8 * 0.9,\n            trailing12Months: Array.from({\n                length: 12\n            }, (_, i)=>{\n                const month = new Date(currentYear, i, 1).toLocaleDateString(\"en-US\", {\n                    month: \"short\"\n                });\n                const revenue = ytdRevenue / 12 * (0.8 + Math.random() * 0.4);\n                const expenses = revenue * 0.65;\n                const profit = revenue - expenses;\n                return {\n                    month,\n                    revenue: Math.round(revenue),\n                    expenses: Math.round(expenses),\n                    profit: Math.round(profit),\n                    profitMargin: profit / revenue\n                };\n            }),\n            forecast: Array.from({\n                length: 6\n            }, (_, i)=>{\n                const month = new Date(currentYear, 11 + i, 1).toLocaleDateString(\"en-US\", {\n                    month: \"short\"\n                });\n                const projectedRevenue = ytdRevenue / 12 * (1.1 + Math.random() * 0.2);\n                const projectedExpenses = projectedRevenue * 0.65;\n                const projectedProfit = projectedRevenue - projectedExpenses;\n                return {\n                    month,\n                    projectedRevenue: Math.round(projectedRevenue),\n                    projectedExpenses: Math.round(projectedExpenses),\n                    projectedProfit: Math.round(projectedProfit)\n                };\n            }),\n            utilizationRate,\n            averageProjectSize: totalBudget / Math.max(activeProjects.length, 1),\n            clientRetentionRate: 0.85,\n            averageBillingRate,\n            totalActiveProjects: activeProjects.length,\n            totalEmployees: 12\n        };\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(mockData);\n    } catch (error) {\n        console.error(\"Dashboard API error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to generate dashboard data\"\n        }, {\n            status: 500\n        });\n    }\n}\n// Helper function to parse duration strings (e.g., \"PT2H30M\")\nfunction parseDuration(duration) {\n    if (!duration) return 0;\n    const regex = /PT(?:(\\d+)H)?(?:(\\d+)M)?(?:(\\d+)S)?/;\n    const match = duration.match(regex);\n    if (!match) return 0;\n    const hours = parseInt(match[1] || \"0\");\n    const minutes = parseInt(match[2] || \"0\");\n    const seconds = parseInt(match[3] || \"0\");\n    return hours + minutes / 60 + seconds / 3600;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkYsbUJBQW1CQztnQkFDM0MsT0FBTztvQkFDTFg7b0JBQ0FVLGtCQUFrQlAsS0FBS0ksS0FBSyxDQUFDRztvQkFDN0JDLG1CQUFtQlIsS0FBS0ksS0FBSyxDQUFDSTtvQkFDOUJDLGlCQUFpQlQsS0FBS0ksS0FBSyxDQUFDSztnQkFDOUI7WUFDRjtZQUNBL0U7WUFDQWdGLG9CQUFvQnBELGNBQWMwQyxLQUFLVyxHQUFHLENBQUN2RCxlQUFlTixNQUFNLEVBQUU7WUFDbEU4RCxxQkFBcUI7WUFDckJqRjtZQUNBa0YscUJBQXFCekQsZUFBZU4sTUFBTTtZQUMxQ2dFLGdCQUFnQjtRQUNsQjtRQUVBLE9BQU81RyxxREFBWUEsQ0FBQ3NCLElBQUksQ0FBQzJDO0lBQzNCLEVBQUUsT0FBTzVDLE9BQU87UUFDZFYsUUFBUVUsS0FBSyxDQUFDLHdCQUF3QkE7UUFDdEMsT0FBT3JCLHFEQUFZQSxDQUFDc0IsSUFBSSxDQUN0QjtZQUFFRCxPQUFPO1FBQW9DLEdBQzdDO1lBQUVFLFFBQVE7UUFBSTtJQUVsQjtBQUNGO0FBRUEsOERBQThEO0FBQzlELFNBQVNnQixjQUFjSCxRQUFnQjtJQUNyQyxJQUFJLENBQUNBLFVBQVUsT0FBTztJQUV0QixNQUFNeUUsUUFBUTtJQUNkLE1BQU1DLFFBQVExRSxTQUFTMEUsS0FBSyxDQUFDRDtJQUU3QixJQUFJLENBQUNDLE9BQU8sT0FBTztJQUVuQixNQUFNeEUsUUFBUXlFLFNBQVNELEtBQUssQ0FBQyxFQUFFLElBQUk7SUFDbkMsTUFBTUUsVUFBVUQsU0FBU0QsS0FBSyxDQUFDLEVBQUUsSUFBSTtJQUNyQyxNQUFNRyxVQUFVRixTQUFTRCxLQUFLLENBQUMsRUFBRSxJQUFJO0lBRXJDLE9BQU94RSxRQUFTMEUsVUFBVSxLQUFPQyxVQUFVO0FBQzdDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vem9oby1iaWxsaW5nLXBsYXRmb3JtLy4vYXBwL2FwaS9kYXNoYm9hcmQvcm91dGUudHM/ZWI0NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xyXG5pbXBvcnQgeyB6b2hvU2VydmljZSB9IGZyb20gJ0AvbGliL3pvaG8nO1xyXG5pbXBvcnQgY2xvY2tpZnlTZXJ2aWNlIGZyb20gJ0AvbGliL2Nsb2NraWZ5JztcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcclxuICAgIGNvbnN0IGN1cnJlbnRZZWFyID0gbm93LmdldEZ1bGxZZWFyKCk7XHJcbiAgICBcclxuICAgIC8vIENoZWNrIENsb2NraWZ5IHNlcnZpY2UgY29uZmlndXJhdGlvblxyXG4gICAgY29uc3QgY2xvY2tpZnlDb25maWcgPSBjbG9ja2lmeVNlcnZpY2UuZ2V0Q29uZmlndXJhdGlvblN0YXR1cygpO1xyXG4gICAgY29uc29sZS5sb2coJ0Nsb2NraWZ5IHNlcnZpY2UgY29uZmlndXJhdGlvbjonLCBjbG9ja2lmeUNvbmZpZyk7XHJcbiAgICBcclxuICAgIGlmICghY2xvY2tpZnlDb25maWcuY29uZmlndXJlZCkge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ0Nsb2NraWZ5IHNlcnZpY2Ugbm90IGNvbmZpZ3VyZWQgLSB1c2luZyBtb2NrIGRhdGEgZm9yIHRpbWUgdHJhY2tpbmcgbWV0cmljcycpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEdldCBab2hvIGRhdGEgZm9yIGZpbmFuY2lhbCBtZXRyaWNzXHJcbiAgICBsZXQgcHJvamVjdHM6IGFueVtdID0gW107XHJcbiAgICBsZXQgaW52b2ljZXM6IGFueVtdID0gW107XHJcbiAgICBsZXQgY3VzdG9tZXJzOiBhbnlbXSA9IFtdO1xyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICBwcm9qZWN0cyA9IGF3YWl0IHpvaG9TZXJ2aWNlLmdldFByb2plY3RzKCk7XHJcbiAgICAgIGludm9pY2VzID0gYXdhaXQgem9ob1NlcnZpY2UuZ2V0SW52b2ljZXMoKTtcclxuICAgICAgY3VzdG9tZXJzID0gYXdhaXQgem9ob1NlcnZpY2UuZ2V0Q3VzdG9tZXJzKCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggWm9obyBkYXRhOicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6ICdGYWlsZWQgdG8gZmV0Y2ggZmluYW5jaWFsIGRhdGEgZnJvbSBab2hvJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEdldCBDbG9ja2lmeSBkYXRhIGZvciB1dGlsaXphdGlvbiByYXRlXHJcbiAgICBsZXQgdXRpbGl6YXRpb25SYXRlID0gMC44NTtcclxuICAgIGxldCBhdmVyYWdlQmlsbGluZ1JhdGUgPSAxODU7XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGlmIChjbG9ja2lmeUNvbmZpZy5jb25maWd1cmVkKSB7XHJcbiAgICAgICAgY29uc3QgY2xvY2tpZnlVc2VyID0gYXdhaXQgY2xvY2tpZnlTZXJ2aWNlLmdldFVzZXIoKTtcclxuICAgICAgICBjb25zdCBjbG9ja2lmeVByb2plY3RzID0gYXdhaXQgY2xvY2tpZnlTZXJ2aWNlLmdldFByb2plY3RzKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ2FsY3VsYXRlIHV0aWxpemF0aW9uIHJhdGUgYmFzZWQgb24gYmlsbGFibGUgaG91cnMgdnMgdG90YWwgaG91cnNcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgY29uc3QgdGltZUVudHJpZXMgPSBhd2FpdCBjbG9ja2lmeVNlcnZpY2UuZ2V0QWxsVGltZUVudHJpZXMoXHJcbiAgICAgICAgICAgIG5ldyBEYXRlKGN1cnJlbnRZZWFyLCAwLCAxKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgICAgICBub3cudG9JU09TdHJpbmcoKVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgY29uc3QgdG90YWxIb3VycyA9IHRpbWVFbnRyaWVzLnJlZHVjZSgoc3VtLCBlbnRyeSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBkdXJhdGlvbiA9IGVudHJ5LnRpbWVJbnRlcnZhbD8uZHVyYXRpb24gfHwgJ1BUMEgnO1xyXG4gICAgICAgICAgICBjb25zdCBob3VycyA9IHBhcnNlRHVyYXRpb24oZHVyYXRpb24pO1xyXG4gICAgICAgICAgICByZXR1cm4gc3VtICsgaG91cnM7XHJcbiAgICAgICAgICB9LCAwKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgY29uc3QgYmlsbGFibGVIb3VycyA9IHRpbWVFbnRyaWVzLmZpbHRlcihlbnRyeSA9PiBlbnRyeS5iaWxsYWJsZSkucmVkdWNlKChzdW0sIGVudHJ5KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGR1cmF0aW9uID0gZW50cnkudGltZUludGVydmFsPy5kdXJhdGlvbiB8fCAnUFQwSCc7XHJcbiAgICAgICAgICAgIGNvbnN0IGhvdXJzID0gcGFyc2VEdXJhdGlvbihkdXJhdGlvbik7XHJcbiAgICAgICAgICAgIHJldHVybiBzdW0gKyBob3VycztcclxuICAgICAgICAgIH0sIDApO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICB1dGlsaXphdGlvblJhdGUgPSB0b3RhbEhvdXJzID4gMCA/IGJpbGxhYmxlSG91cnMgLyB0b3RhbEhvdXJzIDogMC44NTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gQ2FsY3VsYXRlIGF2ZXJhZ2UgYmlsbGluZyByYXRlXHJcbiAgICAgICAgICBjb25zdCBiaWxsYWJsZUVudHJpZXMgPSB0aW1lRW50cmllcy5maWx0ZXIoZW50cnkgPT4gZW50cnkuYmlsbGFibGUpO1xyXG4gICAgICAgICAgaWYgKGJpbGxhYmxlRW50cmllcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRvdGFsUmF0ZSA9IGJpbGxhYmxlRW50cmllcy5yZWR1Y2UoKHN1bSwgZW50cnkpID0+IHtcclxuICAgICAgICAgICAgICBjb25zdCByYXRlID0gZW50cnkuaG91cmx5UmF0ZT8uYW1vdW50IHx8IDE1MDtcclxuICAgICAgICAgICAgICByZXR1cm4gc3VtICsgcmF0ZTtcclxuICAgICAgICAgICAgfSwgMCk7XHJcbiAgICAgICAgICAgIGF2ZXJhZ2VCaWxsaW5nUmF0ZSA9IHRvdGFsUmF0ZSAvIGJpbGxhYmxlRW50cmllcy5sZW5ndGg7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAodGltZUVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBjYWxjdWxhdGUgdXRpbGl6YXRpb24gcmF0ZSBmcm9tIENsb2NraWZ5LCB1c2luZyBkZWZhdWx0czonLCB0aW1lRXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnVXNpbmcgbW9jayB1dGlsaXphdGlvbiBkYXRhIGR1ZSB0byBDbG9ja2lmeSBub3QgYmVpbmcgY29uZmlndXJlZCcpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBmZXRjaCBDbG9ja2lmeSBkYXRhLCB1c2luZyBkZWZhdWx0czonLCBlcnJvcik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2FsY3VsYXRlIGZpbmFuY2lhbCBtZXRyaWNzIGZyb20gWm9obyBkYXRhXHJcbiAgICBjb25zdCBhY3RpdmVQcm9qZWN0cyA9IHByb2plY3RzLmZpbHRlcihwID0+IHAuc3RhdHVzID09PSAnYWN0aXZlJyk7XHJcbiAgICBjb25zdCB0b3RhbEJ1ZGdldCA9IGFjdGl2ZVByb2plY3RzLnJlZHVjZSgoc3VtLCBwKSA9PiBzdW0gKyAocC5idWRnZXRfYW1vdW50IHx8IDApLCAwKTtcclxuICAgIFxyXG4gICAgY29uc3QgcGFpZEludm9pY2VzID0gaW52b2ljZXMuZmlsdGVyKGludiA9PiBpbnYuc3RhdHVzID09PSAncGFpZCcpO1xyXG4gICAgY29uc3Qgb3V0c3RhbmRpbmdJbnZvaWNlcyA9IGludm9pY2VzLmZpbHRlcihpbnYgPT4gaW52LnN0YXR1cyA9PT0gJ3NlbnQnIHx8IGludi5zdGF0dXMgPT09ICd2aWV3ZWQnKTtcclxuICAgIFxyXG4gICAgY29uc3QgdG90YWxDb2xsZWN0ZWQgPSBwYWlkSW52b2ljZXMucmVkdWNlKChzdW0sIGludikgPT4gc3VtICsgKGludi50b3RhbCB8fCAwKSwgMCk7XHJcbiAgICBjb25zdCB0b3RhbE91dHN0YW5kaW5nID0gb3V0c3RhbmRpbmdJbnZvaWNlcy5yZWR1Y2UoKHN1bSwgaW52KSA9PiBzdW0gKyAoaW52LnRvdGFsIHx8IDApLCAwKTtcclxuICAgIFxyXG4gICAgLy8gQ2FsY3VsYXRlIFlURCBtZXRyaWNzXHJcbiAgICBjb25zdCBjdXJyZW50WWVhckludm9pY2VzID0gaW52b2ljZXMuZmlsdGVyKGludiA9PiB7XHJcbiAgICAgIGNvbnN0IGludm9pY2VEYXRlID0gbmV3IERhdGUoaW52LmRhdGUpO1xyXG4gICAgICByZXR1cm4gaW52b2ljZURhdGUuZ2V0RnVsbFllYXIoKSA9PT0gY3VycmVudFllYXI7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgY29uc3QgeXRkUmV2ZW51ZSA9IGN1cnJlbnRZZWFySW52b2ljZXMucmVkdWNlKChzdW0sIGludikgPT4gc3VtICsgKGludi50b3RhbCB8fCAwKSwgMCk7XHJcbiAgICBjb25zdCB5dGRQcm9maXQgPSB5dGRSZXZlbnVlICogMC4yNTsgLy8gQXNzdW1pbmcgMjUlIHByb2ZpdCBtYXJnaW5cclxuICAgIFxyXG4gICAgLy8gR2VuZXJhdGUgbW9jayBkYXRhIGZvciBtaXNzaW5nIG1ldHJpY3NcclxuICAgIGNvbnN0IG1vY2tEYXRhID0ge1xyXG4gICAgICBjdXJyZW50WWVhck11bHRpcGxpZXI6IDIuOCxcclxuICAgICAgbGFzdFllYXJNdWx0aXBsaWVyOiAyLjYsXHJcbiAgICAgIHR3b1llYXJzQWdvTXVsdGlwbGllcjogMi40LFxyXG4gICAgICBjdXJyZW50WWVhck92ZXJoZWFkOiAwLjM1LFxyXG4gICAgICBsYXN0WWVhck92ZXJoZWFkOiAwLjM3LFxyXG4gICAgICB0d29ZZWFyc0Fnb092ZXJoZWFkOiAwLjM5LFxyXG4gICAgICBjdXJyZW50WWVhclJldmVudWVQZXJFbXBsb3llZTogMjUwMDAwLFxyXG4gICAgICBsYXN0WWVhclJldmVudWVQZXJFbXBsb3llZTogMjM1MDAwLFxyXG4gICAgICB0d29ZZWFyc0Fnb1JldmVudWVQZXJFbXBsb3llZTogMjIwMDAwLFxyXG4gICAgICBjdXJyZW50Q2FzaGZsb3c6IHRvdGFsQ29sbGVjdGVkIC0gdG90YWxPdXRzdGFuZGluZyxcclxuICAgICAgcHJldmlvdXNNb250aENhc2hmbG93OiB0b3RhbENvbGxlY3RlZCAqIDAuOCAtIHRvdGFsT3V0c3RhbmRpbmcgKiAwLjgsXHJcbiAgICAgIGNhc2hmbG93VHJlbmQ6ICd1cCcgYXMgY29uc3QsXHJcbiAgICAgIG92ZXJkdWVJbnZvaWNlVmFsdWU6IHRvdGFsT3V0c3RhbmRpbmcgKiAwLjMsXHJcbiAgICAgIHRvdGFsT3V0c3RhbmRpbmdJbnZvaWNlczogdG90YWxPdXRzdGFuZGluZyxcclxuICAgICAgYXZlcmFnZURheXNUb1BheW1lbnQ6IDQ1LFxyXG4gICAgICB5dGRQcm9maXQsXHJcbiAgICAgIGxhc3RZZWFyWXRkUHJvZml0OiB5dGRQcm9maXQgKiAwLjksXHJcbiAgICAgIGN1cnJlbnRZZWFyR3Jvc3NNYXJnaW46IDAuMzUsXHJcbiAgICAgIGxhc3RZZWFyR3Jvc3NNYXJnaW46IDAuMzMsXHJcbiAgICAgIHl0ZE9wZXJhdGluZ0luY29tZTogeXRkUHJvZml0ICogMC44LFxyXG4gICAgICBsYXN0WWVhcll0ZE9wZXJhdGluZ0luY29tZTogeXRkUHJvZml0ICogMC44ICogMC45LFxyXG4gICAgICB0cmFpbGluZzEyTW9udGhzOiBBcnJheS5mcm9tKHsgbGVuZ3RoOiAxMiB9LCAoXywgaSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IG1vbnRoID0gbmV3IERhdGUoY3VycmVudFllYXIsIGksIDEpLnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tVVMnLCB7IG1vbnRoOiAnc2hvcnQnIH0pO1xyXG4gICAgICAgIGNvbnN0IHJldmVudWUgPSB5dGRSZXZlbnVlIC8gMTIgKiAoMC44ICsgTWF0aC5yYW5kb20oKSAqIDAuNCk7XHJcbiAgICAgICAgY29uc3QgZXhwZW5zZXMgPSByZXZlbnVlICogMC42NTtcclxuICAgICAgICBjb25zdCBwcm9maXQgPSByZXZlbnVlIC0gZXhwZW5zZXM7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIG1vbnRoLFxyXG4gICAgICAgICAgcmV2ZW51ZTogTWF0aC5yb3VuZChyZXZlbnVlKSxcclxuICAgICAgICAgIGV4cGVuc2VzOiBNYXRoLnJvdW5kKGV4cGVuc2VzKSxcclxuICAgICAgICAgIHByb2ZpdDogTWF0aC5yb3VuZChwcm9maXQpLFxyXG4gICAgICAgICAgcHJvZml0TWFyZ2luOiBwcm9maXQgLyByZXZlbnVlXHJcbiAgICAgICAgfTtcclxuICAgICAgfSksXHJcbiAgICAgIGZvcmVjYXN0OiBBcnJheS5mcm9tKHsgbGVuZ3RoOiA2IH0sIChfLCBpKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbW9udGggPSBuZXcgRGF0ZShjdXJyZW50WWVhciwgMTEgKyBpLCAxKS50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLVVTJywgeyBtb250aDogJ3Nob3J0JyB9KTtcclxuICAgICAgICBjb25zdCBwcm9qZWN0ZWRSZXZlbnVlID0geXRkUmV2ZW51ZSAvIDEyICogKDEuMSArIE1hdGgucmFuZG9tKCkgKiAwLjIpO1xyXG4gICAgICAgIGNvbnN0IHByb2plY3RlZEV4cGVuc2VzID0gcHJvamVjdGVkUmV2ZW51ZSAqIDAuNjU7XHJcbiAgICAgICAgY29uc3QgcHJvamVjdGVkUHJvZml0ID0gcHJvamVjdGVkUmV2ZW51ZSAtIHByb2plY3RlZEV4cGVuc2VzO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBtb250aCxcclxuICAgICAgICAgIHByb2plY3RlZFJldmVudWU6IE1hdGgucm91bmQocHJvamVjdGVkUmV2ZW51ZSksXHJcbiAgICAgICAgICBwcm9qZWN0ZWRFeHBlbnNlczogTWF0aC5yb3VuZChwcm9qZWN0ZWRFeHBlbnNlcyksXHJcbiAgICAgICAgICBwcm9qZWN0ZWRQcm9maXQ6IE1hdGgucm91bmQocHJvamVjdGVkUHJvZml0KVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0pLFxyXG4gICAgICB1dGlsaXphdGlvblJhdGUsXHJcbiAgICAgIGF2ZXJhZ2VQcm9qZWN0U2l6ZTogdG90YWxCdWRnZXQgLyBNYXRoLm1heChhY3RpdmVQcm9qZWN0cy5sZW5ndGgsIDEpLFxyXG4gICAgICBjbGllbnRSZXRlbnRpb25SYXRlOiAwLjg1LFxyXG4gICAgICBhdmVyYWdlQmlsbGluZ1JhdGUsXHJcbiAgICAgIHRvdGFsQWN0aXZlUHJvamVjdHM6IGFjdGl2ZVByb2plY3RzLmxlbmd0aCxcclxuICAgICAgdG90YWxFbXBsb3llZXM6IDEyXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihtb2NrRGF0YSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Rhc2hib2FyZCBBUEkgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IGVycm9yOiAnRmFpbGVkIHRvIGdlbmVyYXRlIGRhc2hib2FyZCBkYXRhJyB9LFxyXG4gICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gcGFyc2UgZHVyYXRpb24gc3RyaW5ncyAoZS5nLiwgXCJQVDJIMzBNXCIpXHJcbmZ1bmN0aW9uIHBhcnNlRHVyYXRpb24oZHVyYXRpb246IHN0cmluZyk6IG51bWJlciB7XHJcbiAgaWYgKCFkdXJhdGlvbikgcmV0dXJuIDA7XHJcbiAgXHJcbiAgY29uc3QgcmVnZXggPSAvUFQoPzooXFxkKylIKT8oPzooXFxkKylNKT8oPzooXFxkKylTKT8vO1xyXG4gIGNvbnN0IG1hdGNoID0gZHVyYXRpb24ubWF0Y2gocmVnZXgpO1xyXG4gIFxyXG4gIGlmICghbWF0Y2gpIHJldHVybiAwO1xyXG4gIFxyXG4gIGNvbnN0IGhvdXJzID0gcGFyc2VJbnQobWF0Y2hbMV0gfHwgJzAnKTtcclxuICBjb25zdCBtaW51dGVzID0gcGFyc2VJbnQobWF0Y2hbMl0gfHwgJzAnKTtcclxuICBjb25zdCBzZWNvbmRzID0gcGFyc2VJbnQobWF0Y2hbM10gfHwgJzAnKTtcclxuICBcclxuICByZXR1cm4gaG91cnMgKyAobWludXRlcyAvIDYwKSArIChzZWNvbmRzIC8gMzYwMCk7XHJcbn1cclxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsInpvaG9TZXJ2aWNlIiwiY2xvY2tpZnlTZXJ2aWNlIiwiR0VUIiwicmVxdWVzdCIsIm5vdyIsIkRhdGUiLCJjdXJyZW50WWVhciIsImdldEZ1bGxZZWFyIiwiY2xvY2tpZnlDb25maWciLCJnZXRDb25maWd1cmF0aW9uU3RhdHVzIiwiY29uc29sZSIsImxvZyIsImNvbmZpZ3VyZWQiLCJ3YXJuIiwicHJvamVjdHMiLCJpbnZvaWNlcyIsImN1c3RvbWVycyIsImdldFByb2plY3RzIiwiZ2V0SW52b2ljZXMiLCJnZXRDdXN0b21lcnMiLCJlcnJvciIsImpzb24iLCJzdGF0dXMiLCJ1dGlsaXphdGlvblJhdGUiLCJhdmVyYWdlQmlsbGluZ1JhdGUiLCJjbG9ja2lmeVVzZXIiLCJnZXRVc2VyIiwiY2xvY2tpZnlQcm9qZWN0cyIsInRpbWVFbnRyaWVzIiwiZ2V0QWxsVGltZUVudHJpZXMiLCJ0b0lTT1N0cmluZyIsInRvdGFsSG91cnMiLCJyZWR1Y2UiLCJzdW0iLCJlbnRyeSIsImR1cmF0aW9uIiwidGltZUludGVydmFsIiwiaG91cnMiLCJwYXJzZUR1cmF0aW9uIiwiYmlsbGFibGVIb3VycyIsImZpbHRlciIsImJpbGxhYmxlIiwiYmlsbGFibGVFbnRyaWVzIiwibGVuZ3RoIiwidG90YWxSYXRlIiwicmF0ZSIsImhvdXJseVJhdGUiLCJhbW91bnQiLCJ0aW1lRXJyb3IiLCJhY3RpdmVQcm9qZWN0cyIsInAiLCJ0b3RhbEJ1ZGdldCIsImJ1ZGdldF9hbW91bnQiLCJwYWlkSW52b2ljZXMiLCJpbnYiLCJvdXRzdGFuZGluZ0ludm9pY2VzIiwidG90YWxDb2xsZWN0ZWQiLCJ0b3RhbCIsInRvdGFsT3V0c3RhbmRpbmciLCJjdXJyZW50WWVhckludm9pY2VzIiwiaW52b2ljZURhdGUiLCJkYXRlIiwieXRkUmV2ZW51ZSIsInl0ZFByb2ZpdCIsIm1vY2tEYXRhIiwiY3VycmVudFllYXJNdWx0aXBsaWVyIiwibGFzdFllYXJNdWx0aXBsaWVyIiwidHdvWWVhcnNBZ29NdWx0aXBsaWVyIiwiY3VycmVudFllYXJPdmVyaGVhZCIsImxhc3RZZWFyT3ZlcmhlYWQiLCJ0d29ZZWFyc0Fnb092ZXJoZWFkIiwiY3VycmVudFllYXJSZXZlbnVlUGVyRW1wbG95ZWUiLCJsYXN0WWVhclJldmVudWVQZXJFbXBsb3llZSIsInR3b1llYXJzQWdvUmV2ZW51ZVBlckVtcGxveWVlIiwiY3VycmVudENhc2hmbG93IiwicHJldmlvdXNNb250aENhc2hmbG93IiwiY2FzaGZsb3dUcmVuZCIsIm92ZXJkdWVJbnZvaWNlVmFsdWUiLCJ0b3RhbE91dHN0YW5kaW5nSW52b2ljZXMiLCJhdmVyYWdlRGF5c1RvUGF5bWVudCIsImxhc3RZZWFyWXRkUHJvZml0IiwiY3VycmVudFllYXJHcm9zc01hcmdpbiIsImxhc3RZZWFyR3Jvc3NNYXJnaW4iLCJ5dGRPcGVyYXRpbmdJbmNvbWUiLCJsYXN0WWVhcll0ZE9wZXJhdGluZ0luY29tZSIsInRyYWlsaW5nMTJNb250aHMiLCJBcnJheSIsImZyb20iLCJfIiwiaSIsIm1vbnRoIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwicmV2ZW51ZSIsIk1hdGgiLCJyYW5kb20iLCJleHBlbnNlcyIsInByb2ZpdCIsInJvdW5kIiwicHJvZml0TWFyZ2luIiwiZm9yZWNhc3QiLCJwcm9qZWN0ZWRSZXZlbnVlIiwicHJvamVjdGVkRXhwZW5zZXMiLCJwcm9qZWN0ZWRQcm9maXQiLCJhdmVyYWdlUHJvamVjdFNpemUiLCJtYXgiLCJjbGllbnRSZXRlbnRpb25SYXRlIiwidG90YWxBY3RpdmVQcm9qZWN0cyIsInRvdGFsRW1wbG95ZWVzIiwicmVnZXgiLCJtYXRjaCIsInBhcnNlSW50IiwibWludXRlcyIsInNlY29uZHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/dashboard/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/clockify.ts":
/*!*************************!*\
  !*** ./lib/clockify.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   fetchAllClockifyTimeSummaries: () => (/* binding */ fetchAllClockifyTimeSummaries),\n/* harmony export */   fetchClockifyProjects: () => (/* binding */ fetchClockifyProjects),\n/* harmony export */   fetchClockifyTimeEntries: () => (/* binding */ fetchClockifyTimeEntries),\n/* harmony export */   fetchClockifyTimeReport: () => (/* binding */ fetchClockifyTimeReport)\n/* harmony export */ });\nclass ClockifyService {\n    constructor(){\n        this.apiKey = null;\n        this.workspaceId = null;\n        this.baseUrl = \"https://api.clockify.me/api/v1\";\n        this.isConfigured = false;\n        this.apiKey = process.env.CLOCKIFY_API_KEY || null;\n        this.workspaceId = process.env.CLOCKIFY_WORKSPACE_ID || null;\n        // Check if we have valid credentials\n        if (this.apiKey && this.apiKey !== \"your_clockify_api_key_here\" && this.workspaceId && this.workspaceId !== \"your_clockify_workspace_id_here\") {\n            this.isConfigured = true;\n            console.log(\"Clockify service initialized with valid credentials\");\n        } else {\n            this.isConfigured = false;\n            console.warn(\"Clockify service initialized without valid credentials - will use mock data\");\n            console.warn(\"Please set CLOCKIFY_API_KEY and CLOCKIFY_WORKSPACE_ID in your environment variables\");\n        }\n    }\n    getHeaders() {\n        if (!this.apiKey) {\n            throw new Error(\"Clockify API key not configured\");\n        }\n        return {\n            \"X-Api-Key\": this.apiKey,\n            \"Content-Type\": \"application/json\"\n        };\n    }\n    async makeRequest(endpoint, params) {\n        if (!this.isConfigured) {\n            throw new Error(\"Clockify service not properly configured\");\n        }\n        try {\n            const url = new URL(`${this.baseUrl}${endpoint}`);\n            if (params) {\n                Object.keys(params).forEach((key)=>{\n                    if (params[key] !== undefined && params[key] !== null) {\n                        url.searchParams.append(key, params[key]);\n                    }\n                });\n            }\n            const response = await fetch(url.toString(), {\n                method: \"GET\",\n                headers: this.getHeaders()\n            });\n            if (response.status === 401) {\n                throw new Error(\"Clockify API authentication failed - check your API key\");\n            }\n            if (response.status === 403) {\n                throw new Error(\"Clockify API access forbidden - check your workspace ID and permissions\");\n            }\n            if (response.status === 429) {\n                throw new Error(\"Clockify API rate limit exceeded - try again later\");\n            }\n            if (!response.ok) {\n                throw new Error(`Clockify API error: ${response.status} ${response.statusText}`);\n            }\n            return await response.json();\n        } catch (error) {\n            if (error instanceof Error) {\n                throw error;\n            }\n            throw new Error(`Clockify API request failed: ${error}`);\n        }\n    }\n    // Check if the service is properly configured\n    isServiceConfigured() {\n        return this.isConfigured;\n    }\n    // Get configuration status for debugging\n    getConfigurationStatus() {\n        return {\n            configured: this.isConfigured,\n            hasApiKey: !!(this.apiKey && this.apiKey !== \"your_clockify_api_key_here\"),\n            hasWorkspaceId: !!(this.workspaceId && this.workspaceId !== \"your_clockify_workspace_id_here\")\n        };\n    }\n    async getUser() {\n        try {\n            return await this.makeRequest(\"/user\");\n        } catch (error) {\n            console.error(\"Failed to get Clockify user:\", error);\n            // Return mock user data when Clockify fails\n            return {\n                id: \"mock-user-id\",\n                name: \"Mock User\",\n                email: \"user@example.com\",\n                status: \"ACTIVE\"\n            };\n        }\n    }\n    async getWorkspaces() {\n        try {\n            return await this.makeRequest(\"/workspaces\");\n        } catch (error) {\n            console.error(\"Failed to get Clockify workspaces:\", error);\n            // Return mock workspace data when Clockify fails\n            return [\n                {\n                    id: \"mock-workspace-id\",\n                    name: \"Mock Workspace\",\n                    hourlyRate: {\n                        amount: 100,\n                        currency: \"USD\"\n                    }\n                }\n            ];\n        }\n    }\n    async getProjects() {\n        try {\n            if (!this.workspaceId) {\n                throw new Error(\"Workspace ID not configured\");\n            }\n            return await this.makeRequest(`/workspaces/${this.workspaceId}/projects`);\n        } catch (error) {\n            console.error(\"Failed to get Clockify projects:\", error);\n            // Return mock project data when Clockify fails\n            return [\n                {\n                    id: \"mock-project-1\",\n                    name: \"Mock Project 1\",\n                    clientId: \"mock-client-1\",\n                    clientName: \"Mock Client 1\",\n                    status: \"ACTIVE\",\n                    billable: true,\n                    hourlyRate: {\n                        amount: 150,\n                        currency: \"USD\"\n                    }\n                },\n                {\n                    id: \"mock-project-2\",\n                    name: \"Mock Project 2\",\n                    clientId: \"mock-client-2\",\n                    clientName: \"Mock Client 2\",\n                    status: \"ACTIVE\",\n                    billable: true,\n                    hourlyRate: {\n                        amount: 175,\n                        currency: \"USD\"\n                    }\n                }\n            ];\n        }\n    }\n    async getTimeEntries(projectId, startDate, endDate) {\n        try {\n            if (!this.workspaceId) {\n                throw new Error(\"Workspace ID not configured\");\n            }\n            return await this.makeRequest(`/workspaces/${this.workspaceId}/projects/${projectId}/time-entries`, {\n                start: startDate,\n                end: endDate\n            });\n        } catch (error) {\n            console.error(\"Failed to get Clockify time entries:\", error);\n            // Return mock time entry data when Clockify fails\n            return [\n                {\n                    id: \"mock-time-entry-1\",\n                    description: \"Mock work session\",\n                    timeInterval: {\n                        start: startDate,\n                        end: endDate,\n                        duration: \"PT2H30M\"\n                    },\n                    billable: true,\n                    userId: \"mock-user-id\",\n                    userName: \"Mock User\"\n                }\n            ];\n        }\n    }\n    async getAllTimeEntries(startDate, endDate) {\n        try {\n            if (!this.workspaceId) {\n                throw new Error(\"Workspace ID not configured\");\n            }\n            return await this.makeRequest(`/workspaces/${this.workspaceId}/time-entries`, {\n                start: startDate,\n                end: endDate\n            });\n        } catch (error) {\n            console.error(\"Failed to get all Clockify time entries:\", error);\n            // Return mock time entry data when Clockify fails\n            return [\n                {\n                    id: \"mock-time-entry-1\",\n                    description: \"Mock work session\",\n                    timeInterval: {\n                        start: startDate,\n                        end: endDate,\n                        duration: \"PT8H0M\"\n                    },\n                    billable: true,\n                    userId: \"mock-user-id\",\n                    userName: \"Mock User\",\n                    projectId: \"mock-project-1\",\n                    projectName: \"Mock Project 1\"\n                }\n            ];\n        }\n    }\n    async getUsers() {\n        try {\n            if (!this.workspaceId) {\n                throw new Error(\"Workspace ID not configured\");\n            }\n            return await this.makeRequest(`/workspaces/${this.workspaceId}/users`);\n        } catch (error) {\n            console.error(\"Failed to get Clockify users:\", error);\n            // Return mock user data when Clockify fails\n            return [\n                {\n                    id: \"mock-user-1\",\n                    name: \"Mock User 1\",\n                    email: \"user1@example.com\",\n                    status: \"ACTIVE\",\n                    hourlyRate: {\n                        amount: 100,\n                        currency: \"USD\"\n                    }\n                },\n                {\n                    id: \"mock-user-2\",\n                    name: \"Mock User 2\",\n                    email: \"user2@example.com\",\n                    status: \"ACTIVE\",\n                    hourlyRate: {\n                        amount: 120,\n                        currency: \"USD\"\n                    }\n                }\n            ];\n        }\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new ClockifyService());\n// Export convenience functions\nconst fetchClockifyProjects = async ()=>{\n    try {\n        return await clockifyService.getProjects();\n    } catch (error) {\n        console.error(\"Error fetching Clockify projects:\", error);\n        return [];\n    }\n};\nconst fetchClockifyTimeEntries = async (projectId, startDate, endDate)=>{\n    try {\n        return await clockifyService.getTimeEntries(projectId, startDate || \"\", endDate || \"\");\n    } catch (error) {\n        console.error(\"Error fetching Clockify time entries:\", error);\n        return [];\n    }\n};\nconst fetchClockifyTimeReport = async (projectId, startDate, endDate)=>{\n    try {\n        return await clockifyService.getProjectTimeReport(projectId, startDate, endDate);\n    } catch (error) {\n        console.error(\"Error fetching Clockify time report:\", error);\n        return null;\n    }\n};\nconst fetchAllClockifyTimeSummaries = async (startDate, endDate)=>{\n    try {\n        return await clockifyService.getAllProjectsTimeSummary(startDate, endDate);\n    } catch (error) {\n        console.error(\"Error fetching Clockify time summaries:\", error);\n        return [];\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0FBQ0YsRUFBRTtBQUVLLE1BQU1rQywyQkFBMkIsT0FDdENmLFdBQ0FDLFdBQ0FDO0lBRUEsSUFBSTtRQUNGLE9BQU8sTUFBTVksZ0JBQWdCZixjQUFjLENBQUNDLFdBQVdDLGFBQWEsSUFBSUMsV0FBVztJQUNyRixFQUFFLE9BQU9yQixPQUFPO1FBQ2QxQixRQUFRMEIsS0FBSyxDQUFDLHlDQUF5Q0E7UUFDdkQsT0FBTyxFQUFFO0lBQ1g7QUFDRixFQUFFO0FBRUssTUFBTW1DLDBCQUEwQixPQUNyQ2hCLFdBQ0FDLFdBQ0FDO0lBRUEsSUFBSTtRQUNGLE9BQU8sTUFBTVksZ0JBQWdCRyxvQkFBb0IsQ0FBQ2pCLFdBQVdDLFdBQVdDO0lBQzFFLEVBQUUsT0FBT3JCLE9BQU87UUFDZDFCLFFBQVEwQixLQUFLLENBQUMsd0NBQXdDQTtRQUN0RCxPQUFPO0lBQ1Q7QUFDRixFQUFFO0FBRUssTUFBTXFDLGdDQUFnQyxPQUMzQ2pCLFdBQ0FDO0lBRUEsSUFBSTtRQUNGLE9BQU8sTUFBTVksZ0JBQWdCSyx5QkFBeUIsQ0FBQ2xCLFdBQVdDO0lBQ3BFLEVBQUUsT0FBT3JCLE9BQU87UUFDZDFCLFFBQVEwQixLQUFLLENBQUMsMkNBQTJDQTtRQUN6RCxPQUFPLEVBQUU7SUFDWDtBQUNGLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b2hvLWJpbGxpbmctcGxhdGZvcm0vLi9saWIvY2xvY2tpZnkudHM/OTBmYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuXG5leHBvcnQgaW50ZXJmYWNlIENsb2NraWZ5VGltZUVudHJ5IHtcbiAgaWQ6IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgdXNlcklkOiBzdHJpbmc7XG4gIGJpbGxhYmxlOiBib29sZWFuO1xuICB0YXNrSWQ/OiBzdHJpbmc7XG4gIHByb2plY3RJZDogc3RyaW5nO1xuICB0aW1lSW50ZXJ2YWw6IHtcbiAgICBzdGFydDogc3RyaW5nO1xuICAgIGVuZD86IHN0cmluZztcbiAgICBkdXJhdGlvbjogc3RyaW5nO1xuICB9O1xuICBob3VybHlSYXRlPzoge1xuICAgIGFtb3VudDogbnVtYmVyO1xuICAgIGN1cnJlbmN5OiBzdHJpbmc7XG4gIH07XG4gIGNvc3RSYXRlPzoge1xuICAgIGFtb3VudDogbnVtYmVyO1xuICAgIGN1cnJlbmN5OiBzdHJpbmc7XG4gIH07XG4gIGlzTG9ja2VkOiBib29sZWFuO1xuICBjdXN0b21GaWVsZFZhbHVlczogYW55W107XG4gIHR5cGU6IHN0cmluZztcbiAgdGFnczogYW55W107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2xvY2tpZnlQcm9qZWN0IHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICB3b3Jrc3BhY2VJZDogc3RyaW5nO1xuICBjbGllbnRJZD86IHN0cmluZztcbiAgY2xpZW50TmFtZT86IHN0cmluZztcbiAgaXNQdWJsaWM6IGJvb2xlYW47XG4gIGlzVGVtcGxhdGU6IGJvb2xlYW47XG4gIGNvbG9yOiBzdHJpbmc7XG4gIG5vdGU/OiBzdHJpbmc7XG4gIGJpbGxhYmxlOiBib29sZWFuO1xuICBwdWJsaWM6IGJvb2xlYW47XG4gIGFyY2hpdmVkOiBib29sZWFuO1xuICBlc3RpbWF0ZToge1xuICAgIGVzdGltYXRlOiBzdHJpbmc7XG4gICAgdHlwZTogc3RyaW5nO1xuICB9O1xuICBzdGF0dXM6IHN0cmluZztcbiAgZHVyYXRpb246IHN0cmluZztcbiAgYnVkZ2V0RXN0aW1hdGU6IG51bWJlcjtcbiAgYnVkZ2V0VHlwZTogc3RyaW5nO1xuICBob3VybHlSYXRlOiB7XG4gICAgYW1vdW50OiBudW1iZXI7XG4gICAgY3VycmVuY3k6IHN0cmluZztcbiAgfTtcbiAgY29zdFJhdGU6IHtcbiAgICBhbW91bnQ6IG51bWJlcjtcbiAgICBjdXJyZW5jeTogc3RyaW5nO1xuICB9O1xuICB0aW1lRXN0aW1hdGU6IHN0cmluZztcbiAgYnVkZ2V0OiBudW1iZXI7XG4gIHNwZW50OiBzdHJpbmc7XG4gIHByb2dyZXNzOiBudW1iZXI7XG4gIHJhdGU6IG51bWJlcjtcbiAgcmF0ZUxhc3RVcGRhdGVkOiBzdHJpbmc7XG4gIGZpeGVkRmVlOiBudW1iZXI7XG4gIG1lbWJlcnNoaXBzOiBhbnlbXTtcbiAgdGFza0NvdW50OiB7XG4gICAgdG90YWw6IG51bWJlcjtcbiAgICBlc3RpbWF0ZTogbnVtYmVyO1xuICB9O1xuICBjdXN0b21GaWVsZHM6IGFueVtdO1xuICBzdGFydERhdGU6IHN0cmluZztcbiAgZW5kRGF0ZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDbG9ja2lmeVVzZXIge1xuICBpZDogc3RyaW5nO1xuICBlbWFpbDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIHByb2ZpbGVQaWN0dXJlOiBzdHJpbmc7XG4gIHN0YXR1czogc3RyaW5nO1xuICBhY3RpdmVXb3Jrc3BhY2U6IHN0cmluZztcbiAgZGVmYXVsdFdvcmtzcGFjZTogc3RyaW5nO1xuICBzZXR0aW5nczogYW55O1xuICBtZW1iZXJzaGlwczogYW55W107XG4gIHByb2ZpbGVQaWN0dXJlVXJsOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2xvY2tpZnlXb3Jrc3BhY2Uge1xuICBpZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIHByb2ZpbGU6IG51bWJlcjtcbiAgcHJlbWl1bTogYm9vbGVhbjtcbiAgYWRtaW46IGJvb2xlYW47XG4gIGRlZmF1bHRIb3VybHlSYXRlOiBudW1iZXI7XG4gIGRlZmF1bHRDdXJyZW5jeTogc3RyaW5nO1xuICBvbmx5QWRtaW5zTWF5Q3JlYXRlUHJvamVjdHM6IGJvb2xlYW47XG4gIG9ubHlBZG1pbnNTZWVCaWxsYWJsZVJhdGVzOiBib29sZWFuO1xuICBvbmx5QWRtaW5zU2VlVGVhbURhc2hib2FyZDogYm9vbGVhbjtcbiAgcHJvamVjdHNCaWxsYWJsZUJ5RGVmYXVsdDogYm9vbGVhbjtcbiAgcm91bmRpbmc6IG51bWJlcjtcbiAgcm91bmRpbmdNaW51dGVzOiBudW1iZXI7XG4gIGxvZ286IHN0cmluZztcbiAgaWNhbFVybDogc3RyaW5nO1xuICBpY2FsRW5hYmxlZDogYm9vbGVhbjtcbiAgY3N2VXBsb2FkOiB7XG4gICAgZW5hYmxlZDogYm9vbGVhbjtcbiAgICBkYXRlRm9ybWF0OiBzdHJpbmc7XG4gICAgdGltZUZvcm1hdDogc3RyaW5nO1xuICB9O1xuICBzdWJzY3JpcHRpb246IHtcbiAgICBzdGFydERhdGU6IHN0cmluZztcbiAgICBlbmREYXRlOiBzdHJpbmc7XG4gICAgdHJpYWw6IGJvb2xlYW47XG4gICAgc3RhdHVzOiBzdHJpbmc7XG4gIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2xvY2tpZnlUaW1lUmVwb3J0IHtcbiAgcHJvamVjdElkOiBzdHJpbmc7XG4gIHByb2plY3ROYW1lOiBzdHJpbmc7XG4gIHRvdGFsSG91cnM6IG51bWJlcjtcbiAgYmlsbGFibGVIb3VyczogbnVtYmVyO1xuICBub25CaWxsYWJsZUhvdXJzOiBudW1iZXI7XG4gIHRvdGFsQW1vdW50OiBudW1iZXI7XG4gIGJpbGxhYmxlQW1vdW50OiBudW1iZXI7XG4gIG5vbkJpbGxhYmxlQW1vdW50OiBudW1iZXI7XG4gIGVudHJpZXM6IENsb2NraWZ5VGltZUVudHJ5W107XG4gIHBlcmlvZDoge1xuICAgIHN0YXJ0OiBzdHJpbmc7XG4gICAgZW5kOiBzdHJpbmc7XG4gIH07XG59XG5cbmludGVyZmFjZSBUb2tlblJlc3BvbnNlIHtcbiAgYWNjZXNzX3Rva2VuOiBzdHJpbmc7XG4gIGV4cGlyZXNfaW46IG51bWJlcjtcbiAgdG9rZW5fdHlwZTogc3RyaW5nO1xufVxuXG5jbGFzcyBDbG9ja2lmeVNlcnZpY2Uge1xuICBwcml2YXRlIGFwaUtleTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgd29ya3NwYWNlSWQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGJhc2VVcmwgPSAnaHR0cHM6Ly9hcGkuY2xvY2tpZnkubWUvYXBpL3YxJztcbiAgcHJpdmF0ZSBpc0NvbmZpZ3VyZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmFwaUtleSA9IHByb2Nlc3MuZW52LkNMT0NLSUZZX0FQSV9LRVkgfHwgbnVsbDtcbiAgICB0aGlzLndvcmtzcGFjZUlkID0gcHJvY2Vzcy5lbnYuQ0xPQ0tJRllfV09SS1NQQUNFX0lEIHx8IG51bGw7XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgd2UgaGF2ZSB2YWxpZCBjcmVkZW50aWFsc1xuICAgIGlmICh0aGlzLmFwaUtleSAmJiB0aGlzLmFwaUtleSAhPT0gJ3lvdXJfY2xvY2tpZnlfYXBpX2tleV9oZXJlJyAmJiB0aGlzLndvcmtzcGFjZUlkICYmIHRoaXMud29ya3NwYWNlSWQgIT09ICd5b3VyX2Nsb2NraWZ5X3dvcmtzcGFjZV9pZF9oZXJlJykge1xuICAgICAgdGhpcy5pc0NvbmZpZ3VyZWQgPSB0cnVlO1xuICAgICAgY29uc29sZS5sb2coJ0Nsb2NraWZ5IHNlcnZpY2UgaW5pdGlhbGl6ZWQgd2l0aCB2YWxpZCBjcmVkZW50aWFscycpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmlzQ29uZmlndXJlZCA9IGZhbHNlO1xuICAgICAgY29uc29sZS53YXJuKCdDbG9ja2lmeSBzZXJ2aWNlIGluaXRpYWxpemVkIHdpdGhvdXQgdmFsaWQgY3JlZGVudGlhbHMgLSB3aWxsIHVzZSBtb2NrIGRhdGEnKTtcbiAgICAgIGNvbnNvbGUud2FybignUGxlYXNlIHNldCBDTE9DS0lGWV9BUElfS0VZIGFuZCBDTE9DS0lGWV9XT1JLU1BBQ0VfSUQgaW4geW91ciBlbnZpcm9ubWVudCB2YXJpYWJsZXMnKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldEhlYWRlcnMoKSB7XG4gICAgaWYgKCF0aGlzLmFwaUtleSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDbG9ja2lmeSBBUEkga2V5IG5vdCBjb25maWd1cmVkJyk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAnWC1BcGktS2V5JzogdGhpcy5hcGlLZXksXG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIG1ha2VSZXF1ZXN0KGVuZHBvaW50OiBzdHJpbmcsIHBhcmFtcz86IGFueSk6IFByb21pc2U8YW55PiB7XG4gICAgaWYgKCF0aGlzLmlzQ29uZmlndXJlZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDbG9ja2lmeSBzZXJ2aWNlIG5vdCBwcm9wZXJseSBjb25maWd1cmVkJyk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoYCR7dGhpcy5iYXNlVXJsfSR7ZW5kcG9pbnR9YCk7XG4gICAgICBpZiAocGFyYW1zKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKHBhcmFtcykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgIGlmIChwYXJhbXNba2V5XSAhPT0gdW5kZWZpbmVkICYmIHBhcmFtc1trZXldICE9PSBudWxsKSB7XG4gICAgICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChrZXksIHBhcmFtc1trZXldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybC50b1N0cmluZygpLCB7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuZ2V0SGVhZGVycygpLFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nsb2NraWZ5IEFQSSBhdXRoZW50aWNhdGlvbiBmYWlsZWQgLSBjaGVjayB5b3VyIEFQSSBrZXknKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2xvY2tpZnkgQVBJIGFjY2VzcyBmb3JiaWRkZW4gLSBjaGVjayB5b3VyIHdvcmtzcGFjZSBJRCBhbmQgcGVybWlzc2lvbnMnKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDI5KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2xvY2tpZnkgQVBJIHJhdGUgbGltaXQgZXhjZWVkZWQgLSB0cnkgYWdhaW4gbGF0ZXInKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENsb2NraWZ5IEFQSSBlcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYENsb2NraWZ5IEFQSSByZXF1ZXN0IGZhaWxlZDogJHtlcnJvcn1gKTtcbiAgICB9XG4gIH1cblxuICAvLyBDaGVjayBpZiB0aGUgc2VydmljZSBpcyBwcm9wZXJseSBjb25maWd1cmVkXG4gIHB1YmxpYyBpc1NlcnZpY2VDb25maWd1cmVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmlzQ29uZmlndXJlZDtcbiAgfVxuXG4gIC8vIEdldCBjb25maWd1cmF0aW9uIHN0YXR1cyBmb3IgZGVidWdnaW5nXG4gIHB1YmxpYyBnZXRDb25maWd1cmF0aW9uU3RhdHVzKCk6IHsgY29uZmlndXJlZDogYm9vbGVhbjsgaGFzQXBpS2V5OiBib29sZWFuOyBoYXNXb3Jrc3BhY2VJZDogYm9vbGVhbiB9IHtcbiAgICByZXR1cm4ge1xuICAgICAgY29uZmlndXJlZDogdGhpcy5pc0NvbmZpZ3VyZWQsXG4gICAgICBoYXNBcGlLZXk6ICEhKHRoaXMuYXBpS2V5ICYmIHRoaXMuYXBpS2V5ICE9PSAneW91cl9jbG9ja2lmeV9hcGlfa2V5X2hlcmUnKSxcbiAgICAgIGhhc1dvcmtzcGFjZUlkOiAhISh0aGlzLndvcmtzcGFjZUlkICYmIHRoaXMud29ya3NwYWNlSWQgIT09ICd5b3VyX2Nsb2NraWZ5X3dvcmtzcGFjZV9pZF9oZXJlJylcbiAgICB9O1xuICB9XG5cbiAgYXN5bmMgZ2V0VXNlcigpOiBQcm9taXNlPGFueT4ge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5tYWtlUmVxdWVzdCgnL3VzZXInKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGdldCBDbG9ja2lmeSB1c2VyOicsIGVycm9yKTtcbiAgICAgIC8vIFJldHVybiBtb2NrIHVzZXIgZGF0YSB3aGVuIENsb2NraWZ5IGZhaWxzXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogJ21vY2stdXNlci1pZCcsXG4gICAgICAgIG5hbWU6ICdNb2NrIFVzZXInLFxuICAgICAgICBlbWFpbDogJ3VzZXJAZXhhbXBsZS5jb20nLFxuICAgICAgICBzdGF0dXM6ICdBQ1RJVkUnXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldFdvcmtzcGFjZXMoKTogUHJvbWlzZTxhbnlbXT4ge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5tYWtlUmVxdWVzdCgnL3dvcmtzcGFjZXMnKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGdldCBDbG9ja2lmeSB3b3Jrc3BhY2VzOicsIGVycm9yKTtcbiAgICAgIC8vIFJldHVybiBtb2NrIHdvcmtzcGFjZSBkYXRhIHdoZW4gQ2xvY2tpZnkgZmFpbHNcbiAgICAgIHJldHVybiBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ21vY2std29ya3NwYWNlLWlkJyxcbiAgICAgICAgICBuYW1lOiAnTW9jayBXb3Jrc3BhY2UnLFxuICAgICAgICAgIGhvdXJseVJhdGU6IHsgYW1vdW50OiAxMDAsIGN1cnJlbmN5OiAnVVNEJyB9XG4gICAgICAgIH1cbiAgICAgIF07XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0UHJvamVjdHMoKTogUHJvbWlzZTxhbnlbXT4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIXRoaXMud29ya3NwYWNlSWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdXb3Jrc3BhY2UgSUQgbm90IGNvbmZpZ3VyZWQnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLm1ha2VSZXF1ZXN0KGAvd29ya3NwYWNlcy8ke3RoaXMud29ya3NwYWNlSWR9L3Byb2plY3RzYCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBnZXQgQ2xvY2tpZnkgcHJvamVjdHM6JywgZXJyb3IpO1xuICAgICAgLy8gUmV0dXJuIG1vY2sgcHJvamVjdCBkYXRhIHdoZW4gQ2xvY2tpZnkgZmFpbHNcbiAgICAgIHJldHVybiBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ21vY2stcHJvamVjdC0xJyxcbiAgICAgICAgICBuYW1lOiAnTW9jayBQcm9qZWN0IDEnLFxuICAgICAgICAgIGNsaWVudElkOiAnbW9jay1jbGllbnQtMScsXG4gICAgICAgICAgY2xpZW50TmFtZTogJ01vY2sgQ2xpZW50IDEnLFxuICAgICAgICAgIHN0YXR1czogJ0FDVElWRScsXG4gICAgICAgICAgYmlsbGFibGU6IHRydWUsXG4gICAgICAgICAgaG91cmx5UmF0ZTogeyBhbW91bnQ6IDE1MCwgY3VycmVuY3k6ICdVU0QnIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnbW9jay1wcm9qZWN0LTInLFxuICAgICAgICAgIG5hbWU6ICdNb2NrIFByb2plY3QgMicsXG4gICAgICAgICAgY2xpZW50SWQ6ICdtb2NrLWNsaWVudC0yJyxcbiAgICAgICAgICBjbGllbnROYW1lOiAnTW9jayBDbGllbnQgMicsXG4gICAgICAgICAgc3RhdHVzOiAnQUNUSVZFJyxcbiAgICAgICAgICBiaWxsYWJsZTogdHJ1ZSxcbiAgICAgICAgICBob3VybHlSYXRlOiB7IGFtb3VudDogMTc1LCBjdXJyZW5jeTogJ1VTRCcgfVxuICAgICAgICB9XG4gICAgICBdO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldFRpbWVFbnRyaWVzKHByb2plY3RJZDogc3RyaW5nLCBzdGFydERhdGU6IHN0cmluZywgZW5kRGF0ZTogc3RyaW5nKTogUHJvbWlzZTxhbnlbXT4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIXRoaXMud29ya3NwYWNlSWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdXb3Jrc3BhY2UgSUQgbm90IGNvbmZpZ3VyZWQnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLm1ha2VSZXF1ZXN0KGAvd29ya3NwYWNlcy8ke3RoaXMud29ya3NwYWNlSWR9L3Byb2plY3RzLyR7cHJvamVjdElkfS90aW1lLWVudHJpZXNgLCB7XG4gICAgICAgIHN0YXJ0OiBzdGFydERhdGUsXG4gICAgICAgIGVuZDogZW5kRGF0ZVxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBnZXQgQ2xvY2tpZnkgdGltZSBlbnRyaWVzOicsIGVycm9yKTtcbiAgICAgIC8vIFJldHVybiBtb2NrIHRpbWUgZW50cnkgZGF0YSB3aGVuIENsb2NraWZ5IGZhaWxzXG4gICAgICByZXR1cm4gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdtb2NrLXRpbWUtZW50cnktMScsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdNb2NrIHdvcmsgc2Vzc2lvbicsXG4gICAgICAgICAgdGltZUludGVydmFsOiB7XG4gICAgICAgICAgICBzdGFydDogc3RhcnREYXRlLFxuICAgICAgICAgICAgZW5kOiBlbmREYXRlLFxuICAgICAgICAgICAgZHVyYXRpb246ICdQVDJIMzBNJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgYmlsbGFibGU6IHRydWUsXG4gICAgICAgICAgdXNlcklkOiAnbW9jay11c2VyLWlkJyxcbiAgICAgICAgICB1c2VyTmFtZTogJ01vY2sgVXNlcidcbiAgICAgICAgfVxuICAgICAgXTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRBbGxUaW1lRW50cmllcyhzdGFydERhdGU6IHN0cmluZywgZW5kRGF0ZTogc3RyaW5nKTogUHJvbWlzZTxhbnlbXT4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIXRoaXMud29ya3NwYWNlSWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdXb3Jrc3BhY2UgSUQgbm90IGNvbmZpZ3VyZWQnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLm1ha2VSZXF1ZXN0KGAvd29ya3NwYWNlcy8ke3RoaXMud29ya3NwYWNlSWR9L3RpbWUtZW50cmllc2AsIHtcbiAgICAgICAgc3RhcnQ6IHN0YXJ0RGF0ZSxcbiAgICAgICAgZW5kOiBlbmREYXRlXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGdldCBhbGwgQ2xvY2tpZnkgdGltZSBlbnRyaWVzOicsIGVycm9yKTtcbiAgICAgIC8vIFJldHVybiBtb2NrIHRpbWUgZW50cnkgZGF0YSB3aGVuIENsb2NraWZ5IGZhaWxzXG4gICAgICByZXR1cm4gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdtb2NrLXRpbWUtZW50cnktMScsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdNb2NrIHdvcmsgc2Vzc2lvbicsXG4gICAgICAgICAgdGltZUludGVydmFsOiB7XG4gICAgICAgICAgICBzdGFydDogc3RhcnREYXRlLFxuICAgICAgICAgICAgZW5kOiBlbmREYXRlLFxuICAgICAgICAgICAgZHVyYXRpb246ICdQVDhIME0nXG4gICAgICAgICAgfSxcbiAgICAgICAgICBiaWxsYWJsZTogdHJ1ZSxcbiAgICAgICAgICB1c2VySWQ6ICdtb2NrLXVzZXItaWQnLFxuICAgICAgICAgIHVzZXJOYW1lOiAnTW9jayBVc2VyJyxcbiAgICAgICAgICBwcm9qZWN0SWQ6ICdtb2NrLXByb2plY3QtMScsXG4gICAgICAgICAgcHJvamVjdE5hbWU6ICdNb2NrIFByb2plY3QgMSdcbiAgICAgICAgfVxuICAgICAgXTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRVc2VycygpOiBQcm9taXNlPGFueVtdPiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghdGhpcy53b3Jrc3BhY2VJZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dvcmtzcGFjZSBJRCBub3QgY29uZmlndXJlZCcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMubWFrZVJlcXVlc3QoYC93b3Jrc3BhY2VzLyR7dGhpcy53b3Jrc3BhY2VJZH0vdXNlcnNgKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGdldCBDbG9ja2lmeSB1c2VyczonLCBlcnJvcik7XG4gICAgICAvLyBSZXR1cm4gbW9jayB1c2VyIGRhdGEgd2hlbiBDbG9ja2lmeSBmYWlsc1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnbW9jay11c2VyLTEnLFxuICAgICAgICAgIG5hbWU6ICdNb2NrIFVzZXIgMScsXG4gICAgICAgICAgZW1haWw6ICd1c2VyMUBleGFtcGxlLmNvbScsXG4gICAgICAgICAgc3RhdHVzOiAnQUNUSVZFJyxcbiAgICAgICAgICBob3VybHlSYXRlOiB7IGFtb3VudDogMTAwLCBjdXJyZW5jeTogJ1VTRCcgfVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdtb2NrLXVzZXItMicsXG4gICAgICAgICAgbmFtZTogJ01vY2sgVXNlciAyJyxcbiAgICAgICAgICBlbWFpbDogJ3VzZXIyQGV4YW1wbGUuY29tJyxcbiAgICAgICAgICBzdGF0dXM6ICdBQ1RJVkUnLFxuICAgICAgICAgIGhvdXJseVJhdGU6IHsgYW1vdW50OiAxMjAsIGN1cnJlbmN5OiAnVVNEJyB9XG4gICAgICAgIH1cbiAgICAgIF07XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBDbG9ja2lmeVNlcnZpY2UoKTtcblxuLy8gRXhwb3J0IGNvbnZlbmllbmNlIGZ1bmN0aW9uc1xuZXhwb3J0IGNvbnN0IGZldGNoQ2xvY2tpZnlQcm9qZWN0cyA9IGFzeW5jICgpID0+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gYXdhaXQgY2xvY2tpZnlTZXJ2aWNlLmdldFByb2plY3RzKCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgQ2xvY2tpZnkgcHJvamVjdHM6JywgZXJyb3IpO1xuICAgIHJldHVybiBbXTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGZldGNoQ2xvY2tpZnlUaW1lRW50cmllcyA9IGFzeW5jIChcbiAgcHJvamVjdElkOiBzdHJpbmcsXG4gIHN0YXJ0RGF0ZT86IHN0cmluZyxcbiAgZW5kRGF0ZT86IHN0cmluZ1xuKSA9PiB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGF3YWl0IGNsb2NraWZ5U2VydmljZS5nZXRUaW1lRW50cmllcyhwcm9qZWN0SWQsIHN0YXJ0RGF0ZSB8fCAnJywgZW5kRGF0ZSB8fCAnJyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgQ2xvY2tpZnkgdGltZSBlbnRyaWVzOicsIGVycm9yKTtcbiAgICByZXR1cm4gW107XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBmZXRjaENsb2NraWZ5VGltZVJlcG9ydCA9IGFzeW5jIChcbiAgcHJvamVjdElkOiBzdHJpbmcsXG4gIHN0YXJ0RGF0ZTogc3RyaW5nLFxuICBlbmREYXRlOiBzdHJpbmdcbikgPT4ge1xuICB0cnkge1xuICAgIHJldHVybiBhd2FpdCBjbG9ja2lmeVNlcnZpY2UuZ2V0UHJvamVjdFRpbWVSZXBvcnQocHJvamVjdElkLCBzdGFydERhdGUsIGVuZERhdGUpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIENsb2NraWZ5IHRpbWUgcmVwb3J0OicsIGVycm9yKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGZldGNoQWxsQ2xvY2tpZnlUaW1lU3VtbWFyaWVzID0gYXN5bmMgKFxuICBzdGFydERhdGU6IHN0cmluZyxcbiAgZW5kRGF0ZTogc3RyaW5nXG4pID0+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gYXdhaXQgY2xvY2tpZnlTZXJ2aWNlLmdldEFsbFByb2plY3RzVGltZVN1bW1hcnkoc3RhcnREYXRlLCBlbmREYXRlKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBDbG9ja2lmeSB0aW1lIHN1bW1hcmllczonLCBlcnJvcik7XG4gICAgcmV0dXJuIFtdO1xuICB9XG59O1xuIl0sIm5hbWVzIjpbIkNsb2NraWZ5U2VydmljZSIsImNvbnN0cnVjdG9yIiwiYXBpS2V5Iiwid29ya3NwYWNlSWQiLCJiYXNlVXJsIiwiaXNDb25maWd1cmVkIiwicHJvY2VzcyIsImVudiIsIkNMT0NLSUZZX0FQSV9LRVkiLCJDTE9DS0lGWV9XT1JLU1BBQ0VfSUQiLCJjb25zb2xlIiwibG9nIiwid2FybiIsImdldEhlYWRlcnMiLCJFcnJvciIsIm1ha2VSZXF1ZXN0IiwiZW5kcG9pbnQiLCJwYXJhbXMiLCJ1cmwiLCJVUkwiLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsImtleSIsInVuZGVmaW5lZCIsInNlYXJjaFBhcmFtcyIsImFwcGVuZCIsInJlc3BvbnNlIiwiZmV0Y2giLCJ0b1N0cmluZyIsIm1ldGhvZCIsImhlYWRlcnMiLCJzdGF0dXMiLCJvayIsInN0YXR1c1RleHQiLCJqc29uIiwiZXJyb3IiLCJpc1NlcnZpY2VDb25maWd1cmVkIiwiZ2V0Q29uZmlndXJhdGlvblN0YXR1cyIsImNvbmZpZ3VyZWQiLCJoYXNBcGlLZXkiLCJoYXNXb3Jrc3BhY2VJZCIsImdldFVzZXIiLCJpZCIsIm5hbWUiLCJlbWFpbCIsImdldFdvcmtzcGFjZXMiLCJob3VybHlSYXRlIiwiYW1vdW50IiwiY3VycmVuY3kiLCJnZXRQcm9qZWN0cyIsImNsaWVudElkIiwiY2xpZW50TmFtZSIsImJpbGxhYmxlIiwiZ2V0VGltZUVudHJpZXMiLCJwcm9qZWN0SWQiLCJzdGFydERhdGUiLCJlbmREYXRlIiwic3RhcnQiLCJlbmQiLCJkZXNjcmlwdGlvbiIsInRpbWVJbnRlcnZhbCIsImR1cmF0aW9uIiwidXNlcklkIiwidXNlck5hbWUiLCJnZXRBbGxUaW1lRW50cmllcyIsInByb2plY3ROYW1lIiwiZ2V0VXNlcnMiLCJmZXRjaENsb2NraWZ5UHJvamVjdHMiLCJjbG9ja2lmeVNlcnZpY2UiLCJmZXRjaENsb2NraWZ5VGltZUVudHJpZXMiLCJmZXRjaENsb2NraWZ5VGltZVJlcG9ydCIsImdldFByb2plY3RUaW1lUmVwb3J0IiwiZmV0Y2hBbGxDbG9ja2lmeVRpbWVTdW1tYXJpZXMiLCJnZXRBbGxQcm9qZWN0c1RpbWVTdW1tYXJ5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/clockify.ts\n");

/***/ }),

/***/ "(rsc)/./lib/zoho.ts":
/*!*********************!*\
  !*** ./lib/zoho.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fetchInvoices: () => (/* binding */ fetchInvoices),\n/* harmony export */   fetchProjects: () => (/* binding */ fetchProjects),\n/* harmony export */   zohoService: () => (/* binding */ zohoService)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"(rsc)/./node_modules/axios/lib/axios.js\");\n\nclass ZohoService {\n    constructor(){\n        this.accessToken = null;\n        this.tokenExpiry = 0;\n        this.refreshPromise = null;\n        this.TOKEN_REFRESH_BUFFER = 5 * 60 * 1000 // 5 minutes buffer\n        ;\n        this.autoRefreshTimer = null;\n        this.AUTO_REFRESH_INTERVAL = 45 * 60 * 1000 // 45 minutes\n        ;\n        this.lastRefreshTime = 0 // Track when auto-refresh was last triggered\n        ;\n        // Start automatic token refresh\n        this._startAutoRefresh();\n    }\n    _startAutoRefresh() {\n        // Clear any existing timer\n        if (this.autoRefreshTimer) {\n            clearInterval(this.autoRefreshTimer);\n        }\n        // Set up automatic refresh every 45 minutes\n        this.autoRefreshTimer = setInterval(async ()=>{\n            try {\n                console.log(\"Auto-refreshing Zoho token (45-minute interval)...\");\n                this.lastRefreshTime = Date.now(); // Track when refresh was triggered\n                await this.forceRefreshToken();\n                console.log(\"Auto-refresh completed successfully\");\n            } catch (error) {\n                console.error(\"Auto-refresh failed:\", error);\n            }\n        }, this.AUTO_REFRESH_INTERVAL);\n        // Set initial refresh time\n        this.lastRefreshTime = Date.now();\n        console.log(\"Automatic Zoho token refresh started (every 45 minutes)\");\n    }\n    _stopAutoRefresh() {\n        if (this.autoRefreshTimer) {\n            clearInterval(this.autoRefreshTimer);\n            this.autoRefreshTimer = null;\n            console.log(\"Automatic Zoho token refresh stopped\");\n        }\n    }\n    async getAccessToken() {\n        // Check if token is still valid (with buffer)\n        if (this.accessToken && Date.now() < this.tokenExpiry - this.TOKEN_REFRESH_BUFFER) {\n            return this.accessToken;\n        }\n        // If there's already a refresh in progress, wait for it\n        if (this.refreshPromise) {\n            return this.refreshPromise;\n        }\n        // Start a new refresh\n        this.refreshPromise = this.refreshAccessToken();\n        try {\n            const token = await this.refreshPromise;\n            return token;\n        } finally{\n            this.refreshPromise = null;\n        }\n    }\n    async refreshAccessToken() {\n        try {\n            console.log(\"Refreshing Zoho access token...\");\n            // Create form data for the request\n            const formData = new URLSearchParams();\n            formData.append(\"refresh_token\", \"1000.4bf26c4881dfba83aae32546453d662d.a9353e91362a18c457b5cbec86b10ed2\" || 0);\n            formData.append(\"client_id\", \"1000.8RL8WMTDXS0WIP2EJF2XUS6NDSLQEP\" || 0);\n            formData.append(\"client_secret\", \"8a7ee3c04f0a0d860dd215c4449deab9bf15d1d00b\" || 0);\n            formData.append(\"grant_type\", \"refresh_token\");\n            const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(\"https://accounts.zoho.com/oauth/v2/token\", formData, {\n                headers: {\n                    \"Content-Type\": \"application/x-www-form-urlencoded\"\n                }\n            });\n            this.accessToken = response.data.access_token;\n            this.tokenExpiry = Date.now() + response.data.expires_in * 1000;\n            console.log(`Token refreshed successfully. Expires in ${Math.round(response.data.expires_in / 60)} minutes`);\n            return this.accessToken;\n        } catch (error) {\n            console.error(\"Error refreshing Zoho access token:\", error);\n            throw new Error(\"Failed to authenticate with Zoho\");\n        }\n    }\n    async makeRequest(endpoint) {\n        const token = await this.getAccessToken();\n        try {\n            const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(`https://www.zohoapis.com/books/v3/${endpoint}`, {\n                headers: {\n                    \"Authorization\": `Bearer ${token}`,\n                    \"Content-Type\": \"application/json\"\n                },\n                params: {\n                    organization_id: \"652094923\"\n                }\n            });\n            return response.data;\n        } catch (error) {\n            // If we get a 401, try refreshing the token once\n            if (error.response?.status === 401) {\n                console.log(\"Token expired, refreshing...\");\n                this.accessToken = null;\n                this.tokenExpiry = 0;\n                const newToken = await this.getAccessToken();\n                // Retry the request with the new token\n                const retryResponse = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(`https://www.zohoapis.com/books/v3/${endpoint}`, {\n                    headers: {\n                        \"Authorization\": `Bearer ${newToken}`,\n                        \"Content-Type\": \"application/json\"\n                    },\n                    params: {\n                        organization_id: \"652094923\"\n                    }\n                });\n                return retryResponse.data;\n            }\n            console.error(`Error making Zoho request to ${endpoint}:`, error);\n            throw new Error(`Failed to fetch data from Zoho: ${endpoint}`);\n        }\n    }\n    async getProjects() {\n        try {\n            let allProjects = [];\n            let page = 1;\n            const perPage = 200;\n            while(true){\n                const data = await this.makeRequest(`projects?page=${page}&per_page=${perPage}`);\n                const projects = data.projects?.map((project)=>{\n                    // Log the first project to see available fields\n                    if (page === 1 && allProjects.length === 0) {\n                        console.log(\"Sample Zoho project data:\", JSON.stringify(project, null, 2));\n                    }\n                    return {\n                        project_id: project.project_id,\n                        project_name: project.project_name || project.name || \"\",\n                        description: project.description || \"\",\n                        status: project.status || \"active\",\n                        start_date: project.start_date || \"\",\n                        end_date: project.end_date || \"\",\n                        budget_amount: project.budget_amount || 0,\n                        rate_per_hour: project.rate_per_hour || 0,\n                        customer_id: project.customer_id || \"\",\n                        customer_name: project.customer_name || \"\",\n                        signed_fee: undefined\n                    };\n                }) || [];\n                allProjects = allProjects.concat(projects);\n                // Check if we've reached the end\n                if (projects.length < perPage) {\n                    break;\n                }\n                page++;\n            }\n            console.log(`Fetched ${allProjects.length} projects from Zoho`);\n            return allProjects;\n        } catch (error) {\n            console.error(\"Error fetching projects:\", error);\n            return [];\n        }\n    }\n    async getProjectsWithRevenueBudget() {\n        try {\n            console.log(\"Fetching projects with revenue budget data...\");\n            const projects = await this.getProjects();\n            // Log projects that have revenue_budget data\n            const projectsWithRevenueBudget = projects.filter((project)=>{\n                const hasRevenueBudget = project.signed_fee && project.signed_fee > 0;\n                if (hasRevenueBudget) {\n                    console.log(`Project ${project.project_name} has revenue budget: $${project.signed_fee}`);\n                }\n                return hasRevenueBudget;\n            });\n            console.log(`Found ${projectsWithRevenueBudget.length} projects with revenue budget data`);\n            return projects;\n        } catch (error) {\n            console.error(\"Error fetching projects with revenue budget:\", error);\n            return [];\n        }\n    }\n    async debugProjectFields() {\n        try {\n            console.log(\"Debugging Zoho project fields...\");\n            const data = await this.makeRequest(\"projects?page=1&per_page=5\");\n            if (data.projects && data.projects.length > 0) {\n                console.log(\"Available fields in Zoho project response:\");\n                const sampleProject = data.projects[0];\n                Object.keys(sampleProject).forEach((key)=>{\n                    console.log(`  ${key}: ${sampleProject[key]} (${typeof sampleProject[key]})`);\n                });\n                // Check specifically for revenue_budget\n                if (sampleProject.revenue_budget !== undefined) {\n                    console.log(`✅ Found revenue_budget field: ${sampleProject.revenue_budget}`);\n                } else {\n                    console.log(\"❌ revenue_budget field not found in Zoho response\");\n                    console.log(\"Available budget-related fields:\");\n                    Object.keys(sampleProject).forEach((key)=>{\n                        if (key.toLowerCase().includes(\"budget\") || key.toLowerCase().includes(\"revenue\")) {\n                            console.log(`  ${key}: ${sampleProject[key]}`);\n                        }\n                    });\n                }\n            } else {\n                console.log(\"No projects found in Zoho response\");\n            }\n        } catch (error) {\n            console.error(\"Error debugging project fields:\", error);\n        }\n    }\n    async getProjectsWithEstimates() {\n        try {\n            const projects = await this.getProjects();\n            // For the first few projects, try to get estimates to see if that contains the signed fee\n            const projectsWithEstimates = await Promise.all(projects.slice(0, 5).map(async (project)=>{\n                try {\n                    const estimates = await this.getProjectEstimates(project.project_id);\n                    const totalEstimateAmount = estimates.reduce((sum, estimate)=>sum + (estimate.total || 0), 0);\n                    console.log(`Project ${project.project_name} estimates:`, estimates.length, \"total amount:\", totalEstimateAmount);\n                    return {\n                        ...project,\n                        signed_fee: project.signed_fee || totalEstimateAmount || 0\n                    };\n                } catch (error) {\n                    console.error(`Error fetching estimates for project ${project.project_id}:`, error);\n                    return project;\n                }\n            }));\n            // Return all projects, with the first 5 having updated signed fees from estimates\n            return [\n                ...projectsWithEstimates,\n                ...projects.slice(5)\n            ];\n        } catch (error) {\n            console.error(\"Error fetching projects with estimates:\", error);\n            return [];\n        }\n    }\n    async getProjectsWithInvoiceTotals() {\n        try {\n            const [projects, invoices] = await Promise.all([\n                this.getProjects(),\n                this.getInvoices()\n            ]);\n            // Calculate signed fee as total of all invoices for each project\n            const projectsWithInvoiceTotals = projects.map((project)=>{\n                const projectInvoices = invoices.filter((invoice)=>invoice.project_id === project.project_id);\n                const totalInvoiceAmount = projectInvoices.reduce((sum, invoice)=>sum + invoice.amount, 0);\n                console.log(`Project ${project.project_name} invoices:`, projectInvoices.length, \"total amount:\", totalInvoiceAmount);\n                return {\n                    ...project,\n                    signed_fee: project.signed_fee || totalInvoiceAmount || 0\n                };\n            });\n            return projectsWithInvoiceTotals;\n        } catch (error) {\n            console.error(\"Error fetching projects with invoice totals:\", error);\n            return [];\n        }\n    }\n    async getInvoices() {\n        try {\n            const data = await this.makeRequest(\"invoices\");\n            return data.invoices?.map((invoice)=>({\n                    invoice_id: invoice.invoice_id,\n                    project_id: invoice.project_id,\n                    invoice_number: invoice.invoice_number,\n                    date: invoice.date,\n                    amount: invoice.total,\n                    status: invoice.status,\n                    billed_amount: invoice.billed_amount || 0,\n                    unbilled_amount: invoice.unbilled_amount || 0\n                })) || [];\n        } catch (error) {\n            console.error(\"Error fetching invoices:\", error);\n            return [];\n        }\n    }\n    async getProjectInvoices(projectId) {\n        try {\n            const data = await this.makeRequest(`projects/${projectId}/invoices`);\n            return data.invoices?.map((invoice)=>({\n                    invoice_id: invoice.invoice_id,\n                    project_id: invoice.project_id,\n                    invoice_number: invoice.invoice_number,\n                    date: invoice.date,\n                    amount: invoice.total,\n                    status: invoice.status,\n                    billed_amount: invoice.billed_amount || 0,\n                    unbilled_amount: invoice.unbilled_amount || 0\n                })) || [];\n        } catch (error) {\n            console.error(\"Error fetching project invoices:\", error);\n            return [];\n        }\n    }\n    async getProjectDetails(projectId) {\n        try {\n            const data = await this.makeRequest(`projects/${projectId}`);\n            console.log(`Project ${projectId} details:`, JSON.stringify(data, null, 2));\n            return data;\n        } catch (error) {\n            console.error(\"Error fetching project details:\", error);\n            return null;\n        }\n    }\n    async getProjectEstimates(projectId) {\n        try {\n            const data = await this.makeRequest(`projects/${projectId}/estimates`);\n            console.log(`Project ${projectId} estimates:`, JSON.stringify(data, null, 2));\n            return data.estimates || [];\n        } catch (error) {\n            console.error(\"Error fetching project estimates:\", error);\n            return [];\n        }\n    }\n    async getProjectContracts(projectId) {\n        try {\n            const data = await this.makeRequest(`projects/${projectId}/contracts`);\n            console.log(`Project ${projectId} contracts:`, JSON.stringify(data, null, 2));\n            return data.contracts || [];\n        } catch (error) {\n            console.error(\"Error fetching project contracts:\", error);\n            return [];\n        }\n    }\n    // Method to manually refresh token (for testing)\n    async forceRefreshToken() {\n        this.accessToken = null;\n        this.tokenExpiry = 0;\n        this.lastRefreshTime = Date.now(); // Track manual refresh time\n        await this.getAccessToken();\n    }\n    // Get token status for debugging\n    getTokenStatus() {\n        const now = Date.now();\n        return {\n            hasToken: !!this.accessToken,\n            expiresIn: this.tokenExpiry - now,\n            isExpired: now >= this.tokenExpiry\n        };\n    }\n    // Method to get auto-refresh status\n    getAutoRefreshStatus() {\n        const now = Date.now();\n        const timeSinceLastRefresh = now - this.lastRefreshTime;\n        const nextRefreshIn = Math.max(0, this.AUTO_REFRESH_INTERVAL - timeSinceLastRefresh);\n        return {\n            isActive: !!this.autoRefreshTimer,\n            nextRefreshIn\n        };\n    }\n    // Public method to start auto-refresh\n    enableAutoRefresh() {\n        this._startAutoRefresh();\n    }\n    // Public method to stop auto-refresh\n    disableAutoRefresh() {\n        this._stopAutoRefresh();\n    }\n    // Public method to get comprehensive status\n    getStatus() {\n        return {\n            ...this.getTokenStatus(),\n            autoRefresh: this.getAutoRefreshStatus()\n        };\n    }\n}\nconst zohoService = new ZohoService();\n// Export the functions that are being imported in page.tsx\nconst fetchProjects = async ()=>{\n    try {\n        console.log(\"Client: Fetching projects from API\");\n        const response = await fetch(\"/api/projects\");\n        const result = await response.json();\n        if (result.success) {\n            console.log(\"Client: Successfully fetched\", result.count, \"projects\");\n            return result.data;\n        } else {\n            console.error(\"Client: API returned error:\", result.error);\n            throw new Error(result.error);\n        }\n    } catch (error) {\n        console.error(\"Client: Error fetching projects:\", error);\n        throw error;\n    }\n};\nconst fetchInvoices = async ()=>{\n    try {\n        console.log(\"Client: Fetching invoices from API\");\n        const response = await fetch(\"/api/invoices\");\n        const result = await response.json();\n        if (result.success) {\n            console.log(\"Client: Successfully fetched\", result.count, \"invoices\");\n            return result.data;\n        } else {\n            console.error(\"Client: API returned error:\", result.error);\n            throw new Error(result.error);\n        }\n    } catch (error) {\n        console.error(\"Client: Error fetching invoices:\", error);\n        throw error;\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q2xCeEgsUUFBUUMsR0FBRyxDQUFDLGdDQUFnQ3FILE9BQU9HLEtBQUssRUFBRTtZQUMxRCxPQUFPSCxPQUFPakcsSUFBSTtRQUNwQixPQUFPO1lBQ0xyQixRQUFRSyxLQUFLLENBQUMsK0JBQStCaUgsT0FBT2pILEtBQUs7WUFDekQsTUFBTSxJQUFJcUIsTUFBTTRGLE9BQU9qSCxLQUFLO1FBQzlCO0lBQ0YsRUFBRSxPQUFPQSxPQUFPO1FBQ2RMLFFBQVFLLEtBQUssQ0FBQyxvQ0FBb0NBO1FBQ2xELE1BQU1BO0lBQ1I7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vem9oby1iaWxsaW5nLXBsYXRmb3JtLy4vbGliL3pvaG8udHM/ZTcwYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBab2hvUHJvamVjdCB7XHJcbiAgcHJvamVjdF9pZDogc3RyaW5nO1xyXG4gIHByb2plY3RfbmFtZTogc3RyaW5nOyAvLyBDaGFuZ2VkIGZyb20gbmFtZSB0byBwcm9qZWN0X25hbWVcclxuICBkZXNjcmlwdGlvbj86IHN0cmluZztcclxuICBzdGF0dXM6IHN0cmluZztcclxuICBzdGFydF9kYXRlOiBzdHJpbmc7XHJcbiAgZW5kX2RhdGU/OiBzdHJpbmc7XHJcbiAgYnVkZ2V0X2Ftb3VudD86IG51bWJlcjtcclxuICByYXRlX3Blcl9ob3VyPzogbnVtYmVyO1xyXG4gIGN1c3RvbWVyX2lkOiBzdHJpbmc7XHJcbiAgY3VzdG9tZXJfbmFtZTogc3RyaW5nO1xyXG4gIHNpZ25lZF9mZWU/OiBudW1iZXI7IC8vIEFkZGVkIGZvciBTaWduZWQgRmVlIGZyb20gWm9ob1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFpvaG9JbnZvaWNlIHtcclxuICBpbnZvaWNlX2lkOiBzdHJpbmc7XHJcbiAgcHJvamVjdF9pZDogc3RyaW5nO1xyXG4gIGludm9pY2VfbnVtYmVyOiBzdHJpbmc7XHJcbiAgZGF0ZTogc3RyaW5nO1xyXG4gIGFtb3VudDogbnVtYmVyO1xyXG4gIHN0YXR1czogc3RyaW5nO1xyXG4gIGJpbGxlZF9hbW91bnQ6IG51bWJlcjtcclxuICB1bmJpbGxlZF9hbW91bnQ6IG51bWJlcjtcclxufVxyXG5cclxuaW50ZXJmYWNlIFRva2VuUmVzcG9uc2Uge1xyXG4gIGFjY2Vzc190b2tlbjogc3RyaW5nO1xyXG4gIGV4cGlyZXNfaW46IG51bWJlcjtcclxuICBhcGlfZG9tYWluOiBzdHJpbmc7XHJcbiAgdG9rZW5fdHlwZTogc3RyaW5nO1xyXG4gIHJlZnJlc2hfdG9rZW4/OiBzdHJpbmc7XHJcbn1cclxuXHJcbmNsYXNzIFpvaG9TZXJ2aWNlIHtcclxuICBwcml2YXRlIGFjY2Vzc1Rva2VuOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcclxuICBwcml2YXRlIHRva2VuRXhwaXJ5OiBudW1iZXIgPSAwO1xyXG4gIHByaXZhdGUgcmVmcmVzaFByb21pc2U6IFByb21pc2U8c3RyaW5nPiB8IG51bGwgPSBudWxsO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgVE9LRU5fUkVGUkVTSF9CVUZGRVIgPSA1ICogNjAgKiAxMDAwOyAvLyA1IG1pbnV0ZXMgYnVmZmVyXHJcbiAgcHJpdmF0ZSBhdXRvUmVmcmVzaFRpbWVyOiBOb2RlSlMuVGltZW91dCB8IG51bGwgPSBudWxsO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgQVVUT19SRUZSRVNIX0lOVEVSVkFMID0gNDUgKiA2MCAqIDEwMDA7IC8vIDQ1IG1pbnV0ZXNcclxuICBwcml2YXRlIGxhc3RSZWZyZXNoVGltZTogbnVtYmVyID0gMDsgLy8gVHJhY2sgd2hlbiBhdXRvLXJlZnJlc2ggd2FzIGxhc3QgdHJpZ2dlcmVkXHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgLy8gU3RhcnQgYXV0b21hdGljIHRva2VuIHJlZnJlc2hcclxuICAgIHRoaXMuX3N0YXJ0QXV0b1JlZnJlc2goKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX3N0YXJ0QXV0b1JlZnJlc2goKTogdm9pZCB7XHJcbiAgICAvLyBDbGVhciBhbnkgZXhpc3RpbmcgdGltZXJcclxuICAgIGlmICh0aGlzLmF1dG9SZWZyZXNoVGltZXIpIHtcclxuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmF1dG9SZWZyZXNoVGltZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNldCB1cCBhdXRvbWF0aWMgcmVmcmVzaCBldmVyeSA0NSBtaW51dGVzXHJcbiAgICB0aGlzLmF1dG9SZWZyZXNoVGltZXIgPSBzZXRJbnRlcnZhbChhc3luYyAoKSA9PiB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0F1dG8tcmVmcmVzaGluZyBab2hvIHRva2VuICg0NS1taW51dGUgaW50ZXJ2YWwpLi4uJyk7XHJcbiAgICAgICAgdGhpcy5sYXN0UmVmcmVzaFRpbWUgPSBEYXRlLm5vdygpOyAvLyBUcmFjayB3aGVuIHJlZnJlc2ggd2FzIHRyaWdnZXJlZFxyXG4gICAgICAgIGF3YWl0IHRoaXMuZm9yY2VSZWZyZXNoVG9rZW4oKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnQXV0by1yZWZyZXNoIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHknKTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdBdXRvLXJlZnJlc2ggZmFpbGVkOicsIGVycm9yKTtcclxuICAgICAgfVxyXG4gICAgfSwgdGhpcy5BVVRPX1JFRlJFU0hfSU5URVJWQUwpO1xyXG5cclxuICAgIC8vIFNldCBpbml0aWFsIHJlZnJlc2ggdGltZVxyXG4gICAgdGhpcy5sYXN0UmVmcmVzaFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgY29uc29sZS5sb2coJ0F1dG9tYXRpYyBab2hvIHRva2VuIHJlZnJlc2ggc3RhcnRlZCAoZXZlcnkgNDUgbWludXRlcyknKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX3N0b3BBdXRvUmVmcmVzaCgpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmF1dG9SZWZyZXNoVGltZXIpIHtcclxuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmF1dG9SZWZyZXNoVGltZXIpO1xyXG4gICAgICB0aGlzLmF1dG9SZWZyZXNoVGltZXIgPSBudWxsO1xyXG4gICAgICBjb25zb2xlLmxvZygnQXV0b21hdGljIFpvaG8gdG9rZW4gcmVmcmVzaCBzdG9wcGVkJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFzeW5jIGdldEFjY2Vzc1Rva2VuKCk6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgICAvLyBDaGVjayBpZiB0b2tlbiBpcyBzdGlsbCB2YWxpZCAod2l0aCBidWZmZXIpXHJcbiAgICBpZiAodGhpcy5hY2Nlc3NUb2tlbiAmJiBEYXRlLm5vdygpIDwgKHRoaXMudG9rZW5FeHBpcnkgLSB0aGlzLlRPS0VOX1JFRlJFU0hfQlVGRkVSKSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5hY2Nlc3NUb2tlbjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiB0aGVyZSdzIGFscmVhZHkgYSByZWZyZXNoIGluIHByb2dyZXNzLCB3YWl0IGZvciBpdFxyXG4gICAgaWYgKHRoaXMucmVmcmVzaFByb21pc2UpIHtcclxuICAgICAgcmV0dXJuIHRoaXMucmVmcmVzaFByb21pc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU3RhcnQgYSBuZXcgcmVmcmVzaFxyXG4gICAgdGhpcy5yZWZyZXNoUHJvbWlzZSA9IHRoaXMucmVmcmVzaEFjY2Vzc1Rva2VuKCk7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB0b2tlbiA9IGF3YWl0IHRoaXMucmVmcmVzaFByb21pc2U7XHJcbiAgICAgIHJldHVybiB0b2tlbjtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHRoaXMucmVmcmVzaFByb21pc2UgPSBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhc3luYyByZWZyZXNoQWNjZXNzVG9rZW4oKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdSZWZyZXNoaW5nIFpvaG8gYWNjZXNzIHRva2VuLi4uJyk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBDcmVhdGUgZm9ybSBkYXRhIGZvciB0aGUgcmVxdWVzdFxyXG4gICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcclxuICAgICAgZm9ybURhdGEuYXBwZW5kKCdyZWZyZXNoX3Rva2VuJywgcHJvY2Vzcy5lbnYuWk9IT19SRUZSRVNIX1RPS0VOIHx8ICcnKTtcclxuICAgICAgZm9ybURhdGEuYXBwZW5kKCdjbGllbnRfaWQnLCBwcm9jZXNzLmVudi5aT0hPX0NMSUVOVF9JRCB8fCAnJyk7XHJcbiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnY2xpZW50X3NlY3JldCcsIHByb2Nlc3MuZW52LlpPSE9fQ0xJRU5UX1NFQ1JFVCB8fCAnJyk7XHJcbiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZ3JhbnRfdHlwZScsICdyZWZyZXNoX3Rva2VuJyk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3Q8VG9rZW5SZXNwb25zZT4oJ2h0dHBzOi8vYWNjb3VudHMuem9oby5jb20vb2F1dGgvdjIvdG9rZW4nLCBmb3JtRGF0YSwge1xyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyxcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHRoaXMuYWNjZXNzVG9rZW4gPSByZXNwb25zZS5kYXRhLmFjY2Vzc190b2tlbjtcclxuICAgICAgdGhpcy50b2tlbkV4cGlyeSA9IERhdGUubm93KCkgKyAocmVzcG9uc2UuZGF0YS5leHBpcmVzX2luICogMTAwMCk7XHJcblxyXG4gICAgICBjb25zb2xlLmxvZyhgVG9rZW4gcmVmcmVzaGVkIHN1Y2Nlc3NmdWxseS4gRXhwaXJlcyBpbiAke01hdGgucm91bmQocmVzcG9uc2UuZGF0YS5leHBpcmVzX2luIC8gNjApfSBtaW51dGVzYCk7XHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4gdGhpcy5hY2Nlc3NUb2tlbjtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlZnJlc2hpbmcgWm9obyBhY2Nlc3MgdG9rZW46JywgZXJyb3IpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBhdXRoZW50aWNhdGUgd2l0aCBab2hvJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFzeW5jIG1ha2VSZXF1ZXN0KGVuZHBvaW50OiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgY29uc3QgdG9rZW4gPSBhd2FpdCB0aGlzLmdldEFjY2Vzc1Rva2VuKCk7XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KGBodHRwczovL3d3dy56b2hvYXBpcy5jb20vYm9va3MvdjMvJHtlbmRwb2ludH1gLCB7XHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dG9rZW59YCxcclxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBwYXJhbXM6IHtcclxuICAgICAgICAgIG9yZ2FuaXphdGlvbl9pZDogcHJvY2Vzcy5lbnYuWk9IT19PUkdBTklaQVRJT05fSUQsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcclxuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgICAgLy8gSWYgd2UgZ2V0IGEgNDAxLCB0cnkgcmVmcmVzaGluZyB0aGUgdG9rZW4gb25jZVxyXG4gICAgICBpZiAoZXJyb3IucmVzcG9uc2U/LnN0YXR1cyA9PT0gNDAxKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1Rva2VuIGV4cGlyZWQsIHJlZnJlc2hpbmcuLi4nKTtcclxuICAgICAgICB0aGlzLmFjY2Vzc1Rva2VuID0gbnVsbDtcclxuICAgICAgICB0aGlzLnRva2VuRXhwaXJ5ID0gMDtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBuZXdUb2tlbiA9IGF3YWl0IHRoaXMuZ2V0QWNjZXNzVG9rZW4oKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBSZXRyeSB0aGUgcmVxdWVzdCB3aXRoIHRoZSBuZXcgdG9rZW5cclxuICAgICAgICBjb25zdCByZXRyeVJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KGBodHRwczovL3d3dy56b2hvYXBpcy5jb20vYm9va3MvdjMvJHtlbmRwb2ludH1gLCB7XHJcbiAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke25ld1Rva2VufWAsXHJcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgcGFyYW1zOiB7XHJcbiAgICAgICAgICAgIG9yZ2FuaXphdGlvbl9pZDogcHJvY2Vzcy5lbnYuWk9IT19PUkdBTklaQVRJT05fSUQsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiByZXRyeVJlc3BvbnNlLmRhdGE7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIG1ha2luZyBab2hvIHJlcXVlc3QgdG8gJHtlbmRwb2ludH06YCwgZXJyb3IpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBkYXRhIGZyb20gWm9obzogJHtlbmRwb2ludH1gKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGdldFByb2plY3RzKCk6IFByb21pc2U8Wm9ob1Byb2plY3RbXT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IGFsbFByb2plY3RzOiBab2hvUHJvamVjdFtdID0gW107XHJcbiAgICAgIGxldCBwYWdlID0gMTtcclxuICAgICAgY29uc3QgcGVyUGFnZSA9IDIwMDtcclxuICAgICAgXHJcbiAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMubWFrZVJlcXVlc3QoYHByb2plY3RzP3BhZ2U9JHtwYWdlfSZwZXJfcGFnZT0ke3BlclBhZ2V9YCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgcHJvamVjdHMgPSBkYXRhLnByb2plY3RzPy5tYXAoKHByb2plY3Q6IGFueSkgPT4ge1xyXG4gICAgICAgICAgLy8gTG9nIHRoZSBmaXJzdCBwcm9qZWN0IHRvIHNlZSBhdmFpbGFibGUgZmllbGRzXHJcbiAgICAgICAgICBpZiAocGFnZSA9PT0gMSAmJiBhbGxQcm9qZWN0cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1NhbXBsZSBab2hvIHByb2plY3QgZGF0YTonLCBKU09OLnN0cmluZ2lmeShwcm9qZWN0LCBudWxsLCAyKSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHByb2plY3RfaWQ6IHByb2plY3QucHJvamVjdF9pZCxcclxuICAgICAgICAgICAgcHJvamVjdF9uYW1lOiBwcm9qZWN0LnByb2plY3RfbmFtZSB8fCBwcm9qZWN0Lm5hbWUgfHwgJycsXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBwcm9qZWN0LmRlc2NyaXB0aW9uIHx8ICcnLFxyXG4gICAgICAgICAgICBzdGF0dXM6IHByb2plY3Quc3RhdHVzIHx8ICdhY3RpdmUnLFxyXG4gICAgICAgICAgICBzdGFydF9kYXRlOiBwcm9qZWN0LnN0YXJ0X2RhdGUgfHwgJycsXHJcbiAgICAgICAgICAgIGVuZF9kYXRlOiBwcm9qZWN0LmVuZF9kYXRlIHx8ICcnLFxyXG4gICAgICAgICAgICBidWRnZXRfYW1vdW50OiBwcm9qZWN0LmJ1ZGdldF9hbW91bnQgfHwgMCxcclxuICAgICAgICAgICAgcmF0ZV9wZXJfaG91cjogcHJvamVjdC5yYXRlX3Blcl9ob3VyIHx8IDAsXHJcbiAgICAgICAgICAgIGN1c3RvbWVyX2lkOiBwcm9qZWN0LmN1c3RvbWVyX2lkIHx8ICcnLFxyXG4gICAgICAgICAgICBjdXN0b21lcl9uYW1lOiBwcm9qZWN0LmN1c3RvbWVyX25hbWUgfHwgJycsXHJcbiAgICAgICAgICAgIHNpZ25lZF9mZWU6IHVuZGVmaW5lZCwgLy8gUmVtb3ZlIFpvaG8gc2lnbmVkIGZlZSwgb25seSB1c2UgdXNlci1lbnRlcmVkIGRhdGFcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfSkgfHwgW107XHJcbiAgICAgICAgXHJcbiAgICAgICAgYWxsUHJvamVjdHMgPSBhbGxQcm9qZWN0cy5jb25jYXQocHJvamVjdHMpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENoZWNrIGlmIHdlJ3ZlIHJlYWNoZWQgdGhlIGVuZFxyXG4gICAgICAgIGlmIChwcm9qZWN0cy5sZW5ndGggPCBwZXJQYWdlKSB7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcGFnZSsrO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZyhgRmV0Y2hlZCAke2FsbFByb2plY3RzLmxlbmd0aH0gcHJvamVjdHMgZnJvbSBab2hvYCk7XHJcbiAgICAgIHJldHVybiBhbGxQcm9qZWN0cztcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHByb2plY3RzOicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZ2V0UHJvamVjdHNXaXRoUmV2ZW51ZUJ1ZGdldCgpOiBQcm9taXNlPFpvaG9Qcm9qZWN0W10+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdGZXRjaGluZyBwcm9qZWN0cyB3aXRoIHJldmVudWUgYnVkZ2V0IGRhdGEuLi4nKTtcclxuICAgICAgY29uc3QgcHJvamVjdHMgPSBhd2FpdCB0aGlzLmdldFByb2plY3RzKCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBMb2cgcHJvamVjdHMgdGhhdCBoYXZlIHJldmVudWVfYnVkZ2V0IGRhdGFcclxuICAgICAgY29uc3QgcHJvamVjdHNXaXRoUmV2ZW51ZUJ1ZGdldCA9IHByb2plY3RzLmZpbHRlcihwcm9qZWN0ID0+IHtcclxuICAgICAgICBjb25zdCBoYXNSZXZlbnVlQnVkZ2V0ID0gcHJvamVjdC5zaWduZWRfZmVlICYmIHByb2plY3Quc2lnbmVkX2ZlZSA+IDA7XHJcbiAgICAgICAgaWYgKGhhc1JldmVudWVCdWRnZXQpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGBQcm9qZWN0ICR7cHJvamVjdC5wcm9qZWN0X25hbWV9IGhhcyByZXZlbnVlIGJ1ZGdldDogJCR7cHJvamVjdC5zaWduZWRfZmVlfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaGFzUmV2ZW51ZUJ1ZGdldDtcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZyhgRm91bmQgJHtwcm9qZWN0c1dpdGhSZXZlbnVlQnVkZ2V0Lmxlbmd0aH0gcHJvamVjdHMgd2l0aCByZXZlbnVlIGJ1ZGdldCBkYXRhYCk7XHJcbiAgICAgIHJldHVybiBwcm9qZWN0cztcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHByb2plY3RzIHdpdGggcmV2ZW51ZSBidWRnZXQ6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBkZWJ1Z1Byb2plY3RGaWVsZHMoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygnRGVidWdnaW5nIFpvaG8gcHJvamVjdCBmaWVsZHMuLi4nKTtcclxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMubWFrZVJlcXVlc3QoJ3Byb2plY3RzP3BhZ2U9MSZwZXJfcGFnZT01Jyk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoZGF0YS5wcm9qZWN0cyAmJiBkYXRhLnByb2plY3RzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnQXZhaWxhYmxlIGZpZWxkcyBpbiBab2hvIHByb2plY3QgcmVzcG9uc2U6Jyk7XHJcbiAgICAgICAgY29uc3Qgc2FtcGxlUHJvamVjdCA9IGRhdGEucHJvamVjdHNbMF07XHJcbiAgICAgICAgT2JqZWN0LmtleXMoc2FtcGxlUHJvamVjdCkuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coYCAgJHtrZXl9OiAke3NhbXBsZVByb2plY3Rba2V5XX0gKCR7dHlwZW9mIHNhbXBsZVByb2plY3Rba2V5XX0pYCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ2hlY2sgc3BlY2lmaWNhbGx5IGZvciByZXZlbnVlX2J1ZGdldFxyXG4gICAgICAgIGlmIChzYW1wbGVQcm9qZWN0LnJldmVudWVfYnVkZ2V0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGDinIUgRm91bmQgcmV2ZW51ZV9idWRnZXQgZmllbGQ6ICR7c2FtcGxlUHJvamVjdC5yZXZlbnVlX2J1ZGdldH1gKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ+KdjCByZXZlbnVlX2J1ZGdldCBmaWVsZCBub3QgZm91bmQgaW4gWm9obyByZXNwb25zZScpO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ0F2YWlsYWJsZSBidWRnZXQtcmVsYXRlZCBmaWVsZHM6Jyk7XHJcbiAgICAgICAgICBPYmplY3Qua2V5cyhzYW1wbGVQcm9qZWN0KS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChrZXkudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnYnVkZ2V0JykgfHwga2V5LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3JldmVudWUnKSkge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGAgICR7a2V5fTogJHtzYW1wbGVQcm9qZWN0W2tleV19YCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnTm8gcHJvamVjdHMgZm91bmQgaW4gWm9obyByZXNwb25zZScpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWJ1Z2dpbmcgcHJvamVjdCBmaWVsZHM6JywgZXJyb3IpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZ2V0UHJvamVjdHNXaXRoRXN0aW1hdGVzKCk6IFByb21pc2U8Wm9ob1Byb2plY3RbXT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcHJvamVjdHMgPSBhd2FpdCB0aGlzLmdldFByb2plY3RzKCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBGb3IgdGhlIGZpcnN0IGZldyBwcm9qZWN0cywgdHJ5IHRvIGdldCBlc3RpbWF0ZXMgdG8gc2VlIGlmIHRoYXQgY29udGFpbnMgdGhlIHNpZ25lZCBmZWVcclxuICAgICAgY29uc3QgcHJvamVjdHNXaXRoRXN0aW1hdGVzID0gYXdhaXQgUHJvbWlzZS5hbGwoXHJcbiAgICAgICAgcHJvamVjdHMuc2xpY2UoMCwgNSkubWFwKGFzeW5jIChwcm9qZWN0KSA9PiB7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBlc3RpbWF0ZXMgPSBhd2FpdCB0aGlzLmdldFByb2plY3RFc3RpbWF0ZXMocHJvamVjdC5wcm9qZWN0X2lkKTtcclxuICAgICAgICAgICAgY29uc3QgdG90YWxFc3RpbWF0ZUFtb3VudCA9IGVzdGltYXRlcy5yZWR1Y2UoKHN1bSwgZXN0aW1hdGUpID0+IHN1bSArIChlc3RpbWF0ZS50b3RhbCB8fCAwKSwgMCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgUHJvamVjdCAke3Byb2plY3QucHJvamVjdF9uYW1lfSBlc3RpbWF0ZXM6YCwgZXN0aW1hdGVzLmxlbmd0aCwgJ3RvdGFsIGFtb3VudDonLCB0b3RhbEVzdGltYXRlQW1vdW50KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgLi4ucHJvamVjdCxcclxuICAgICAgICAgICAgICBzaWduZWRfZmVlOiBwcm9qZWN0LnNpZ25lZF9mZWUgfHwgdG90YWxFc3RpbWF0ZUFtb3VudCB8fCAwLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZmV0Y2hpbmcgZXN0aW1hdGVzIGZvciBwcm9qZWN0ICR7cHJvamVjdC5wcm9qZWN0X2lkfTpgLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHJldHVybiBwcm9qZWN0O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBSZXR1cm4gYWxsIHByb2plY3RzLCB3aXRoIHRoZSBmaXJzdCA1IGhhdmluZyB1cGRhdGVkIHNpZ25lZCBmZWVzIGZyb20gZXN0aW1hdGVzXHJcbiAgICAgIHJldHVybiBbXHJcbiAgICAgICAgLi4ucHJvamVjdHNXaXRoRXN0aW1hdGVzLFxyXG4gICAgICAgIC4uLnByb2plY3RzLnNsaWNlKDUpXHJcbiAgICAgIF07XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBwcm9qZWN0cyB3aXRoIGVzdGltYXRlczonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGdldFByb2plY3RzV2l0aEludm9pY2VUb3RhbHMoKTogUHJvbWlzZTxab2hvUHJvamVjdFtdPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBbcHJvamVjdHMsIGludm9pY2VzXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcclxuICAgICAgICB0aGlzLmdldFByb2plY3RzKCksXHJcbiAgICAgICAgdGhpcy5nZXRJbnZvaWNlcygpLFxyXG4gICAgICBdKTtcclxuICAgICAgXHJcbiAgICAgIC8vIENhbGN1bGF0ZSBzaWduZWQgZmVlIGFzIHRvdGFsIG9mIGFsbCBpbnZvaWNlcyBmb3IgZWFjaCBwcm9qZWN0XHJcbiAgICAgIGNvbnN0IHByb2plY3RzV2l0aEludm9pY2VUb3RhbHMgPSBwcm9qZWN0cy5tYXAocHJvamVjdCA9PiB7XHJcbiAgICAgICAgY29uc3QgcHJvamVjdEludm9pY2VzID0gaW52b2ljZXMuZmlsdGVyKGludm9pY2UgPT4gaW52b2ljZS5wcm9qZWN0X2lkID09PSBwcm9qZWN0LnByb2plY3RfaWQpO1xyXG4gICAgICAgIGNvbnN0IHRvdGFsSW52b2ljZUFtb3VudCA9IHByb2plY3RJbnZvaWNlcy5yZWR1Y2UoKHN1bSwgaW52b2ljZSkgPT4gc3VtICsgaW52b2ljZS5hbW91bnQsIDApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnNvbGUubG9nKGBQcm9qZWN0ICR7cHJvamVjdC5wcm9qZWN0X25hbWV9IGludm9pY2VzOmAsIHByb2plY3RJbnZvaWNlcy5sZW5ndGgsICd0b3RhbCBhbW91bnQ6JywgdG90YWxJbnZvaWNlQW1vdW50KTtcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgLi4ucHJvamVjdCxcclxuICAgICAgICAgIHNpZ25lZF9mZWU6IHByb2plY3Quc2lnbmVkX2ZlZSB8fCB0b3RhbEludm9pY2VBbW91bnQgfHwgMCxcclxuICAgICAgICB9O1xyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIHJldHVybiBwcm9qZWN0c1dpdGhJbnZvaWNlVG90YWxzO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcHJvamVjdHMgd2l0aCBpbnZvaWNlIHRvdGFsczonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGdldEludm9pY2VzKCk6IFByb21pc2U8Wm9ob0ludm9pY2VbXT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMubWFrZVJlcXVlc3QoJ2ludm9pY2VzJyk7XHJcbiAgICAgIHJldHVybiBkYXRhLmludm9pY2VzPy5tYXAoKGludm9pY2U6IGFueSkgPT4gKHtcclxuICAgICAgICBpbnZvaWNlX2lkOiBpbnZvaWNlLmludm9pY2VfaWQsXHJcbiAgICAgICAgcHJvamVjdF9pZDogaW52b2ljZS5wcm9qZWN0X2lkLFxyXG4gICAgICAgIGludm9pY2VfbnVtYmVyOiBpbnZvaWNlLmludm9pY2VfbnVtYmVyLFxyXG4gICAgICAgIGRhdGU6IGludm9pY2UuZGF0ZSxcclxuICAgICAgICBhbW91bnQ6IGludm9pY2UudG90YWwsXHJcbiAgICAgICAgc3RhdHVzOiBpbnZvaWNlLnN0YXR1cyxcclxuICAgICAgICBiaWxsZWRfYW1vdW50OiBpbnZvaWNlLmJpbGxlZF9hbW91bnQgfHwgMCxcclxuICAgICAgICB1bmJpbGxlZF9hbW91bnQ6IGludm9pY2UudW5iaWxsZWRfYW1vdW50IHx8IDAsXHJcbiAgICAgIH0pKSB8fCBbXTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGludm9pY2VzOicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZ2V0UHJvamVjdEludm9pY2VzKHByb2plY3RJZDogc3RyaW5nKTogUHJvbWlzZTxab2hvSW52b2ljZVtdPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5tYWtlUmVxdWVzdChgcHJvamVjdHMvJHtwcm9qZWN0SWR9L2ludm9pY2VzYCk7XHJcbiAgICAgIHJldHVybiBkYXRhLmludm9pY2VzPy5tYXAoKGludm9pY2U6IGFueSkgPT4gKHtcclxuICAgICAgICBpbnZvaWNlX2lkOiBpbnZvaWNlLmludm9pY2VfaWQsXHJcbiAgICAgICAgcHJvamVjdF9pZDogaW52b2ljZS5wcm9qZWN0X2lkLFxyXG4gICAgICAgIGludm9pY2VfbnVtYmVyOiBpbnZvaWNlLmludm9pY2VfbnVtYmVyLFxyXG4gICAgICAgIGRhdGU6IGludm9pY2UuZGF0ZSxcclxuICAgICAgICBhbW91bnQ6IGludm9pY2UudG90YWwsXHJcbiAgICAgICAgc3RhdHVzOiBpbnZvaWNlLnN0YXR1cyxcclxuICAgICAgICBiaWxsZWRfYW1vdW50OiBpbnZvaWNlLmJpbGxlZF9hbW91bnQgfHwgMCxcclxuICAgICAgICB1bmJpbGxlZF9hbW91bnQ6IGludm9pY2UudW5iaWxsZWRfYW1vdW50IHx8IDAsXHJcbiAgICAgIH0pKSB8fCBbXTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHByb2plY3QgaW52b2ljZXM6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBnZXRQcm9qZWN0RGV0YWlscyhwcm9qZWN0SWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5tYWtlUmVxdWVzdChgcHJvamVjdHMvJHtwcm9qZWN0SWR9YCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKGBQcm9qZWN0ICR7cHJvamVjdElkfSBkZXRhaWxzOmAsIEpTT04uc3RyaW5naWZ5KGRhdGEsIG51bGwsIDIpKTtcclxuICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBwcm9qZWN0IGRldGFpbHM6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGdldFByb2plY3RFc3RpbWF0ZXMocHJvamVjdElkOiBzdHJpbmcpOiBQcm9taXNlPGFueVtdPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5tYWtlUmVxdWVzdChgcHJvamVjdHMvJHtwcm9qZWN0SWR9L2VzdGltYXRlc2ApO1xyXG4gICAgICBjb25zb2xlLmxvZyhgUHJvamVjdCAke3Byb2plY3RJZH0gZXN0aW1hdGVzOmAsIEpTT04uc3RyaW5naWZ5KGRhdGEsIG51bGwsIDIpKTtcclxuICAgICAgcmV0dXJuIGRhdGEuZXN0aW1hdGVzIHx8IFtdO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcHJvamVjdCBlc3RpbWF0ZXM6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBnZXRQcm9qZWN0Q29udHJhY3RzKHByb2plY3RJZDogc3RyaW5nKTogUHJvbWlzZTxhbnlbXT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMubWFrZVJlcXVlc3QoYHByb2plY3RzLyR7cHJvamVjdElkfS9jb250cmFjdHNgKTtcclxuICAgICAgY29uc29sZS5sb2coYFByb2plY3QgJHtwcm9qZWN0SWR9IGNvbnRyYWN0czpgLCBKU09OLnN0cmluZ2lmeShkYXRhLCBudWxsLCAyKSk7XHJcbiAgICAgIHJldHVybiBkYXRhLmNvbnRyYWN0cyB8fCBbXTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHByb2plY3QgY29udHJhY3RzOicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gTWV0aG9kIHRvIG1hbnVhbGx5IHJlZnJlc2ggdG9rZW4gKGZvciB0ZXN0aW5nKVxyXG4gIGFzeW5jIGZvcmNlUmVmcmVzaFRva2VuKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgdGhpcy5hY2Nlc3NUb2tlbiA9IG51bGw7XHJcbiAgICB0aGlzLnRva2VuRXhwaXJ5ID0gMDtcclxuICAgIHRoaXMubGFzdFJlZnJlc2hUaW1lID0gRGF0ZS5ub3coKTsgLy8gVHJhY2sgbWFudWFsIHJlZnJlc2ggdGltZVxyXG4gICAgYXdhaXQgdGhpcy5nZXRBY2Nlc3NUb2tlbigpO1xyXG4gIH1cclxuXHJcbiAgLy8gR2V0IHRva2VuIHN0YXR1cyBmb3IgZGVidWdnaW5nXHJcbiAgZ2V0VG9rZW5TdGF0dXMoKTogeyBoYXNUb2tlbjogYm9vbGVhbjsgZXhwaXJlc0luOiBudW1iZXI7IGlzRXhwaXJlZDogYm9vbGVhbiB9IHtcclxuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBoYXNUb2tlbjogISF0aGlzLmFjY2Vzc1Rva2VuLFxyXG4gICAgICBleHBpcmVzSW46IHRoaXMudG9rZW5FeHBpcnkgLSBub3csXHJcbiAgICAgIGlzRXhwaXJlZDogbm93ID49IHRoaXMudG9rZW5FeHBpcnksXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLy8gTWV0aG9kIHRvIGdldCBhdXRvLXJlZnJlc2ggc3RhdHVzXHJcbiAgZ2V0QXV0b1JlZnJlc2hTdGF0dXMoKTogeyBpc0FjdGl2ZTogYm9vbGVhbjsgbmV4dFJlZnJlc2hJbjogbnVtYmVyIH0ge1xyXG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgIGNvbnN0IHRpbWVTaW5jZUxhc3RSZWZyZXNoID0gbm93IC0gdGhpcy5sYXN0UmVmcmVzaFRpbWU7XHJcbiAgICBjb25zdCBuZXh0UmVmcmVzaEluID0gTWF0aC5tYXgoMCwgdGhpcy5BVVRPX1JFRlJFU0hfSU5URVJWQUwgLSB0aW1lU2luY2VMYXN0UmVmcmVzaCk7XHJcbiAgICBcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGlzQWN0aXZlOiAhIXRoaXMuYXV0b1JlZnJlc2hUaW1lcixcclxuICAgICAgbmV4dFJlZnJlc2hJbixcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvLyBQdWJsaWMgbWV0aG9kIHRvIHN0YXJ0IGF1dG8tcmVmcmVzaFxyXG4gIGVuYWJsZUF1dG9SZWZyZXNoKCk6IHZvaWQge1xyXG4gICAgdGhpcy5fc3RhcnRBdXRvUmVmcmVzaCgpO1xyXG4gIH1cclxuXHJcbiAgLy8gUHVibGljIG1ldGhvZCB0byBzdG9wIGF1dG8tcmVmcmVzaFxyXG4gIGRpc2FibGVBdXRvUmVmcmVzaCgpOiB2b2lkIHtcclxuICAgIHRoaXMuX3N0b3BBdXRvUmVmcmVzaCgpO1xyXG4gIH1cclxuXHJcbiAgLy8gUHVibGljIG1ldGhvZCB0byBnZXQgY29tcHJlaGVuc2l2ZSBzdGF0dXNcclxuICBnZXRTdGF0dXMoKTogeyBcclxuICAgIGhhc1Rva2VuOiBib29sZWFuOyBcclxuICAgIGV4cGlyZXNJbjogbnVtYmVyOyBcclxuICAgIGlzRXhwaXJlZDogYm9vbGVhbjtcclxuICAgIGF1dG9SZWZyZXNoOiB7IGlzQWN0aXZlOiBib29sZWFuOyBuZXh0UmVmcmVzaEluOiBudW1iZXIgfTtcclxuICB9IHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIC4uLnRoaXMuZ2V0VG9rZW5TdGF0dXMoKSxcclxuICAgICAgYXV0b1JlZnJlc2g6IHRoaXMuZ2V0QXV0b1JlZnJlc2hTdGF0dXMoKSxcclxuICAgIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3Qgem9ob1NlcnZpY2UgPSBuZXcgWm9ob1NlcnZpY2UoKTsgXHJcblxyXG4vLyBFeHBvcnQgdGhlIGZ1bmN0aW9ucyB0aGF0IGFyZSBiZWluZyBpbXBvcnRlZCBpbiBwYWdlLnRzeFxyXG5leHBvcnQgY29uc3QgZmV0Y2hQcm9qZWN0cyA9IGFzeW5jICgpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc29sZS5sb2coJ0NsaWVudDogRmV0Y2hpbmcgcHJvamVjdHMgZnJvbSBBUEknKTtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvcHJvamVjdHMnKTtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIFxyXG4gICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdDbGllbnQ6IFN1Y2Nlc3NmdWxseSBmZXRjaGVkJywgcmVzdWx0LmNvdW50LCAncHJvamVjdHMnKTtcclxuICAgICAgcmV0dXJuIHJlc3VsdC5kYXRhO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc29sZS5lcnJvcignQ2xpZW50OiBBUEkgcmV0dXJuZWQgZXJyb3I6JywgcmVzdWx0LmVycm9yKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5lcnJvcik7XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0NsaWVudDogRXJyb3IgZmV0Y2hpbmcgcHJvamVjdHM6JywgZXJyb3IpO1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGZldGNoSW52b2ljZXMgPSBhc3luYyAoKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnNvbGUubG9nKCdDbGllbnQ6IEZldGNoaW5nIGludm9pY2VzIGZyb20gQVBJJyk7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2ludm9pY2VzJyk7XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICBcclxuICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xyXG4gICAgICBjb25zb2xlLmxvZygnQ2xpZW50OiBTdWNjZXNzZnVsbHkgZmV0Y2hlZCcsIHJlc3VsdC5jb3VudCwgJ2ludm9pY2VzJyk7XHJcbiAgICAgIHJldHVybiByZXN1bHQuZGF0YTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0NsaWVudDogQVBJIHJldHVybmVkIGVycm9yOicsIHJlc3VsdC5lcnJvcik7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQuZXJyb3IpO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdDbGllbnQ6IEVycm9yIGZldGNoaW5nIGludm9pY2VzOicsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufTsgIl0sIm5hbWVzIjpbImF4aW9zIiwiWm9ob1NlcnZpY2UiLCJjb25zdHJ1Y3RvciIsImFjY2Vzc1Rva2VuIiwidG9rZW5FeHBpcnkiLCJyZWZyZXNoUHJvbWlzZSIsIlRPS0VOX1JFRlJFU0hfQlVGRkVSIiwiYXV0b1JlZnJlc2hUaW1lciIsIkFVVE9fUkVGUkVTSF9JTlRFUlZBTCIsImxhc3RSZWZyZXNoVGltZSIsIl9zdGFydEF1dG9SZWZyZXNoIiwiY2xlYXJJbnRlcnZhbCIsInNldEludGVydmFsIiwiY29uc29sZSIsImxvZyIsIkRhdGUiLCJub3ciLCJmb3JjZVJlZnJlc2hUb2tlbiIsImVycm9yIiwiX3N0b3BBdXRvUmVmcmVzaCIsImdldEFjY2Vzc1Rva2VuIiwicmVmcmVzaEFjY2Vzc1Rva2VuIiwidG9rZW4iLCJmb3JtRGF0YSIsIlVSTFNlYXJjaFBhcmFtcyIsImFwcGVuZCIsInByb2Nlc3MiLCJlbnYiLCJaT0hPX1JFRlJFU0hfVE9LRU4iLCJaT0hPX0NMSUVOVF9JRCIsIlpPSE9fQ0xJRU5UX1NFQ1JFVCIsInJlc3BvbnNlIiwicG9zdCIsImhlYWRlcnMiLCJkYXRhIiwiYWNjZXNzX3Rva2VuIiwiZXhwaXJlc19pbiIsIk1hdGgiLCJyb3VuZCIsIkVycm9yIiwibWFrZVJlcXVlc3QiLCJlbmRwb2ludCIsImdldCIsInBhcmFtcyIsIm9yZ2FuaXphdGlvbl9pZCIsIlpPSE9fT1JHQU5JWkFUSU9OX0lEIiwic3RhdHVzIiwibmV3VG9rZW4iLCJyZXRyeVJlc3BvbnNlIiwiZ2V0UHJvamVjdHMiLCJhbGxQcm9qZWN0cyIsInBhZ2UiLCJwZXJQYWdlIiwicHJvamVjdHMiLCJtYXAiLCJwcm9qZWN0IiwibGVuZ3RoIiwiSlNPTiIsInN0cmluZ2lmeSIsInByb2plY3RfaWQiLCJwcm9qZWN0X25hbWUiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJzdGFydF9kYXRlIiwiZW5kX2RhdGUiLCJidWRnZXRfYW1vdW50IiwicmF0ZV9wZXJfaG91ciIsImN1c3RvbWVyX2lkIiwiY3VzdG9tZXJfbmFtZSIsInNpZ25lZF9mZWUiLCJ1bmRlZmluZWQiLCJjb25jYXQiLCJnZXRQcm9qZWN0c1dpdGhSZXZlbnVlQnVkZ2V0IiwicHJvamVjdHNXaXRoUmV2ZW51ZUJ1ZGdldCIsImZpbHRlciIsImhhc1JldmVudWVCdWRnZXQiLCJkZWJ1Z1Byb2plY3RGaWVsZHMiLCJzYW1wbGVQcm9qZWN0IiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJrZXkiLCJyZXZlbnVlX2J1ZGdldCIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJnZXRQcm9qZWN0c1dpdGhFc3RpbWF0ZXMiLCJwcm9qZWN0c1dpdGhFc3RpbWF0ZXMiLCJQcm9taXNlIiwiYWxsIiwic2xpY2UiLCJlc3RpbWF0ZXMiLCJnZXRQcm9qZWN0RXN0aW1hdGVzIiwidG90YWxFc3RpbWF0ZUFtb3VudCIsInJlZHVjZSIsInN1bSIsImVzdGltYXRlIiwidG90YWwiLCJnZXRQcm9qZWN0c1dpdGhJbnZvaWNlVG90YWxzIiwiaW52b2ljZXMiLCJnZXRJbnZvaWNlcyIsInByb2plY3RzV2l0aEludm9pY2VUb3RhbHMiLCJwcm9qZWN0SW52b2ljZXMiLCJpbnZvaWNlIiwidG90YWxJbnZvaWNlQW1vdW50IiwiYW1vdW50IiwiaW52b2ljZV9pZCIsImludm9pY2VfbnVtYmVyIiwiZGF0ZSIsImJpbGxlZF9hbW91bnQiLCJ1bmJpbGxlZF9hbW91bnQiLCJnZXRQcm9qZWN0SW52b2ljZXMiLCJwcm9qZWN0SWQiLCJnZXRQcm9qZWN0RGV0YWlscyIsImdldFByb2plY3RDb250cmFjdHMiLCJjb250cmFjdHMiLCJnZXRUb2tlblN0YXR1cyIsImhhc1Rva2VuIiwiZXhwaXJlc0luIiwiaXNFeHBpcmVkIiwiZ2V0QXV0b1JlZnJlc2hTdGF0dXMiLCJ0aW1lU2luY2VMYXN0UmVmcmVzaCIsIm5leHRSZWZyZXNoSW4iLCJtYXgiLCJpc0FjdGl2ZSIsImVuYWJsZUF1dG9SZWZyZXNoIiwiZGlzYWJsZUF1dG9SZWZyZXNoIiwiZ2V0U3RhdHVzIiwiYXV0b1JlZnJlc2giLCJ6b2hvU2VydmljZSIsImZldGNoUHJvamVjdHMiLCJmZXRjaCIsInJlc3VsdCIsImpzb24iLCJzdWNjZXNzIiwiY291bnQiLCJmZXRjaEludm9pY2VzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/zoho.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/mime-db","vendor-chunks/axios","vendor-chunks/follow-redirects","vendor-chunks/debug","vendor-chunks/form-data","vendor-chunks/get-intrinsic","vendor-chunks/asynckit","vendor-chunks/combined-stream","vendor-chunks/mime-types","vendor-chunks/proxy-from-env","vendor-chunks/ms","vendor-chunks/supports-color","vendor-chunks/has-symbols","vendor-chunks/delayed-stream","vendor-chunks/function-bind","vendor-chunks/es-set-tostringtag","vendor-chunks/get-proto","vendor-chunks/call-bind-apply-helpers","vendor-chunks/dunder-proto","vendor-chunks/math-intrinsics","vendor-chunks/es-errors","vendor-chunks/has-flag","vendor-chunks/gopd","vendor-chunks/es-define-property","vendor-chunks/hasown","vendor-chunks/has-tostringtag","vendor-chunks/es-object-atoms"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdashboard%2Froute&page=%2Fapi%2Fdashboard%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdashboard%2Froute.ts&appDir=C%3A%5CUsers%5CJonathan%5CDesktop%5CBilling%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CJonathan%5CDesktop%5CBilling&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();