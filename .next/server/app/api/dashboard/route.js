"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/dashboard/route";
exports.ids = ["app/api/dashboard/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdashboard%2Froute&page=%2Fapi%2Fdashboard%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdashboard%2Froute.ts&appDir=C%3A%5CUsers%5CJonathan%5CDesktop%5CBilling%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CJonathan%5CDesktop%5CBilling&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdashboard%2Froute&page=%2Fapi%2Fdashboard%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdashboard%2Froute.ts&appDir=C%3A%5CUsers%5CJonathan%5CDesktop%5CBilling%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CJonathan%5CDesktop%5CBilling&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Jonathan_Desktop_Billing_app_api_dashboard_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/dashboard/route.ts */ \"(rsc)/./app/api/dashboard/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/dashboard/route\",\n        pathname: \"/api/dashboard\",\n        filename: \"route\",\n        bundlePath: \"app/api/dashboard/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Jonathan\\\\Desktop\\\\Billing\\\\app\\\\api\\\\dashboard\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_Jonathan_Desktop_Billing_app_api_dashboard_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/dashboard/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZkYXNoYm9hcmQlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmRhc2hib2FyZCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmRhc2hib2FyZCUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNKb25hdGhhbiU1Q0Rlc2t0b3AlNUNCaWxsaW5nJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNKb25hdGhhbiU1Q0Rlc2t0b3AlNUNCaWxsaW5nJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNvQjtBQUNqRztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL3pvaG8tYmlsbGluZy1wbGF0Zm9ybS8/YTgxYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxKb25hdGhhblxcXFxEZXNrdG9wXFxcXEJpbGxpbmdcXFxcYXBwXFxcXGFwaVxcXFxkYXNoYm9hcmRcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2Rhc2hib2FyZC9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2Rhc2hib2FyZFwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvZGFzaGJvYXJkL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcSm9uYXRoYW5cXFxcRGVza3RvcFxcXFxCaWxsaW5nXFxcXGFwcFxcXFxhcGlcXFxcZGFzaGJvYXJkXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9kYXNoYm9hcmQvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdashboard%2Froute&page=%2Fapi%2Fdashboard%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdashboard%2Froute.ts&appDir=C%3A%5CUsers%5CJonathan%5CDesktop%5CBilling%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CJonathan%5CDesktop%5CBilling&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/dashboard/route.ts":
/*!************************************!*\
  !*** ./app/api/dashboard/route.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_payroll__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/payroll */ \"(rsc)/./lib/payroll.ts\");\n/* harmony import */ var _lib_clockify__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/clockify */ \"(rsc)/./lib/clockify.ts\");\n/* harmony import */ var _lib_zoho__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lib/zoho */ \"(rsc)/./lib/zoho.ts\");\n\n\n\n\nasync function GET(request) {\n    // Helper function to parse ISO 8601 duration\n    function parseDuration(duration) {\n        const regex = /PT(?:(\\d+)H)?(?:(\\d+)M)?(?:(\\d+)S)?/;\n        const match = duration.match(regex);\n        if (!match) return 0;\n        const hours = parseInt(match[1] || \"0\");\n        const minutes = parseInt(match[2] || \"0\");\n        const seconds = parseInt(match[3] || \"0\");\n        return (hours * 3600 + minutes * 60 + seconds) * 1000;\n    }\n    try {\n        // Get current date info\n        const now = new Date();\n        const currentYear = now.getFullYear();\n        const currentMonth = now.getMonth();\n        // Calculate multipliers (this would come from your payroll system)\n        const currentYearMultiplier = 3.2;\n        const lastYearMultiplier = 3.0;\n        const twoYearsAgoMultiplier = 2.8;\n        // Calculate overhead rates (this would come from your financial data)\n        const currentYearOverhead = 0.28;\n        const lastYearOverhead = 0.30;\n        const twoYearsAgoOverhead = 0.32;\n        // Get employee count and revenue data\n        const employees = await _lib_payroll__WEBPACK_IMPORTED_MODULE_1__.payrollService.getAllEmployees();\n        const totalEmployees = employees.length;\n        // Calculate revenue per employee (this would come from your financial system)\n        const currentYearRevenuePerEmployee = 285000;\n        const lastYearRevenuePerEmployee = 265000;\n        const twoYearsAgoRevenuePerEmployee = 245000;\n        // Get project data from Zoho\n        let totalActiveProjects = 0;\n        let averageProjectSize = 125000;\n        let ytdProfit = 425000;\n        let lastYearYtdProfit = 385000;\n        try {\n            const projects = await _lib_zoho__WEBPACK_IMPORTED_MODULE_3__.zohoService.getProjects();\n            totalActiveProjects = projects.filter((p)=>p.status === \"active\").length;\n            // Calculate average project size (using budget amount as proxy)\n            const projectValues = projects.map((p)=>p.budget_amount || 0);\n            if (projectValues.length > 0) {\n                averageProjectSize = projectValues.reduce((sum, val)=>sum + val, 0) / projectValues.length;\n            }\n        } catch (error) {\n            console.log(\"Using default project data\");\n        }\n        // Get Clockify data for utilization rate\n        let utilizationRate = 0.85;\n        let averageBillingRate = 185;\n        try {\n            const clockifyUser = await _lib_clockify__WEBPACK_IMPORTED_MODULE_2__.clockifyService.getUser();\n            const clockifyProjects = await _lib_clockify__WEBPACK_IMPORTED_MODULE_2__.clockifyService.getProjects();\n            // Calculate utilization rate based on billable hours vs total hours\n            const timeEntries = await _lib_clockify__WEBPACK_IMPORTED_MODULE_2__.clockifyService.getAllTimeEntries(new Date(currentYear, 0, 1).toISOString(), now.toISOString());\n            const totalHours = timeEntries.reduce((sum, entry)=>sum + (parseDuration(entry.timeInterval.duration) || 0), 0) / 3600000; // Convert from milliseconds\n            const billableHours = timeEntries.filter((entry)=>entry.billable).reduce((sum, entry)=>sum + (parseDuration(entry.timeInterval.duration) || 0), 0) / 3600000;\n            if (totalHours > 0) {\n                utilizationRate = billableHours / totalHours;\n            }\n            // Calculate average billing rate (using default rate for now)\n            if (timeEntries.length > 0) {\n                // For now, use a default billing rate since we don't have amount data\n                averageBillingRate = 185; // Default rate, would be calculated from hourly rates in real implementation\n            }\n        } catch (error) {\n            console.log(\"Using default Clockify data\");\n        }\n        // Calculate cashflow (this would come from your accounting system)\n        const currentCashflow = 125000;\n        const previousMonthCashflow = 110000;\n        const cashflowTrend = currentCashflow > previousMonthCashflow ? \"up\" : currentCashflow < previousMonthCashflow ? \"down\" : \"stable\";\n        // Invoice data (this would come from Zoho Books)\n        const overdueInvoiceValue = 45000;\n        const totalOutstandingInvoices = 125000;\n        const averageDaysToPayment = 42;\n        // Profit margins\n        const currentYearGrossMargin = 0.35;\n        const lastYearGrossMargin = 0.32;\n        const ytdOperatingIncome = 285000;\n        const lastYearYtdOperatingIncome = 245000;\n        // Client retention rate (this would come from your CRM data)\n        const clientRetentionRate = 0.92;\n        // Generate trailing 12 months data\n        const trailing12Months = [];\n        for(let i = 11; i >= 0; i--){\n            const month = new Date(currentYear, currentMonth - i, 1);\n            const monthName = month.toLocaleDateString(\"en-US\", {\n                month: \"short\"\n            });\n            const baseRevenue = 180000 + i * 15000;\n            const baseExpenses = 120000 + i * 5000;\n            const profit = baseRevenue - baseExpenses;\n            const profitMargin = profit / baseRevenue;\n            trailing12Months.push({\n                month: monthName,\n                revenue: baseRevenue,\n                expenses: baseExpenses,\n                profit,\n                profitMargin\n            });\n        }\n        // Generate forecast data\n        const forecast = [];\n        for(let i = 1; i <= 6; i++){\n            const month = new Date(currentYear, currentMonth + i, 1);\n            const monthName = month.toLocaleDateString(\"en-US\", {\n                month: \"short\"\n            });\n            const projectedRevenue = 360000 + i * 15000;\n            const projectedExpenses = 180000 + i * 5000;\n            const projectedProfit = projectedRevenue - projectedExpenses;\n            forecast.push({\n                month: monthName,\n                projectedRevenue,\n                projectedExpenses,\n                projectedProfit\n            });\n        }\n        const dashboardData = {\n            // Multipliers\n            currentYearMultiplier,\n            lastYearMultiplier,\n            twoYearsAgoMultiplier,\n            // Overhead Rates\n            currentYearOverhead,\n            lastYearOverhead,\n            twoYearsAgoOverhead,\n            // Revenue per Employee\n            currentYearRevenuePerEmployee,\n            lastYearRevenuePerEmployee,\n            twoYearsAgoRevenuePerEmployee,\n            // Cashflow\n            currentCashflow,\n            previousMonthCashflow,\n            cashflowTrend,\n            // Invoices\n            overdueInvoiceValue,\n            totalOutstandingInvoices,\n            averageDaysToPayment,\n            // Profit Metrics\n            ytdProfit,\n            lastYearYtdProfit,\n            currentYearGrossMargin,\n            lastYearGrossMargin,\n            ytdOperatingIncome,\n            lastYearYtdOperatingIncome,\n            // Trailing 12 Months\n            trailing12Months,\n            // Forecast\n            forecast,\n            // Additional Metrics\n            utilizationRate,\n            averageProjectSize,\n            clientRetentionRate,\n            averageBillingRate,\n            totalActiveProjects,\n            totalEmployees\n        };\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(dashboardData);\n    } catch (error) {\n        console.error(\"Error fetching dashboard data:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to fetch dashboard data\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b3V0ZS50cz9lYjQ1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XHJcbmltcG9ydCB7IHBheXJvbGxTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vbGliL3BheXJvbGwnO1xyXG5pbXBvcnQgeyBjbG9ja2lmeVNlcnZpY2UgfSBmcm9tICcuLi8uLi8uLi9saWIvY2xvY2tpZnknO1xyXG5pbXBvcnQgeyB6b2hvU2VydmljZSB9IGZyb20gJy4uLy4uLy4uL2xpYi96b2hvJztcclxuXHJcbmludGVyZmFjZSBEYXNoYm9hcmRNZXRyaWNzIHtcclxuICAvLyBNdWx0aXBsaWVyc1xyXG4gIGN1cnJlbnRZZWFyTXVsdGlwbGllcjogbnVtYmVyO1xyXG4gIGxhc3RZZWFyTXVsdGlwbGllcjogbnVtYmVyO1xyXG4gIHR3b1llYXJzQWdvTXVsdGlwbGllcjogbnVtYmVyO1xyXG4gIFxyXG4gIC8vIE92ZXJoZWFkIFJhdGVzXHJcbiAgY3VycmVudFllYXJPdmVyaGVhZDogbnVtYmVyO1xyXG4gIGxhc3RZZWFyT3ZlcmhlYWQ6IG51bWJlcjtcclxuICB0d29ZZWFyc0Fnb092ZXJoZWFkOiBudW1iZXI7XHJcbiAgXHJcbiAgLy8gUmV2ZW51ZSBwZXIgRW1wbG95ZWVcclxuICBjdXJyZW50WWVhclJldmVudWVQZXJFbXBsb3llZTogbnVtYmVyO1xyXG4gIGxhc3RZZWFyUmV2ZW51ZVBlckVtcGxveWVlOiBudW1iZXI7XHJcbiAgdHdvWWVhcnNBZ29SZXZlbnVlUGVyRW1wbG95ZWU6IG51bWJlcjtcclxuICBcclxuICAvLyBDYXNoZmxvd1xyXG4gIGN1cnJlbnRDYXNoZmxvdzogbnVtYmVyO1xyXG4gIHByZXZpb3VzTW9udGhDYXNoZmxvdzogbnVtYmVyO1xyXG4gIGNhc2hmbG93VHJlbmQ6ICd1cCcgfCAnZG93bicgfCAnc3RhYmxlJztcclxuICBcclxuICAvLyBJbnZvaWNlc1xyXG4gIG92ZXJkdWVJbnZvaWNlVmFsdWU6IG51bWJlcjtcclxuICB0b3RhbE91dHN0YW5kaW5nSW52b2ljZXM6IG51bWJlcjtcclxuICBhdmVyYWdlRGF5c1RvUGF5bWVudDogbnVtYmVyO1xyXG4gIFxyXG4gIC8vIFByb2ZpdCBNZXRyaWNzXHJcbiAgeXRkUHJvZml0OiBudW1iZXI7XHJcbiAgbGFzdFllYXJZdGRQcm9maXQ6IG51bWJlcjtcclxuICBjdXJyZW50WWVhckdyb3NzTWFyZ2luOiBudW1iZXI7XHJcbiAgbGFzdFllYXJHcm9zc01hcmdpbjogbnVtYmVyO1xyXG4gIHl0ZE9wZXJhdGluZ0luY29tZTogbnVtYmVyO1xyXG4gIGxhc3RZZWFyWXRkT3BlcmF0aW5nSW5jb21lOiBudW1iZXI7XHJcbiAgXHJcbiAgLy8gVHJhaWxpbmcgMTIgTW9udGhzIERhdGFcclxuICB0cmFpbGluZzEyTW9udGhzOiB7XHJcbiAgICBtb250aDogc3RyaW5nO1xyXG4gICAgcmV2ZW51ZTogbnVtYmVyO1xyXG4gICAgZXhwZW5zZXM6IG51bWJlcjtcclxuICAgIHByb2ZpdDogbnVtYmVyO1xyXG4gICAgcHJvZml0TWFyZ2luOiBudW1iZXI7XHJcbiAgfVtdO1xyXG4gIFxyXG4gIC8vIEZvcmVjYXN0IERhdGFcclxuICBmb3JlY2FzdDoge1xyXG4gICAgbW9udGg6IHN0cmluZztcclxuICAgIHByb2plY3RlZFJldmVudWU6IG51bWJlcjtcclxuICAgIHByb2plY3RlZEV4cGVuc2VzOiBudW1iZXI7XHJcbiAgICBwcm9qZWN0ZWRQcm9maXQ6IG51bWJlcjtcclxuICB9W107XHJcbiAgXHJcbiAgLy8gQWRkaXRpb25hbCBNZXRyaWNzXHJcbiAgdXRpbGl6YXRpb25SYXRlOiBudW1iZXI7XHJcbiAgYXZlcmFnZVByb2plY3RTaXplOiBudW1iZXI7XHJcbiAgY2xpZW50UmV0ZW50aW9uUmF0ZTogbnVtYmVyO1xyXG4gIGF2ZXJhZ2VCaWxsaW5nUmF0ZTogbnVtYmVyO1xyXG4gIHRvdGFsQWN0aXZlUHJvamVjdHM6IG51bWJlcjtcclxuICB0b3RhbEVtcGxveWVlczogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XHJcbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIHBhcnNlIElTTyA4NjAxIGR1cmF0aW9uXHJcbiAgZnVuY3Rpb24gcGFyc2VEdXJhdGlvbihkdXJhdGlvbjogc3RyaW5nKTogbnVtYmVyIHtcclxuICAgIGNvbnN0IHJlZ2V4ID0gL1BUKD86KFxcZCspSCk/KD86KFxcZCspTSk/KD86KFxcZCspUyk/LztcclxuICAgIGNvbnN0IG1hdGNoID0gZHVyYXRpb24ubWF0Y2gocmVnZXgpO1xyXG4gICAgXHJcbiAgICBpZiAoIW1hdGNoKSByZXR1cm4gMDtcclxuICAgIFxyXG4gICAgY29uc3QgaG91cnMgPSBwYXJzZUludChtYXRjaFsxXSB8fCAnMCcpO1xyXG4gICAgY29uc3QgbWludXRlcyA9IHBhcnNlSW50KG1hdGNoWzJdIHx8ICcwJyk7XHJcbiAgICBjb25zdCBzZWNvbmRzID0gcGFyc2VJbnQobWF0Y2hbM10gfHwgJzAnKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIChob3VycyAqIDM2MDAgKyBtaW51dGVzICogNjAgKyBzZWNvbmRzKSAqIDEwMDA7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgLy8gR2V0IGN1cnJlbnQgZGF0ZSBpbmZvXHJcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xyXG4gICAgY29uc3QgY3VycmVudFllYXIgPSBub3cuZ2V0RnVsbFllYXIoKTtcclxuICAgIGNvbnN0IGN1cnJlbnRNb250aCA9IG5vdy5nZXRNb250aCgpO1xyXG4gICAgXHJcbiAgICAvLyBDYWxjdWxhdGUgbXVsdGlwbGllcnMgKHRoaXMgd291bGQgY29tZSBmcm9tIHlvdXIgcGF5cm9sbCBzeXN0ZW0pXHJcbiAgICBjb25zdCBjdXJyZW50WWVhck11bHRpcGxpZXIgPSAzLjI7XHJcbiAgICBjb25zdCBsYXN0WWVhck11bHRpcGxpZXIgPSAzLjA7XHJcbiAgICBjb25zdCB0d29ZZWFyc0Fnb011bHRpcGxpZXIgPSAyLjg7XHJcbiAgICBcclxuICAgIC8vIENhbGN1bGF0ZSBvdmVyaGVhZCByYXRlcyAodGhpcyB3b3VsZCBjb21lIGZyb20geW91ciBmaW5hbmNpYWwgZGF0YSlcclxuICAgIGNvbnN0IGN1cnJlbnRZZWFyT3ZlcmhlYWQgPSAwLjI4O1xyXG4gICAgY29uc3QgbGFzdFllYXJPdmVyaGVhZCA9IDAuMzA7XHJcbiAgICBjb25zdCB0d29ZZWFyc0Fnb092ZXJoZWFkID0gMC4zMjtcclxuICAgIFxyXG4gICAgLy8gR2V0IGVtcGxveWVlIGNvdW50IGFuZCByZXZlbnVlIGRhdGFcclxuICAgIGNvbnN0IGVtcGxveWVlcyA9IGF3YWl0IHBheXJvbGxTZXJ2aWNlLmdldEFsbEVtcGxveWVlcygpO1xyXG4gICAgY29uc3QgdG90YWxFbXBsb3llZXMgPSBlbXBsb3llZXMubGVuZ3RoO1xyXG4gICAgXHJcbiAgICAvLyBDYWxjdWxhdGUgcmV2ZW51ZSBwZXIgZW1wbG95ZWUgKHRoaXMgd291bGQgY29tZSBmcm9tIHlvdXIgZmluYW5jaWFsIHN5c3RlbSlcclxuICAgIGNvbnN0IGN1cnJlbnRZZWFyUmV2ZW51ZVBlckVtcGxveWVlID0gMjg1MDAwO1xyXG4gICAgY29uc3QgbGFzdFllYXJSZXZlbnVlUGVyRW1wbG95ZWUgPSAyNjUwMDA7XHJcbiAgICBjb25zdCB0d29ZZWFyc0Fnb1JldmVudWVQZXJFbXBsb3llZSA9IDI0NTAwMDtcclxuICAgIFxyXG4gICAgLy8gR2V0IHByb2plY3QgZGF0YSBmcm9tIFpvaG9cclxuICAgIGxldCB0b3RhbEFjdGl2ZVByb2plY3RzID0gMDtcclxuICAgIGxldCBhdmVyYWdlUHJvamVjdFNpemUgPSAxMjUwMDA7XHJcbiAgICBsZXQgeXRkUHJvZml0ID0gNDI1MDAwO1xyXG4gICAgbGV0IGxhc3RZZWFyWXRkUHJvZml0ID0gMzg1MDAwO1xyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBwcm9qZWN0cyA9IGF3YWl0IHpvaG9TZXJ2aWNlLmdldFByb2plY3RzKCk7XHJcbiAgICAgIHRvdGFsQWN0aXZlUHJvamVjdHMgPSBwcm9qZWN0cy5maWx0ZXIocCA9PiBwLnN0YXR1cyA9PT0gJ2FjdGl2ZScpLmxlbmd0aDtcclxuICAgICAgXHJcbiAgICAgIC8vIENhbGN1bGF0ZSBhdmVyYWdlIHByb2plY3Qgc2l6ZSAodXNpbmcgYnVkZ2V0IGFtb3VudCBhcyBwcm94eSlcclxuICAgICAgY29uc3QgcHJvamVjdFZhbHVlcyA9IHByb2plY3RzLm1hcChwID0+IHAuYnVkZ2V0X2Ftb3VudCB8fCAwKTtcclxuICAgICAgaWYgKHByb2plY3RWYWx1ZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGF2ZXJhZ2VQcm9qZWN0U2l6ZSA9IHByb2plY3RWYWx1ZXMucmVkdWNlKChzdW0sIHZhbCkgPT4gc3VtICsgdmFsLCAwKSAvIHByb2plY3RWYWx1ZXMubGVuZ3RoO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmxvZygnVXNpbmcgZGVmYXVsdCBwcm9qZWN0IGRhdGEnKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gR2V0IENsb2NraWZ5IGRhdGEgZm9yIHV0aWxpemF0aW9uIHJhdGVcclxuICAgIGxldCB1dGlsaXphdGlvblJhdGUgPSAwLjg1O1xyXG4gICAgbGV0IGF2ZXJhZ2VCaWxsaW5nUmF0ZSA9IDE4NTtcclxuICAgIFxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgY2xvY2tpZnlVc2VyID0gYXdhaXQgY2xvY2tpZnlTZXJ2aWNlLmdldFVzZXIoKTtcclxuICAgICAgY29uc3QgY2xvY2tpZnlQcm9qZWN0cyA9IGF3YWl0IGNsb2NraWZ5U2VydmljZS5nZXRQcm9qZWN0cygpO1xyXG4gICAgICBcclxuICAgICAgLy8gQ2FsY3VsYXRlIHV0aWxpemF0aW9uIHJhdGUgYmFzZWQgb24gYmlsbGFibGUgaG91cnMgdnMgdG90YWwgaG91cnNcclxuICAgICAgY29uc3QgdGltZUVudHJpZXMgPSBhd2FpdCBjbG9ja2lmeVNlcnZpY2UuZ2V0QWxsVGltZUVudHJpZXMoXHJcbiAgICAgICAgbmV3IERhdGUoY3VycmVudFllYXIsIDAsIDEpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgbm93LnRvSVNPU3RyaW5nKClcclxuICAgICAgKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHRvdGFsSG91cnMgPSB0aW1lRW50cmllcy5yZWR1Y2UoKHN1bSwgZW50cnkpID0+IHN1bSArIChwYXJzZUR1cmF0aW9uKGVudHJ5LnRpbWVJbnRlcnZhbC5kdXJhdGlvbikgfHwgMCksIDApIC8gMzYwMDAwMDsgLy8gQ29udmVydCBmcm9tIG1pbGxpc2Vjb25kc1xyXG4gICAgICBjb25zdCBiaWxsYWJsZUhvdXJzID0gdGltZUVudHJpZXMuZmlsdGVyKGVudHJ5ID0+IGVudHJ5LmJpbGxhYmxlKS5yZWR1Y2UoKHN1bSwgZW50cnkpID0+IHN1bSArIChwYXJzZUR1cmF0aW9uKGVudHJ5LnRpbWVJbnRlcnZhbC5kdXJhdGlvbikgfHwgMCksIDApIC8gMzYwMDAwMDtcclxuICAgICAgXHJcbiAgICAgIGlmICh0b3RhbEhvdXJzID4gMCkge1xyXG4gICAgICAgIHV0aWxpemF0aW9uUmF0ZSA9IGJpbGxhYmxlSG91cnMgLyB0b3RhbEhvdXJzO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBDYWxjdWxhdGUgYXZlcmFnZSBiaWxsaW5nIHJhdGUgKHVzaW5nIGRlZmF1bHQgcmF0ZSBmb3Igbm93KVxyXG4gICAgICBpZiAodGltZUVudHJpZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIC8vIEZvciBub3csIHVzZSBhIGRlZmF1bHQgYmlsbGluZyByYXRlIHNpbmNlIHdlIGRvbid0IGhhdmUgYW1vdW50IGRhdGFcclxuICAgICAgICBhdmVyYWdlQmlsbGluZ1JhdGUgPSAxODU7IC8vIERlZmF1bHQgcmF0ZSwgd291bGQgYmUgY2FsY3VsYXRlZCBmcm9tIGhvdXJseSByYXRlcyBpbiByZWFsIGltcGxlbWVudGF0aW9uXHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdVc2luZyBkZWZhdWx0IENsb2NraWZ5IGRhdGEnKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gQ2FsY3VsYXRlIGNhc2hmbG93ICh0aGlzIHdvdWxkIGNvbWUgZnJvbSB5b3VyIGFjY291bnRpbmcgc3lzdGVtKVxyXG4gICAgY29uc3QgY3VycmVudENhc2hmbG93ID0gMTI1MDAwO1xyXG4gICAgY29uc3QgcHJldmlvdXNNb250aENhc2hmbG93ID0gMTEwMDAwO1xyXG4gICAgY29uc3QgY2FzaGZsb3dUcmVuZDogJ3VwJyB8ICdkb3duJyB8ICdzdGFibGUnID0gY3VycmVudENhc2hmbG93ID4gcHJldmlvdXNNb250aENhc2hmbG93ID8gJ3VwJyA6IGN1cnJlbnRDYXNoZmxvdyA8IHByZXZpb3VzTW9udGhDYXNoZmxvdyA/ICdkb3duJyA6ICdzdGFibGUnO1xyXG4gICAgXHJcbiAgICAvLyBJbnZvaWNlIGRhdGEgKHRoaXMgd291bGQgY29tZSBmcm9tIFpvaG8gQm9va3MpXHJcbiAgICBjb25zdCBvdmVyZHVlSW52b2ljZVZhbHVlID0gNDUwMDA7XHJcbiAgICBjb25zdCB0b3RhbE91dHN0YW5kaW5nSW52b2ljZXMgPSAxMjUwMDA7XHJcbiAgICBjb25zdCBhdmVyYWdlRGF5c1RvUGF5bWVudCA9IDQyO1xyXG4gICAgXHJcbiAgICAvLyBQcm9maXQgbWFyZ2luc1xyXG4gICAgY29uc3QgY3VycmVudFllYXJHcm9zc01hcmdpbiA9IDAuMzU7XHJcbiAgICBjb25zdCBsYXN0WWVhckdyb3NzTWFyZ2luID0gMC4zMjtcclxuICAgIGNvbnN0IHl0ZE9wZXJhdGluZ0luY29tZSA9IDI4NTAwMDtcclxuICAgIGNvbnN0IGxhc3RZZWFyWXRkT3BlcmF0aW5nSW5jb21lID0gMjQ1MDAwO1xyXG4gICAgXHJcbiAgICAvLyBDbGllbnQgcmV0ZW50aW9uIHJhdGUgKHRoaXMgd291bGQgY29tZSBmcm9tIHlvdXIgQ1JNIGRhdGEpXHJcbiAgICBjb25zdCBjbGllbnRSZXRlbnRpb25SYXRlID0gMC45MjtcclxuICAgIFxyXG4gICAgLy8gR2VuZXJhdGUgdHJhaWxpbmcgMTIgbW9udGhzIGRhdGFcclxuICAgIGNvbnN0IHRyYWlsaW5nMTJNb250aHMgPSBbXTtcclxuICAgIGZvciAobGV0IGkgPSAxMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgY29uc3QgbW9udGggPSBuZXcgRGF0ZShjdXJyZW50WWVhciwgY3VycmVudE1vbnRoIC0gaSwgMSk7XHJcbiAgICAgIGNvbnN0IG1vbnRoTmFtZSA9IG1vbnRoLnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tVVMnLCB7IG1vbnRoOiAnc2hvcnQnIH0pO1xyXG4gICAgICBjb25zdCBiYXNlUmV2ZW51ZSA9IDE4MDAwMCArIChpICogMTUwMDApO1xyXG4gICAgICBjb25zdCBiYXNlRXhwZW5zZXMgPSAxMjAwMDAgKyAoaSAqIDUwMDApO1xyXG4gICAgICBjb25zdCBwcm9maXQgPSBiYXNlUmV2ZW51ZSAtIGJhc2VFeHBlbnNlcztcclxuICAgICAgY29uc3QgcHJvZml0TWFyZ2luID0gcHJvZml0IC8gYmFzZVJldmVudWU7XHJcbiAgICAgIFxyXG4gICAgICB0cmFpbGluZzEyTW9udGhzLnB1c2goe1xyXG4gICAgICAgIG1vbnRoOiBtb250aE5hbWUsXHJcbiAgICAgICAgcmV2ZW51ZTogYmFzZVJldmVudWUsXHJcbiAgICAgICAgZXhwZW5zZXM6IGJhc2VFeHBlbnNlcyxcclxuICAgICAgICBwcm9maXQsXHJcbiAgICAgICAgcHJvZml0TWFyZ2luXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBHZW5lcmF0ZSBmb3JlY2FzdCBkYXRhXHJcbiAgICBjb25zdCBmb3JlY2FzdCA9IFtdO1xyXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gNjsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IG1vbnRoID0gbmV3IERhdGUoY3VycmVudFllYXIsIGN1cnJlbnRNb250aCArIGksIDEpO1xyXG4gICAgICBjb25zdCBtb250aE5hbWUgPSBtb250aC50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLVVTJywgeyBtb250aDogJ3Nob3J0JyB9KTtcclxuICAgICAgY29uc3QgcHJvamVjdGVkUmV2ZW51ZSA9IDM2MDAwMCArIChpICogMTUwMDApO1xyXG4gICAgICBjb25zdCBwcm9qZWN0ZWRFeHBlbnNlcyA9IDE4MDAwMCArIChpICogNTAwMCk7XHJcbiAgICAgIGNvbnN0IHByb2plY3RlZFByb2ZpdCA9IHByb2plY3RlZFJldmVudWUgLSBwcm9qZWN0ZWRFeHBlbnNlcztcclxuICAgICAgXHJcbiAgICAgIGZvcmVjYXN0LnB1c2goe1xyXG4gICAgICAgIG1vbnRoOiBtb250aE5hbWUsXHJcbiAgICAgICAgcHJvamVjdGVkUmV2ZW51ZSxcclxuICAgICAgICBwcm9qZWN0ZWRFeHBlbnNlcyxcclxuICAgICAgICBwcm9qZWN0ZWRQcm9maXRcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnN0IGRhc2hib2FyZERhdGE6IERhc2hib2FyZE1ldHJpY3MgPSB7XHJcbiAgICAgIC8vIE11bHRpcGxpZXJzXHJcbiAgICAgIGN1cnJlbnRZZWFyTXVsdGlwbGllcixcclxuICAgICAgbGFzdFllYXJNdWx0aXBsaWVyLFxyXG4gICAgICB0d29ZZWFyc0Fnb011bHRpcGxpZXIsXHJcbiAgICAgIFxyXG4gICAgICAvLyBPdmVyaGVhZCBSYXRlc1xyXG4gICAgICBjdXJyZW50WWVhck92ZXJoZWFkLFxyXG4gICAgICBsYXN0WWVhck92ZXJoZWFkLFxyXG4gICAgICB0d29ZZWFyc0Fnb092ZXJoZWFkLFxyXG4gICAgICBcclxuICAgICAgLy8gUmV2ZW51ZSBwZXIgRW1wbG95ZWVcclxuICAgICAgY3VycmVudFllYXJSZXZlbnVlUGVyRW1wbG95ZWUsXHJcbiAgICAgIGxhc3RZZWFyUmV2ZW51ZVBlckVtcGxveWVlLFxyXG4gICAgICB0d29ZZWFyc0Fnb1JldmVudWVQZXJFbXBsb3llZSxcclxuICAgICAgXHJcbiAgICAgIC8vIENhc2hmbG93XHJcbiAgICAgIGN1cnJlbnRDYXNoZmxvdyxcclxuICAgICAgcHJldmlvdXNNb250aENhc2hmbG93LFxyXG4gICAgICBjYXNoZmxvd1RyZW5kLFxyXG4gICAgICBcclxuICAgICAgLy8gSW52b2ljZXNcclxuICAgICAgb3ZlcmR1ZUludm9pY2VWYWx1ZSxcclxuICAgICAgdG90YWxPdXRzdGFuZGluZ0ludm9pY2VzLFxyXG4gICAgICBhdmVyYWdlRGF5c1RvUGF5bWVudCxcclxuICAgICAgXHJcbiAgICAgIC8vIFByb2ZpdCBNZXRyaWNzXHJcbiAgICAgIHl0ZFByb2ZpdCxcclxuICAgICAgbGFzdFllYXJZdGRQcm9maXQsXHJcbiAgICAgIGN1cnJlbnRZZWFyR3Jvc3NNYXJnaW4sXHJcbiAgICAgIGxhc3RZZWFyR3Jvc3NNYXJnaW4sXHJcbiAgICAgIHl0ZE9wZXJhdGluZ0luY29tZSxcclxuICAgICAgbGFzdFllYXJZdGRPcGVyYXRpbmdJbmNvbWUsXHJcbiAgICAgIFxyXG4gICAgICAvLyBUcmFpbGluZyAxMiBNb250aHNcclxuICAgICAgdHJhaWxpbmcxMk1vbnRocyxcclxuICAgICAgXHJcbiAgICAgIC8vIEZvcmVjYXN0XHJcbiAgICAgIGZvcmVjYXN0LFxyXG4gICAgICBcclxuICAgICAgLy8gQWRkaXRpb25hbCBNZXRyaWNzXHJcbiAgICAgIHV0aWxpemF0aW9uUmF0ZSxcclxuICAgICAgYXZlcmFnZVByb2plY3RTaXplLFxyXG4gICAgICBjbGllbnRSZXRlbnRpb25SYXRlLFxyXG4gICAgICBhdmVyYWdlQmlsbGluZ1JhdGUsXHJcbiAgICAgIHRvdGFsQWN0aXZlUHJvamVjdHMsXHJcbiAgICAgIHRvdGFsRW1wbG95ZWVzLFxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKGRhc2hib2FyZERhdGEpO1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGRhc2hib2FyZCBkYXRhOicsIGVycm9yKTtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgeyBlcnJvcjogJ0ZhaWxlZCB0byBmZXRjaCBkYXNoYm9hcmQgZGF0YScgfSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwicGF5cm9sbFNlcnZpY2UiLCJjbG9ja2lmeVNlcnZpY2UiLCJ6b2hvU2VydmljZSIsIkdFVCIsInJlcXVlc3QiLCJwYXJzZUR1cmF0aW9uIiwiZHVyYXRpb24iLCJyZWdleCIsIm1hdGNoIiwiaG91cnMiLCJwYXJzZUludCIsIm1pbnV0ZXMiLCJzZWNvbmRzIiwibm93IiwiRGF0ZSIsImN1cnJlbnRZZWFyIiwiZ2V0RnVsbFllYXIiLCJjdXJyZW50TW9udGgiLCJnZXRNb250aCIsImN1cnJlbnRZZWFyTXVsdGlwbGllciIsImxhc3RZZWFyTXVsdGlwbGllciIsInR3b1llYXJzQWdvTXVsdGlwbGllciIsImN1cnJlbnRZZWFyT3ZlcmhlYWQiLCJsYXN0WWVhck92ZXJoZWFkIiwidHdvWWVhcnNBZ29PdmVyaGVhZCIsImVtcGxveWVlcyIsImdldEFsbEVtcGxveWVlcyIsInRvdGFsRW1wbG95ZWVzIiwibGVuZ3RoIiwiY3VycmVudFllYXJSZXZlbnVlUGVyRW1wbG95ZWUiLCJsYXN0WWVhclJldmVudWVQZXJFbXBsb3llZSIsInR3b1llYXJzQWdvUmV2ZW51ZVBlckVtcGxveWVlIiwidG90YWxBY3RpdmVQcm9qZWN0cyIsImF2ZXJhZ2VQcm9qZWN0U2l6ZSIsInl0ZFByb2ZpdCIsImxhc3RZZWFyWXRkUHJvZml0IiwicHJvamVjdHMiLCJnZXRQcm9qZWN0cyIsImZpbHRlciIsInAiLCJzdGF0dXMiLCJwcm9qZWN0VmFsdWVzIiwibWFwIiwiYnVkZ2V0X2Ftb3VudCIsInJlZHVjZSIsInN1bSIsInZhbCIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInV0aWxpemF0aW9uUmF0ZSIsImF2ZXJhZ2VCaWxsaW5nUmF0ZSIsImNsb2NraWZ5VXNlciIsImdldFVzZXIiLCJjbG9ja2lmeVByb2plY3RzIiwidGltZUVudHJpZXMiLCJnZXRBbGxUaW1lRW50cmllcyIsInRvSVNPU3RyaW5nIiwidG90YWxIb3VycyIsImVudHJ5IiwidGltZUludGVydmFsIiwiYmlsbGFibGVIb3VycyIsImJpbGxhYmxlIiwiY3VycmVudENhc2hmbG93IiwicHJldmlvdXNNb250aENhc2hmbG93IiwiY2FzaGZsb3dUcmVuZCIsIm92ZXJkdWVJbnZvaWNlVmFsdWUiLCJ0b3RhbE91dHN0YW5kaW5nSW52b2ljZXMiLCJhdmVyYWdlRGF5c1RvUGF5bWVudCIsImN1cnJlbnRZZWFyR3Jvc3NNYXJnaW4iLCJsYXN0WWVhckdyb3NzTWFyZ2luIiwieXRkT3BlcmF0aW5nSW5jb21lIiwibGFzdFllYXJZdGRPcGVyYXRpbmdJbmNvbWUiLCJjbGllbnRSZXRlbnRpb25SYXRlIiwidHJhaWxpbmcxMk1vbnRocyIsImkiLCJtb250aCIsIm1vbnRoTmFtZSIsInRvTG9jYWxlRGF0ZVN0cmluZyIsImJhc2VSZXZlbnVlIiwiYmFzZUV4cGVuc2VzIiwicHJvZml0IiwicHJvZml0TWFyZ2luIiwicHVzaCIsInJldmVudWUiLCJleHBlbnNlcyIsImZvcmVjYXN0IiwicHJvamVjdGVkUmV2ZW51ZSIsInByb2plY3RlZEV4cGVuc2VzIiwicHJvamVjdGVkUHJvZml0IiwiZGFzaGJvYXJkRGF0YSIsImpzb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/dashboard/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/clockify.ts":
/*!*************************!*\
  !*** ./lib/clockify.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clockifyService: () => (/* binding */ clockifyService),\n/* harmony export */   fetchAllClockifyTimeSummaries: () => (/* binding */ fetchAllClockifyTimeSummaries),\n/* harmony export */   fetchClockifyProjects: () => (/* binding */ fetchClockifyProjects),\n/* harmony export */   fetchClockifyTimeEntries: () => (/* binding */ fetchClockifyTimeEntries),\n/* harmony export */   fetchClockifyTimeReport: () => (/* binding */ fetchClockifyTimeReport)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"(rsc)/./node_modules/axios/lib/axios.js\");\n\nclass ClockifyService {\n    constructor(){\n        this.apiKey = \"OTg4NTg3YjMtMmQzYS00ZWE1LThiOTctZmY4NDAwYzRiZjZj\";\n        this.workspaceId = null;\n        this.baseUrl = \"https://api.clockify.me/api/v1\";\n        // Initialize with the provided API key\n        console.log(\"Clockify service initialized with API key\");\n    }\n    getHeaders() {\n        return {\n            \"X-Api-Key\": this.apiKey,\n            \"Content-Type\": \"application/json\"\n        };\n    }\n    async makeRequest(endpoint, params) {\n        try {\n            const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(`${this.baseUrl}${endpoint}`, {\n                headers: this.getHeaders(),\n                params\n            });\n            return response.data;\n        } catch (error) {\n            console.error(\"Clockify API error:\", error.response?.data || error.message);\n            throw new Error(`Clockify API error: ${error.response?.data?.message || error.message}`);\n        }\n    }\n    // Get user information\n    async getUser() {\n        return this.makeRequest(\"/user\");\n    }\n    // Get workspaces\n    async getWorkspaces() {\n        return this.makeRequest(\"/workspaces\");\n    }\n    // Get projects for a workspace\n    async getProjects(workspaceId) {\n        const wsId = workspaceId || this.workspaceId;\n        if (!wsId) {\n            // If no workspace ID is provided, get the first workspace\n            const workspaces = await this.getWorkspaces();\n            if (workspaces.length > 0) {\n                this.workspaceId = workspaces[0].id;\n                console.log(`Using workspace: ${workspaces[0].name} (${workspaces[0].id})`);\n            } else {\n                throw new Error(\"No workspaces found\");\n            }\n        }\n        return this.makeRequest(`/workspaces/${this.workspaceId}/projects`);\n    }\n    // Get time entries for a project\n    async getProjectTimeEntries(projectId, startDate, endDate, workspaceId) {\n        const wsId = workspaceId || this.workspaceId;\n        if (!wsId) {\n            throw new Error(\"Workspace ID not configured\");\n        }\n        const params = {};\n        if (startDate) params[\"start\"] = startDate;\n        if (endDate) params[\"end\"] = endDate;\n        return this.makeRequest(`/workspaces/${wsId}/projects/${projectId}/time-entries`, params);\n    }\n    // Get time entries for a user\n    async getUserTimeEntries(userId, startDate, endDate, workspaceId) {\n        const wsId = workspaceId || this.workspaceId;\n        if (!wsId) {\n            throw new Error(\"Workspace ID not configured\");\n        }\n        const params = {};\n        if (startDate) params[\"start\"] = startDate;\n        if (endDate) params[\"end\"] = endDate;\n        return this.makeRequest(`/workspaces/${wsId}/user/${userId}/time-entries`, params);\n    }\n    // Get all time entries for a workspace\n    async getAllTimeEntries(startDate, endDate, workspaceId) {\n        const wsId = workspaceId || this.workspaceId;\n        if (!wsId) {\n            throw new Error(\"Workspace ID not configured\");\n        }\n        const params = {};\n        if (startDate) params[\"start\"] = startDate;\n        if (endDate) params[\"end\"] = endDate;\n        return this.makeRequest(`/workspaces/${wsId}/time-entries`, params);\n    }\n    // Get detailed time report for a project\n    async getProjectTimeReport(projectId, startDate, endDate, workspaceId) {\n        const entries = await this.getProjectTimeEntries(projectId, startDate, endDate, workspaceId);\n        const project = await this.getProjectById(projectId, workspaceId);\n        let totalHours = 0;\n        let billableHours = 0;\n        let nonBillableHours = 0;\n        let totalAmount = 0;\n        let billableAmount = 0;\n        let nonBillableAmount = 0;\n        entries.forEach((entry)=>{\n            const durationMs = this.parseDuration(entry.timeInterval.duration);\n            const hours = durationMs / (1000 * 60 * 60);\n            totalHours += hours;\n            if (entry.billable) {\n                billableHours += hours;\n                billableAmount += entry.costRate?.amount || 0;\n            } else {\n                nonBillableHours += hours;\n                nonBillableAmount += entry.costRate?.amount || 0;\n            }\n            totalAmount += entry.costRate?.amount || 0;\n        });\n        return {\n            projectId,\n            projectName: project?.name || \"Unknown Project\",\n            totalHours,\n            billableHours,\n            nonBillableHours,\n            totalAmount,\n            billableAmount,\n            nonBillableAmount,\n            entries,\n            period: {\n                start: startDate,\n                end: endDate\n            }\n        };\n    }\n    // Get project by ID\n    async getProjectById(projectId, workspaceId) {\n        const wsId = workspaceId || this.workspaceId;\n        if (!wsId) {\n            throw new Error(\"Workspace ID not configured\");\n        }\n        try {\n            return await this.makeRequest(`/workspaces/${wsId}/projects/${projectId}`);\n        } catch (error) {\n            console.error(`Project ${projectId} not found`);\n            return null;\n        }\n    }\n    // Get time summary for a project\n    async getProjectTimeSummary(projectId, startDate, endDate, workspaceId) {\n        const report = await this.getProjectTimeReport(projectId, startDate, endDate, workspaceId);\n        return {\n            projectId: report.projectId,\n            projectName: report.projectName,\n            totalHours: report.totalHours,\n            billableHours: report.billableHours,\n            nonBillableHours: report.nonBillableHours,\n            totalAmount: report.totalAmount,\n            billableAmount: report.billableAmount,\n            nonBillableAmount: report.nonBillableAmount,\n            period: report.period\n        };\n    }\n    // Get all projects with time summaries for a date range\n    async getAllProjectsTimeSummary(startDate, endDate, workspaceId) {\n        const projects = await this.getProjects(workspaceId);\n        const summaries = [];\n        for (const project of projects){\n            try {\n                const summary = await this.getProjectTimeSummary(project.id, startDate, endDate, workspaceId);\n                summaries.push(summary);\n            } catch (error) {\n                console.error(`Error getting summary for project ${project.id}:`, error);\n            }\n        }\n        return summaries;\n    }\n    // Parse duration string (e.g., \"PT2H30M\") to milliseconds\n    parseDuration(duration) {\n        const regex = /PT(?:(\\d+)H)?(?:(\\d+)M)?(?:(\\d+)S)?/;\n        const match = duration.match(regex);\n        if (!match) return 0;\n        const hours = parseInt(match[1] || \"0\");\n        const minutes = parseInt(match[2] || \"0\");\n        const seconds = parseInt(match[3] || \"0\");\n        return (hours * 3600 + minutes * 60 + seconds) * 1000;\n    }\n    // Check if service is configured\n    isConfigured() {\n        return !!this.apiKey;\n    }\n    // Get configuration status\n    getConfigStatus() {\n        return {\n            apiKey: !!this.apiKey,\n            workspaceId: !!this.workspaceId,\n            configured: this.isConfigured()\n        };\n    }\n    // Set workspace ID\n    setWorkspaceId(workspaceId) {\n        this.workspaceId = workspaceId;\n    }\n}\n// Create singleton instance\nconst clockifyService = new ClockifyService();\n// Export convenience functions\nconst fetchClockifyProjects = async ()=>{\n    try {\n        return await clockifyService.getProjects();\n    } catch (error) {\n        console.error(\"Error fetching Clockify projects:\", error);\n        return [];\n    }\n};\nconst fetchClockifyTimeEntries = async (projectId, startDate, endDate)=>{\n    try {\n        return await clockifyService.getProjectTimeEntries(projectId, startDate, endDate);\n    } catch (error) {\n        console.error(\"Error fetching Clockify time entries:\", error);\n        return [];\n    }\n};\nconst fetchClockifyTimeReport = async (projectId, startDate, endDate)=>{\n    try {\n        return await clockifyService.getProjectTimeReport(projectId, startDate, endDate);\n    } catch (error) {\n        console.error(\"Error fetching Clockify time report:\", error);\n        return null;\n    }\n};\nconst fetchAllClockifyTimeSummaries = async (startDate, endDate)=>{\n    try {\n        return await clockifyService.getAllProjectsTimeSummary(startDate, endDate);\n    } catch (error) {\n        console.error(\"Error fetching Clockify time summaries:\", error);\n        return [];\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFFLE9BQU9kLE9BQU87UUFDZFYsUUFBUVUsS0FBSyxDQUFDLHdDQUF3Q0E7UUFDdEQsT0FBTztJQUNUO0FBQ0YsRUFBRTtBQUVLLE1BQU04RCxnQ0FBZ0MsT0FDM0NqRCxXQUNBQztJQUVBLElBQUk7UUFDRixPQUFPLE1BQU00QyxnQkFBZ0JkLHlCQUF5QixDQUFDL0IsV0FBV0M7SUFDcEUsRUFBRSxPQUFPZCxPQUFPO1FBQ2RWLFFBQVFVLEtBQUssQ0FBQywyQ0FBMkNBO1FBQ3pELE9BQU8sRUFBRTtJQUNYO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL3pvaG8tYmlsbGluZy1wbGF0Zm9ybS8uL2xpYi9jbG9ja2lmeS50cz85MGZjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2xvY2tpZnlUaW1lRW50cnkge1xuICBpZDogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICB1c2VySWQ6IHN0cmluZztcbiAgYmlsbGFibGU6IGJvb2xlYW47XG4gIHRhc2tJZD86IHN0cmluZztcbiAgcHJvamVjdElkOiBzdHJpbmc7XG4gIHRpbWVJbnRlcnZhbDoge1xuICAgIHN0YXJ0OiBzdHJpbmc7XG4gICAgZW5kPzogc3RyaW5nO1xuICAgIGR1cmF0aW9uOiBzdHJpbmc7XG4gIH07XG4gIGhvdXJseVJhdGU/OiB7XG4gICAgYW1vdW50OiBudW1iZXI7XG4gICAgY3VycmVuY3k6IHN0cmluZztcbiAgfTtcbiAgY29zdFJhdGU/OiB7XG4gICAgYW1vdW50OiBudW1iZXI7XG4gICAgY3VycmVuY3k6IHN0cmluZztcbiAgfTtcbiAgaXNMb2NrZWQ6IGJvb2xlYW47XG4gIGN1c3RvbUZpZWxkVmFsdWVzOiBhbnlbXTtcbiAgdHlwZTogc3RyaW5nO1xuICB0YWdzOiBhbnlbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDbG9ja2lmeVByb2plY3Qge1xuICBpZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIHdvcmtzcGFjZUlkOiBzdHJpbmc7XG4gIGNsaWVudElkPzogc3RyaW5nO1xuICBjbGllbnROYW1lPzogc3RyaW5nO1xuICBpc1B1YmxpYzogYm9vbGVhbjtcbiAgaXNUZW1wbGF0ZTogYm9vbGVhbjtcbiAgY29sb3I6IHN0cmluZztcbiAgbm90ZT86IHN0cmluZztcbiAgYmlsbGFibGU6IGJvb2xlYW47XG4gIHB1YmxpYzogYm9vbGVhbjtcbiAgYXJjaGl2ZWQ6IGJvb2xlYW47XG4gIGVzdGltYXRlOiB7XG4gICAgZXN0aW1hdGU6IHN0cmluZztcbiAgICB0eXBlOiBzdHJpbmc7XG4gIH07XG4gIHN0YXR1czogc3RyaW5nO1xuICBkdXJhdGlvbjogc3RyaW5nO1xuICBidWRnZXRFc3RpbWF0ZTogbnVtYmVyO1xuICBidWRnZXRUeXBlOiBzdHJpbmc7XG4gIGhvdXJseVJhdGU6IHtcbiAgICBhbW91bnQ6IG51bWJlcjtcbiAgICBjdXJyZW5jeTogc3RyaW5nO1xuICB9O1xuICBjb3N0UmF0ZToge1xuICAgIGFtb3VudDogbnVtYmVyO1xuICAgIGN1cnJlbmN5OiBzdHJpbmc7XG4gIH07XG4gIHRpbWVFc3RpbWF0ZTogc3RyaW5nO1xuICBidWRnZXQ6IG51bWJlcjtcbiAgc3BlbnQ6IHN0cmluZztcbiAgcHJvZ3Jlc3M6IG51bWJlcjtcbiAgcmF0ZTogbnVtYmVyO1xuICByYXRlTGFzdFVwZGF0ZWQ6IHN0cmluZztcbiAgZml4ZWRGZWU6IG51bWJlcjtcbiAgbWVtYmVyc2hpcHM6IGFueVtdO1xuICB0YXNrQ291bnQ6IHtcbiAgICB0b3RhbDogbnVtYmVyO1xuICAgIGVzdGltYXRlOiBudW1iZXI7XG4gIH07XG4gIGN1c3RvbUZpZWxkczogYW55W107XG4gIHN0YXJ0RGF0ZTogc3RyaW5nO1xuICBlbmREYXRlPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENsb2NraWZ5VXNlciB7XG4gIGlkOiBzdHJpbmc7XG4gIGVtYWlsOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgcHJvZmlsZVBpY3R1cmU6IHN0cmluZztcbiAgc3RhdHVzOiBzdHJpbmc7XG4gIGFjdGl2ZVdvcmtzcGFjZTogc3RyaW5nO1xuICBkZWZhdWx0V29ya3NwYWNlOiBzdHJpbmc7XG4gIHNldHRpbmdzOiBhbnk7XG4gIG1lbWJlcnNoaXBzOiBhbnlbXTtcbiAgcHJvZmlsZVBpY3R1cmVVcmw6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDbG9ja2lmeVdvcmtzcGFjZSB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgcHJvZmlsZTogbnVtYmVyO1xuICBwcmVtaXVtOiBib29sZWFuO1xuICBhZG1pbjogYm9vbGVhbjtcbiAgZGVmYXVsdEhvdXJseVJhdGU6IG51bWJlcjtcbiAgZGVmYXVsdEN1cnJlbmN5OiBzdHJpbmc7XG4gIG9ubHlBZG1pbnNNYXlDcmVhdGVQcm9qZWN0czogYm9vbGVhbjtcbiAgb25seUFkbWluc1NlZUJpbGxhYmxlUmF0ZXM6IGJvb2xlYW47XG4gIG9ubHlBZG1pbnNTZWVUZWFtRGFzaGJvYXJkOiBib29sZWFuO1xuICBwcm9qZWN0c0JpbGxhYmxlQnlEZWZhdWx0OiBib29sZWFuO1xuICByb3VuZGluZzogbnVtYmVyO1xuICByb3VuZGluZ01pbnV0ZXM6IG51bWJlcjtcbiAgbG9nbzogc3RyaW5nO1xuICBpY2FsVXJsOiBzdHJpbmc7XG4gIGljYWxFbmFibGVkOiBib29sZWFuO1xuICBjc3ZVcGxvYWQ6IHtcbiAgICBlbmFibGVkOiBib29sZWFuO1xuICAgIGRhdGVGb3JtYXQ6IHN0cmluZztcbiAgICB0aW1lRm9ybWF0OiBzdHJpbmc7XG4gIH07XG4gIHN1YnNjcmlwdGlvbjoge1xuICAgIHN0YXJ0RGF0ZTogc3RyaW5nO1xuICAgIGVuZERhdGU6IHN0cmluZztcbiAgICB0cmlhbDogYm9vbGVhbjtcbiAgICBzdGF0dXM6IHN0cmluZztcbiAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDbG9ja2lmeVRpbWVSZXBvcnQge1xuICBwcm9qZWN0SWQ6IHN0cmluZztcbiAgcHJvamVjdE5hbWU6IHN0cmluZztcbiAgdG90YWxIb3VyczogbnVtYmVyO1xuICBiaWxsYWJsZUhvdXJzOiBudW1iZXI7XG4gIG5vbkJpbGxhYmxlSG91cnM6IG51bWJlcjtcbiAgdG90YWxBbW91bnQ6IG51bWJlcjtcbiAgYmlsbGFibGVBbW91bnQ6IG51bWJlcjtcbiAgbm9uQmlsbGFibGVBbW91bnQ6IG51bWJlcjtcbiAgZW50cmllczogQ2xvY2tpZnlUaW1lRW50cnlbXTtcbiAgcGVyaW9kOiB7XG4gICAgc3RhcnQ6IHN0cmluZztcbiAgICBlbmQ6IHN0cmluZztcbiAgfTtcbn1cblxuaW50ZXJmYWNlIFRva2VuUmVzcG9uc2Uge1xuICBhY2Nlc3NfdG9rZW46IHN0cmluZztcbiAgZXhwaXJlc19pbjogbnVtYmVyO1xuICB0b2tlbl90eXBlOiBzdHJpbmc7XG59XG5cbmNsYXNzIENsb2NraWZ5U2VydmljZSB7XG4gIHByaXZhdGUgYXBpS2V5OiBzdHJpbmcgPSAnT1RnNE5UZzNZak10TW1RellTMDBaV0UxTFRoaU9UY3RabVk0TkRBd1l6UmlaalpqJztcbiAgcHJpdmF0ZSB3b3Jrc3BhY2VJZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgYmFzZVVybCA9ICdodHRwczovL2FwaS5jbG9ja2lmeS5tZS9hcGkvdjEnO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIC8vIEluaXRpYWxpemUgd2l0aCB0aGUgcHJvdmlkZWQgQVBJIGtleVxuICAgIGNvbnNvbGUubG9nKCdDbG9ja2lmeSBzZXJ2aWNlIGluaXRpYWxpemVkIHdpdGggQVBJIGtleScpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRIZWFkZXJzKCkge1xuICAgIHJldHVybiB7XG4gICAgICAnWC1BcGktS2V5JzogdGhpcy5hcGlLZXksXG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIG1ha2VSZXF1ZXN0KGVuZHBvaW50OiBzdHJpbmcsIHBhcmFtcz86IGFueSk6IFByb21pc2U8YW55PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KGAke3RoaXMuYmFzZVVybH0ke2VuZHBvaW50fWAsIHtcbiAgICAgICAgaGVhZGVyczogdGhpcy5nZXRIZWFkZXJzKCksXG4gICAgICAgIHBhcmFtcyxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcignQ2xvY2tpZnkgQVBJIGVycm9yOicsIGVycm9yLnJlc3BvbnNlPy5kYXRhIHx8IGVycm9yLm1lc3NhZ2UpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDbG9ja2lmeSBBUEkgZXJyb3I6ICR7ZXJyb3IucmVzcG9uc2U/LmRhdGE/Lm1lc3NhZ2UgfHwgZXJyb3IubWVzc2FnZX1gKTtcbiAgICB9XG4gIH1cblxuICAvLyBHZXQgdXNlciBpbmZvcm1hdGlvblxuICBhc3luYyBnZXRVc2VyKCk6IFByb21pc2U8Q2xvY2tpZnlVc2VyPiB7XG4gICAgcmV0dXJuIHRoaXMubWFrZVJlcXVlc3QoJy91c2VyJyk7XG4gIH1cblxuICAvLyBHZXQgd29ya3NwYWNlc1xuICBhc3luYyBnZXRXb3Jrc3BhY2VzKCk6IFByb21pc2U8Q2xvY2tpZnlXb3Jrc3BhY2VbXT4ge1xuICAgIHJldHVybiB0aGlzLm1ha2VSZXF1ZXN0KCcvd29ya3NwYWNlcycpO1xuICB9XG5cbiAgLy8gR2V0IHByb2plY3RzIGZvciBhIHdvcmtzcGFjZVxuICBhc3luYyBnZXRQcm9qZWN0cyh3b3Jrc3BhY2VJZD86IHN0cmluZyk6IFByb21pc2U8Q2xvY2tpZnlQcm9qZWN0W10+IHtcbiAgICBjb25zdCB3c0lkID0gd29ya3NwYWNlSWQgfHwgdGhpcy53b3Jrc3BhY2VJZDtcbiAgICBpZiAoIXdzSWQpIHtcbiAgICAgIC8vIElmIG5vIHdvcmtzcGFjZSBJRCBpcyBwcm92aWRlZCwgZ2V0IHRoZSBmaXJzdCB3b3Jrc3BhY2VcbiAgICAgIGNvbnN0IHdvcmtzcGFjZXMgPSBhd2FpdCB0aGlzLmdldFdvcmtzcGFjZXMoKTtcbiAgICAgIGlmICh3b3Jrc3BhY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpcy53b3Jrc3BhY2VJZCA9IHdvcmtzcGFjZXNbMF0uaWQ7XG4gICAgICAgIGNvbnNvbGUubG9nKGBVc2luZyB3b3Jrc3BhY2U6ICR7d29ya3NwYWNlc1swXS5uYW1lfSAoJHt3b3Jrc3BhY2VzWzBdLmlkfSlgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gd29ya3NwYWNlcyBmb3VuZCcpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5tYWtlUmVxdWVzdChgL3dvcmtzcGFjZXMvJHt0aGlzLndvcmtzcGFjZUlkfS9wcm9qZWN0c2ApO1xuICB9XG5cbiAgLy8gR2V0IHRpbWUgZW50cmllcyBmb3IgYSBwcm9qZWN0XG4gIGFzeW5jIGdldFByb2plY3RUaW1lRW50cmllcyhcbiAgICBwcm9qZWN0SWQ6IHN0cmluZyxcbiAgICBzdGFydERhdGU/OiBzdHJpbmcsXG4gICAgZW5kRGF0ZT86IHN0cmluZyxcbiAgICB3b3Jrc3BhY2VJZD86IHN0cmluZ1xuICApOiBQcm9taXNlPENsb2NraWZ5VGltZUVudHJ5W10+IHtcbiAgICBjb25zdCB3c0lkID0gd29ya3NwYWNlSWQgfHwgdGhpcy53b3Jrc3BhY2VJZDtcbiAgICBpZiAoIXdzSWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignV29ya3NwYWNlIElEIG5vdCBjb25maWd1cmVkJyk7XG4gICAgfVxuXG4gICAgY29uc3QgcGFyYW1zOiBhbnkgPSB7fTtcbiAgICBpZiAoc3RhcnREYXRlKSBwYXJhbXNbJ3N0YXJ0J10gPSBzdGFydERhdGU7XG4gICAgaWYgKGVuZERhdGUpIHBhcmFtc1snZW5kJ10gPSBlbmREYXRlO1xuXG4gICAgcmV0dXJuIHRoaXMubWFrZVJlcXVlc3QoYC93b3Jrc3BhY2VzLyR7d3NJZH0vcHJvamVjdHMvJHtwcm9qZWN0SWR9L3RpbWUtZW50cmllc2AsIHBhcmFtcyk7XG4gIH1cblxuICAvLyBHZXQgdGltZSBlbnRyaWVzIGZvciBhIHVzZXJcbiAgYXN5bmMgZ2V0VXNlclRpbWVFbnRyaWVzKFxuICAgIHVzZXJJZDogc3RyaW5nLFxuICAgIHN0YXJ0RGF0ZT86IHN0cmluZyxcbiAgICBlbmREYXRlPzogc3RyaW5nLFxuICAgIHdvcmtzcGFjZUlkPzogc3RyaW5nXG4gICk6IFByb21pc2U8Q2xvY2tpZnlUaW1lRW50cnlbXT4ge1xuICAgIGNvbnN0IHdzSWQgPSB3b3Jrc3BhY2VJZCB8fCB0aGlzLndvcmtzcGFjZUlkO1xuICAgIGlmICghd3NJZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdXb3Jrc3BhY2UgSUQgbm90IGNvbmZpZ3VyZWQnKTtcbiAgICB9XG5cbiAgICBjb25zdCBwYXJhbXM6IGFueSA9IHt9O1xuICAgIGlmIChzdGFydERhdGUpIHBhcmFtc1snc3RhcnQnXSA9IHN0YXJ0RGF0ZTtcbiAgICBpZiAoZW5kRGF0ZSkgcGFyYW1zWydlbmQnXSA9IGVuZERhdGU7XG5cbiAgICByZXR1cm4gdGhpcy5tYWtlUmVxdWVzdChgL3dvcmtzcGFjZXMvJHt3c0lkfS91c2VyLyR7dXNlcklkfS90aW1lLWVudHJpZXNgLCBwYXJhbXMpO1xuICB9XG5cbiAgLy8gR2V0IGFsbCB0aW1lIGVudHJpZXMgZm9yIGEgd29ya3NwYWNlXG4gIGFzeW5jIGdldEFsbFRpbWVFbnRyaWVzKFxuICAgIHN0YXJ0RGF0ZT86IHN0cmluZyxcbiAgICBlbmREYXRlPzogc3RyaW5nLFxuICAgIHdvcmtzcGFjZUlkPzogc3RyaW5nXG4gICk6IFByb21pc2U8Q2xvY2tpZnlUaW1lRW50cnlbXT4ge1xuICAgIGNvbnN0IHdzSWQgPSB3b3Jrc3BhY2VJZCB8fCB0aGlzLndvcmtzcGFjZUlkO1xuICAgIGlmICghd3NJZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdXb3Jrc3BhY2UgSUQgbm90IGNvbmZpZ3VyZWQnKTtcbiAgICB9XG5cbiAgICBjb25zdCBwYXJhbXM6IGFueSA9IHt9O1xuICAgIGlmIChzdGFydERhdGUpIHBhcmFtc1snc3RhcnQnXSA9IHN0YXJ0RGF0ZTtcbiAgICBpZiAoZW5kRGF0ZSkgcGFyYW1zWydlbmQnXSA9IGVuZERhdGU7XG5cbiAgICByZXR1cm4gdGhpcy5tYWtlUmVxdWVzdChgL3dvcmtzcGFjZXMvJHt3c0lkfS90aW1lLWVudHJpZXNgLCBwYXJhbXMpO1xuICB9XG5cbiAgLy8gR2V0IGRldGFpbGVkIHRpbWUgcmVwb3J0IGZvciBhIHByb2plY3RcbiAgYXN5bmMgZ2V0UHJvamVjdFRpbWVSZXBvcnQoXG4gICAgcHJvamVjdElkOiBzdHJpbmcsXG4gICAgc3RhcnREYXRlOiBzdHJpbmcsXG4gICAgZW5kRGF0ZTogc3RyaW5nLFxuICAgIHdvcmtzcGFjZUlkPzogc3RyaW5nXG4gICk6IFByb21pc2U8Q2xvY2tpZnlUaW1lUmVwb3J0PiB7XG4gICAgY29uc3QgZW50cmllcyA9IGF3YWl0IHRoaXMuZ2V0UHJvamVjdFRpbWVFbnRyaWVzKHByb2plY3RJZCwgc3RhcnREYXRlLCBlbmREYXRlLCB3b3Jrc3BhY2VJZCk7XG4gICAgY29uc3QgcHJvamVjdCA9IGF3YWl0IHRoaXMuZ2V0UHJvamVjdEJ5SWQocHJvamVjdElkLCB3b3Jrc3BhY2VJZCk7XG5cbiAgICBsZXQgdG90YWxIb3VycyA9IDA7XG4gICAgbGV0IGJpbGxhYmxlSG91cnMgPSAwO1xuICAgIGxldCBub25CaWxsYWJsZUhvdXJzID0gMDtcbiAgICBsZXQgdG90YWxBbW91bnQgPSAwO1xuICAgIGxldCBiaWxsYWJsZUFtb3VudCA9IDA7XG4gICAgbGV0IG5vbkJpbGxhYmxlQW1vdW50ID0gMDtcblxuICAgIGVudHJpZXMuZm9yRWFjaChlbnRyeSA9PiB7XG4gICAgICBjb25zdCBkdXJhdGlvbk1zID0gdGhpcy5wYXJzZUR1cmF0aW9uKGVudHJ5LnRpbWVJbnRlcnZhbC5kdXJhdGlvbik7XG4gICAgICBjb25zdCBob3VycyA9IGR1cmF0aW9uTXMgLyAoMTAwMCAqIDYwICogNjApO1xuICAgICAgdG90YWxIb3VycyArPSBob3VycztcblxuICAgICAgaWYgKGVudHJ5LmJpbGxhYmxlKSB7XG4gICAgICAgIGJpbGxhYmxlSG91cnMgKz0gaG91cnM7XG4gICAgICAgIGJpbGxhYmxlQW1vdW50ICs9IGVudHJ5LmNvc3RSYXRlPy5hbW91bnQgfHwgMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vbkJpbGxhYmxlSG91cnMgKz0gaG91cnM7XG4gICAgICAgIG5vbkJpbGxhYmxlQW1vdW50ICs9IGVudHJ5LmNvc3RSYXRlPy5hbW91bnQgfHwgMDtcbiAgICAgIH1cbiAgICAgIHRvdGFsQW1vdW50ICs9IGVudHJ5LmNvc3RSYXRlPy5hbW91bnQgfHwgMDtcbiAgICB9KTtcblxuICAgIHJldHVybiB7XG4gICAgICBwcm9qZWN0SWQsXG4gICAgICBwcm9qZWN0TmFtZTogcHJvamVjdD8ubmFtZSB8fCAnVW5rbm93biBQcm9qZWN0JyxcbiAgICAgIHRvdGFsSG91cnMsXG4gICAgICBiaWxsYWJsZUhvdXJzLFxuICAgICAgbm9uQmlsbGFibGVIb3VycyxcbiAgICAgIHRvdGFsQW1vdW50LFxuICAgICAgYmlsbGFibGVBbW91bnQsXG4gICAgICBub25CaWxsYWJsZUFtb3VudCxcbiAgICAgIGVudHJpZXMsXG4gICAgICBwZXJpb2Q6IHsgc3RhcnQ6IHN0YXJ0RGF0ZSwgZW5kOiBlbmREYXRlIH0sXG4gICAgfTtcbiAgfVxuXG4gIC8vIEdldCBwcm9qZWN0IGJ5IElEXG4gIGFzeW5jIGdldFByb2plY3RCeUlkKHByb2plY3RJZDogc3RyaW5nLCB3b3Jrc3BhY2VJZD86IHN0cmluZyk6IFByb21pc2U8Q2xvY2tpZnlQcm9qZWN0IHwgbnVsbD4ge1xuICAgIGNvbnN0IHdzSWQgPSB3b3Jrc3BhY2VJZCB8fCB0aGlzLndvcmtzcGFjZUlkO1xuICAgIGlmICghd3NJZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdXb3Jrc3BhY2UgSUQgbm90IGNvbmZpZ3VyZWQnKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMubWFrZVJlcXVlc3QoYC93b3Jrc3BhY2VzLyR7d3NJZH0vcHJvamVjdHMvJHtwcm9qZWN0SWR9YCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFByb2plY3QgJHtwcm9qZWN0SWR9IG5vdCBmb3VuZGApO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgLy8gR2V0IHRpbWUgc3VtbWFyeSBmb3IgYSBwcm9qZWN0XG4gIGFzeW5jIGdldFByb2plY3RUaW1lU3VtbWFyeShcbiAgICBwcm9qZWN0SWQ6IHN0cmluZyxcbiAgICBzdGFydERhdGU6IHN0cmluZyxcbiAgICBlbmREYXRlOiBzdHJpbmcsXG4gICAgd29ya3NwYWNlSWQ/OiBzdHJpbmdcbiAgKSB7XG4gICAgY29uc3QgcmVwb3J0ID0gYXdhaXQgdGhpcy5nZXRQcm9qZWN0VGltZVJlcG9ydChwcm9qZWN0SWQsIHN0YXJ0RGF0ZSwgZW5kRGF0ZSwgd29ya3NwYWNlSWQpO1xuICAgIHJldHVybiB7XG4gICAgICBwcm9qZWN0SWQ6IHJlcG9ydC5wcm9qZWN0SWQsXG4gICAgICBwcm9qZWN0TmFtZTogcmVwb3J0LnByb2plY3ROYW1lLFxuICAgICAgdG90YWxIb3VyczogcmVwb3J0LnRvdGFsSG91cnMsXG4gICAgICBiaWxsYWJsZUhvdXJzOiByZXBvcnQuYmlsbGFibGVIb3VycyxcbiAgICAgIG5vbkJpbGxhYmxlSG91cnM6IHJlcG9ydC5ub25CaWxsYWJsZUhvdXJzLFxuICAgICAgdG90YWxBbW91bnQ6IHJlcG9ydC50b3RhbEFtb3VudCxcbiAgICAgIGJpbGxhYmxlQW1vdW50OiByZXBvcnQuYmlsbGFibGVBbW91bnQsXG4gICAgICBub25CaWxsYWJsZUFtb3VudDogcmVwb3J0Lm5vbkJpbGxhYmxlQW1vdW50LFxuICAgICAgcGVyaW9kOiByZXBvcnQucGVyaW9kLFxuICAgIH07XG4gIH1cblxuICAvLyBHZXQgYWxsIHByb2plY3RzIHdpdGggdGltZSBzdW1tYXJpZXMgZm9yIGEgZGF0ZSByYW5nZVxuICBhc3luYyBnZXRBbGxQcm9qZWN0c1RpbWVTdW1tYXJ5KFxuICAgIHN0YXJ0RGF0ZTogc3RyaW5nLFxuICAgIGVuZERhdGU6IHN0cmluZyxcbiAgICB3b3Jrc3BhY2VJZD86IHN0cmluZ1xuICApIHtcbiAgICBjb25zdCBwcm9qZWN0cyA9IGF3YWl0IHRoaXMuZ2V0UHJvamVjdHMod29ya3NwYWNlSWQpO1xuICAgIGNvbnN0IHN1bW1hcmllcyA9IFtdO1xuXG4gICAgZm9yIChjb25zdCBwcm9qZWN0IG9mIHByb2plY3RzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzdW1tYXJ5ID0gYXdhaXQgdGhpcy5nZXRQcm9qZWN0VGltZVN1bW1hcnkoXG4gICAgICAgICAgcHJvamVjdC5pZCxcbiAgICAgICAgICBzdGFydERhdGUsXG4gICAgICAgICAgZW5kRGF0ZSxcbiAgICAgICAgICB3b3Jrc3BhY2VJZFxuICAgICAgICApO1xuICAgICAgICBzdW1tYXJpZXMucHVzaChzdW1tYXJ5KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGdldHRpbmcgc3VtbWFyeSBmb3IgcHJvamVjdCAke3Byb2plY3QuaWR9OmAsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc3VtbWFyaWVzO1xuICB9XG5cbiAgLy8gUGFyc2UgZHVyYXRpb24gc3RyaW5nIChlLmcuLCBcIlBUMkgzME1cIikgdG8gbWlsbGlzZWNvbmRzXG4gIHByaXZhdGUgcGFyc2VEdXJhdGlvbihkdXJhdGlvbjogc3RyaW5nKTogbnVtYmVyIHtcbiAgICBjb25zdCByZWdleCA9IC9QVCg/OihcXGQrKUgpPyg/OihcXGQrKU0pPyg/OihcXGQrKVMpPy87XG4gICAgY29uc3QgbWF0Y2ggPSBkdXJhdGlvbi5tYXRjaChyZWdleCk7XG4gICAgXG4gICAgaWYgKCFtYXRjaCkgcmV0dXJuIDA7XG4gICAgXG4gICAgY29uc3QgaG91cnMgPSBwYXJzZUludChtYXRjaFsxXSB8fCAnMCcpO1xuICAgIGNvbnN0IG1pbnV0ZXMgPSBwYXJzZUludChtYXRjaFsyXSB8fCAnMCcpO1xuICAgIGNvbnN0IHNlY29uZHMgPSBwYXJzZUludChtYXRjaFszXSB8fCAnMCcpO1xuICAgIFxuICAgIHJldHVybiAoaG91cnMgKiAzNjAwICsgbWludXRlcyAqIDYwICsgc2Vjb25kcykgKiAxMDAwO1xuICB9XG5cbiAgLy8gQ2hlY2sgaWYgc2VydmljZSBpcyBjb25maWd1cmVkXG4gIGlzQ29uZmlndXJlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gISF0aGlzLmFwaUtleTtcbiAgfVxuXG4gIC8vIEdldCBjb25maWd1cmF0aW9uIHN0YXR1c1xuICBnZXRDb25maWdTdGF0dXMoKTogeyBhcGlLZXk6IGJvb2xlYW47IHdvcmtzcGFjZUlkOiBib29sZWFuOyBjb25maWd1cmVkOiBib29sZWFuIH0ge1xuICAgIHJldHVybiB7XG4gICAgICBhcGlLZXk6ICEhdGhpcy5hcGlLZXksXG4gICAgICB3b3Jrc3BhY2VJZDogISF0aGlzLndvcmtzcGFjZUlkLFxuICAgICAgY29uZmlndXJlZDogdGhpcy5pc0NvbmZpZ3VyZWQoKSxcbiAgICB9O1xuICB9XG5cbiAgLy8gU2V0IHdvcmtzcGFjZSBJRFxuICBzZXRXb3Jrc3BhY2VJZCh3b3Jrc3BhY2VJZDogc3RyaW5nKSB7XG4gICAgdGhpcy53b3Jrc3BhY2VJZCA9IHdvcmtzcGFjZUlkO1xuICB9XG59XG5cbi8vIENyZWF0ZSBzaW5nbGV0b24gaW5zdGFuY2VcbmV4cG9ydCBjb25zdCBjbG9ja2lmeVNlcnZpY2UgPSBuZXcgQ2xvY2tpZnlTZXJ2aWNlKCk7XG5cbi8vIEV4cG9ydCBjb252ZW5pZW5jZSBmdW5jdGlvbnNcbmV4cG9ydCBjb25zdCBmZXRjaENsb2NraWZ5UHJvamVjdHMgPSBhc3luYyAoKSA9PiB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGF3YWl0IGNsb2NraWZ5U2VydmljZS5nZXRQcm9qZWN0cygpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIENsb2NraWZ5IHByb2plY3RzOicsIGVycm9yKTtcbiAgICByZXR1cm4gW107XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBmZXRjaENsb2NraWZ5VGltZUVudHJpZXMgPSBhc3luYyAoXG4gIHByb2plY3RJZDogc3RyaW5nLFxuICBzdGFydERhdGU/OiBzdHJpbmcsXG4gIGVuZERhdGU/OiBzdHJpbmdcbikgPT4ge1xuICB0cnkge1xuICAgIHJldHVybiBhd2FpdCBjbG9ja2lmeVNlcnZpY2UuZ2V0UHJvamVjdFRpbWVFbnRyaWVzKHByb2plY3RJZCwgc3RhcnREYXRlLCBlbmREYXRlKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBDbG9ja2lmeSB0aW1lIGVudHJpZXM6JywgZXJyb3IpO1xuICAgIHJldHVybiBbXTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGZldGNoQ2xvY2tpZnlUaW1lUmVwb3J0ID0gYXN5bmMgKFxuICBwcm9qZWN0SWQ6IHN0cmluZyxcbiAgc3RhcnREYXRlOiBzdHJpbmcsXG4gIGVuZERhdGU6IHN0cmluZ1xuKSA9PiB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGF3YWl0IGNsb2NraWZ5U2VydmljZS5nZXRQcm9qZWN0VGltZVJlcG9ydChwcm9qZWN0SWQsIHN0YXJ0RGF0ZSwgZW5kRGF0ZSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgQ2xvY2tpZnkgdGltZSByZXBvcnQ6JywgZXJyb3IpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZmV0Y2hBbGxDbG9ja2lmeVRpbWVTdW1tYXJpZXMgPSBhc3luYyAoXG4gIHN0YXJ0RGF0ZTogc3RyaW5nLFxuICBlbmREYXRlOiBzdHJpbmdcbikgPT4ge1xuICB0cnkge1xuICAgIHJldHVybiBhd2FpdCBjbG9ja2lmeVNlcnZpY2UuZ2V0QWxsUHJvamVjdHNUaW1lU3VtbWFyeShzdGFydERhdGUsIGVuZERhdGUpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIENsb2NraWZ5IHRpbWUgc3VtbWFyaWVzOicsIGVycm9yKTtcbiAgICByZXR1cm4gW107XG4gIH1cbn07XG4iXSwibmFtZXMiOlsiYXhpb3MiLCJDbG9ja2lmeVNlcnZpY2UiLCJjb25zdHJ1Y3RvciIsImFwaUtleSIsIndvcmtzcGFjZUlkIiwiYmFzZVVybCIsImNvbnNvbGUiLCJsb2ciLCJnZXRIZWFkZXJzIiwibWFrZVJlcXVlc3QiLCJlbmRwb2ludCIsInBhcmFtcyIsInJlc3BvbnNlIiwiZ2V0IiwiaGVhZGVycyIsImRhdGEiLCJlcnJvciIsIm1lc3NhZ2UiLCJFcnJvciIsImdldFVzZXIiLCJnZXRXb3Jrc3BhY2VzIiwiZ2V0UHJvamVjdHMiLCJ3c0lkIiwid29ya3NwYWNlcyIsImxlbmd0aCIsImlkIiwibmFtZSIsImdldFByb2plY3RUaW1lRW50cmllcyIsInByb2plY3RJZCIsInN0YXJ0RGF0ZSIsImVuZERhdGUiLCJnZXRVc2VyVGltZUVudHJpZXMiLCJ1c2VySWQiLCJnZXRBbGxUaW1lRW50cmllcyIsImdldFByb2plY3RUaW1lUmVwb3J0IiwiZW50cmllcyIsInByb2plY3QiLCJnZXRQcm9qZWN0QnlJZCIsInRvdGFsSG91cnMiLCJiaWxsYWJsZUhvdXJzIiwibm9uQmlsbGFibGVIb3VycyIsInRvdGFsQW1vdW50IiwiYmlsbGFibGVBbW91bnQiLCJub25CaWxsYWJsZUFtb3VudCIsImZvckVhY2giLCJlbnRyeSIsImR1cmF0aW9uTXMiLCJwYXJzZUR1cmF0aW9uIiwidGltZUludGVydmFsIiwiZHVyYXRpb24iLCJob3VycyIsImJpbGxhYmxlIiwiY29zdFJhdGUiLCJhbW91bnQiLCJwcm9qZWN0TmFtZSIsInBlcmlvZCIsInN0YXJ0IiwiZW5kIiwiZ2V0UHJvamVjdFRpbWVTdW1tYXJ5IiwicmVwb3J0IiwiZ2V0QWxsUHJvamVjdHNUaW1lU3VtbWFyeSIsInByb2plY3RzIiwic3VtbWFyaWVzIiwic3VtbWFyeSIsInB1c2giLCJyZWdleCIsIm1hdGNoIiwicGFyc2VJbnQiLCJtaW51dGVzIiwic2Vjb25kcyIsImlzQ29uZmlndXJlZCIsImdldENvbmZpZ1N0YXR1cyIsImNvbmZpZ3VyZWQiLCJzZXRXb3Jrc3BhY2VJZCIsImNsb2NraWZ5U2VydmljZSIsImZldGNoQ2xvY2tpZnlQcm9qZWN0cyIsImZldGNoQ2xvY2tpZnlUaW1lRW50cmllcyIsImZldGNoQ2xvY2tpZnlUaW1lUmVwb3J0IiwiZmV0Y2hBbGxDbG9ja2lmeVRpbWVTdW1tYXJpZXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/clockify.ts\n");

/***/ }),

/***/ "(rsc)/./lib/payroll.ts":
/*!************************!*\
  !*** ./lib/payroll.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PayrollService: () => (/* binding */ PayrollService),\n/* harmony export */   addEmployee: () => (/* binding */ addEmployee),\n/* harmony export */   addProjectMultiplier: () => (/* binding */ addProjectMultiplier),\n/* harmony export */   addSalary: () => (/* binding */ addSalary),\n/* harmony export */   configureSurePayroll: () => (/* binding */ configureSurePayroll),\n/* harmony export */   generateEmployeeProfitabilityReport: () => (/* binding */ generateEmployeeProfitabilityReport),\n/* harmony export */   generateProjectProfitabilityReport: () => (/* binding */ generateProjectProfitabilityReport),\n/* harmony export */   importSurePayrollData: () => (/* binding */ importSurePayrollData),\n/* harmony export */   payrollService: () => (/* binding */ payrollService),\n/* harmony export */   processTimeEntries: () => (/* binding */ processTimeEntries)\n/* harmony export */ });\n/* harmony import */ var _surepayroll__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./surepayroll */ \"(rsc)/./lib/surepayroll.ts\");\n\nclass PayrollService {\n    constructor(){\n        this.employees = new Map();\n        this.salaries = new Map();\n        this.multipliers = new Map();\n        console.log(\"Payroll service initialized\");\n    }\n    // Employee Management\n    async addEmployee(employee) {\n        this.employees.set(employee.id, employee);\n        console.log(`Employee added: ${employee.name} (${employee.id})`);\n    }\n    async getEmployee(employeeId) {\n        return this.employees.get(employeeId) || null;\n    }\n    async getAllEmployees() {\n        return Array.from(this.employees.values());\n    }\n    async updateEmployee(employeeId, updates) {\n        const employee = this.employees.get(employeeId);\n        if (employee) {\n            this.employees.set(employeeId, {\n                ...employee,\n                ...updates\n            });\n            console.log(`Employee updated: ${employee.name}`);\n        }\n    }\n    // Salary Management\n    async addSalary(salary) {\n        const employeeSalaries = this.salaries.get(salary.employeeId) || [];\n        // If this is a new current salary, end the previous one\n        if (!salary.endDate) {\n            const currentSalary = employeeSalaries.find((s)=>!s.endDate);\n            if (currentSalary) {\n                currentSalary.endDate = salary.effectiveDate;\n            }\n        }\n        employeeSalaries.push(salary);\n        employeeSalaries.sort((a, b)=>new Date(a.effectiveDate).getTime() - new Date(b.effectiveDate).getTime());\n        this.salaries.set(salary.employeeId, employeeSalaries);\n        console.log(`Salary added for ${salary.employeeId} effective ${salary.effectiveDate}`);\n    }\n    async getEmployeeSalary(employeeId, date) {\n        const employeeSalaries = this.salaries.get(employeeId) || [];\n        const targetDate = new Date(date);\n        return employeeSalaries.find((salary)=>{\n            const effectiveDate = new Date(salary.effectiveDate);\n            const endDate = salary.endDate ? new Date(salary.endDate) : new Date(\"9999-12-31\");\n            return targetDate >= effectiveDate && targetDate <= endDate;\n        }) || null;\n    }\n    async getEmployeeSalaryHistory(employeeId) {\n        return this.salaries.get(employeeId) || [];\n    }\n    // Project Multiplier Management\n    async addProjectMultiplier(multiplier) {\n        const projectMultipliers = this.multipliers.get(multiplier.projectId) || [];\n        // If this is a new current multiplier, end the previous one\n        if (!multiplier.endDate) {\n            const currentMultiplier = projectMultipliers.find((m)=>!m.endDate);\n            if (currentMultiplier) {\n                currentMultiplier.endDate = multiplier.effectiveDate;\n            }\n        }\n        projectMultipliers.push(multiplier);\n        projectMultipliers.sort((a, b)=>new Date(a.effectiveDate).getTime() - new Date(b.effectiveDate).getTime());\n        this.multipliers.set(multiplier.projectId, projectMultipliers);\n        console.log(`Multiplier added for project ${multiplier.projectName} effective ${multiplier.effectiveDate}`);\n    }\n    async getProjectMultiplier(projectId, date) {\n        const projectMultipliers = this.multipliers.get(projectId) || [];\n        const targetDate = new Date(date);\n        return projectMultipliers.find((multiplier)=>{\n            const effectiveDate = new Date(multiplier.effectiveDate);\n            const endDate = multiplier.endDate ? new Date(multiplier.endDate) : new Date(\"9999-12-31\");\n            return targetDate >= effectiveDate && targetDate <= endDate;\n        }) || null;\n    }\n    async getProjectMultiplierHistory(projectId) {\n        return this.multipliers.get(projectId) || [];\n    }\n    // Time Entry Processing with Historical Rates\n    async processTimeEntries(clockifyEntries, clockifyUsers, projects) {\n        const employeeTimeEntries = [];\n        const userMap = new Map(clockifyUsers.map((user)=>[\n                user.id,\n                user\n            ]));\n        for (const entry of clockifyEntries){\n            const user = userMap.get(entry.userId);\n            if (!user) continue;\n            const entryDate = new Date(entry.timeInterval.start).toISOString().split(\"T\")[0];\n            const employee = await this.getEmployee(entry.userId);\n            if (!employee) continue;\n            const salary = await this.getEmployeeSalary(entry.userId, entryDate);\n            if (!salary) continue;\n            const project = projects.find((p)=>p.id === entry.projectId);\n            if (!project) continue;\n            const multiplier = await this.getProjectMultiplier(entry.projectId, entryDate);\n            const projectMultiplier = multiplier?.multiplier || 1.0;\n            const durationMs = this.parseDuration(entry.timeInterval.duration);\n            const hours = durationMs / (1000 * 60 * 60);\n            const billableHours = entry.billable ? hours : 0;\n            const nonBillableHours = entry.billable ? 0 : hours;\n            const totalCost = hours * salary.hourlyRate;\n            const billableValue = billableHours * salary.hourlyRate * projectMultiplier;\n            const efficiency = hours > 0 ? billableHours / hours : 0;\n            employeeTimeEntries.push({\n                employeeId: entry.userId,\n                employeeName: user.name,\n                projectId: entry.projectId,\n                projectName: project.name,\n                date: entryDate,\n                hours,\n                billableHours,\n                nonBillableHours,\n                hourlyRate: salary.hourlyRate,\n                projectMultiplier,\n                totalCost,\n                billableValue,\n                efficiency,\n                description: entry.description,\n                tags: entry.tags.map((tag)=>tag.name)\n            });\n        }\n        return employeeTimeEntries;\n    }\n    // Profitability Analysis\n    async generateProjectProfitabilityReport(projectId, startDate, endDate, employeeTimeEntries, revenue) {\n        const projectEntries = employeeTimeEntries.filter((entry)=>entry.projectId === projectId && entry.date >= startDate && entry.date <= endDate);\n        const totalHours = projectEntries.reduce((sum, entry)=>sum + entry.hours, 0);\n        const totalBillableHours = projectEntries.reduce((sum, entry)=>sum + entry.billableHours, 0);\n        const totalCost = projectEntries.reduce((sum, entry)=>sum + entry.totalCost, 0);\n        const totalBillableValue = projectEntries.reduce((sum, entry)=>sum + entry.billableValue, 0);\n        const grossProfit = revenue - totalCost;\n        const profitMargin = revenue > 0 ? grossProfit / revenue * 100 : 0;\n        const averageMultiplier = totalBillableHours > 0 ? totalBillableValue / (totalBillableHours * projectEntries[0]?.hourlyRate || 1) : 0;\n        // Employee breakdown\n        const employeeBreakdown = new Map();\n        for (const entry of projectEntries){\n            const existing = employeeBreakdown.get(entry.employeeId);\n            if (existing) {\n                existing.hours += entry.hours;\n                existing.cost += entry.totalCost;\n                existing.billableValue += entry.billableValue;\n                existing.efficiency = existing.hours > 0 ? existing.billableValue / (existing.hours * entry.hourlyRate) : 0;\n            } else {\n                employeeBreakdown.set(entry.employeeId, {\n                    employeeId: entry.employeeId,\n                    employeeName: entry.employeeName,\n                    hours: entry.hours,\n                    cost: entry.totalCost,\n                    billableValue: entry.billableValue,\n                    efficiency: entry.efficiency\n                });\n            }\n        }\n        // Monthly breakdown\n        const monthlyBreakdown = new Map();\n        for (const entry of projectEntries){\n            const month = entry.date.substring(0, 7); // YYYY-MM\n            const existing = monthlyBreakdown.get(month);\n            if (existing) {\n                existing.hours += entry.hours;\n                existing.cost += entry.totalCost;\n            } else {\n                monthlyBreakdown.set(month, {\n                    month,\n                    hours: entry.hours,\n                    cost: entry.totalCost,\n                    revenue: 0,\n                    profit: 0\n                });\n            }\n        }\n        return {\n            projectId,\n            projectName: projectEntries[0]?.projectName || \"Unknown Project\",\n            period: {\n                start: startDate,\n                end: endDate\n            },\n            totalHours,\n            totalBillableHours,\n            totalCost,\n            totalRevenue: revenue,\n            grossProfit,\n            profitMargin,\n            averageMultiplier,\n            employeeBreakdown: Array.from(employeeBreakdown.values()),\n            monthlyBreakdown: Array.from(monthlyBreakdown.values())\n        };\n    }\n    async generateEmployeeProfitabilityReport(employeeId, startDate, endDate, employeeTimeEntries) {\n        const employeeEntries = employeeTimeEntries.filter((entry)=>entry.employeeId === employeeId && entry.date >= startDate && entry.date <= endDate);\n        const totalHours = employeeEntries.reduce((sum, entry)=>sum + entry.hours, 0);\n        const totalBillableHours = employeeEntries.reduce((sum, entry)=>sum + entry.billableHours, 0);\n        const totalCost = employeeEntries.reduce((sum, entry)=>sum + entry.totalCost, 0);\n        const totalBillableValue = employeeEntries.reduce((sum, entry)=>sum + entry.billableValue, 0);\n        const efficiency = totalHours > 0 ? totalBillableHours / totalHours : 0;\n        const averageHourlyRate = totalHours > 0 ? totalCost / totalHours : 0;\n        // Project breakdown\n        const projectBreakdown = new Map();\n        for (const entry of employeeEntries){\n            const existing = projectBreakdown.get(entry.projectId);\n            if (existing) {\n                existing.hours += entry.hours;\n                existing.cost += entry.totalCost;\n                existing.billableValue += entry.billableValue;\n                existing.efficiency = existing.hours > 0 ? existing.billableValue / (existing.hours * entry.hourlyRate) : 0;\n            } else {\n                projectBreakdown.set(entry.projectId, {\n                    projectId: entry.projectId,\n                    projectName: entry.projectName,\n                    hours: entry.hours,\n                    cost: entry.totalCost,\n                    billableValue: entry.billableValue,\n                    efficiency: entry.efficiency\n                });\n            }\n        }\n        return {\n            employeeId,\n            employeeName: employeeEntries[0]?.employeeName || \"Unknown Employee\",\n            period: {\n                start: startDate,\n                end: endDate\n            },\n            totalHours,\n            totalBillableHours,\n            totalCost,\n            totalBillableValue,\n            efficiency,\n            averageHourlyRate,\n            projectBreakdown: Array.from(projectBreakdown.values())\n        };\n    }\n    // Payroll System Integration\n    async configurePayrollSystem(system) {\n        this.payrollSystem = system;\n        console.log(`Payroll system configured: ${system.name}`);\n    }\n    // SurePayroll Integration\n    async configureSurePayroll(config) {\n        this.surepayrollConfig = config;\n        (0,_surepayroll__WEBPACK_IMPORTED_MODULE_0__.configureSurePayroll)(config);\n        console.log(`SurePayroll configured for client ID: ${config.clientId}`);\n    }\n    async importSalariesFromSurePayroll() {\n        if (!this.surepayrollConfig) {\n            throw new Error(\"SurePayroll not configured\");\n        }\n        try {\n            // Import employees from SurePayroll\n            const surepayrollEmployees = await (0,_surepayroll__WEBPACK_IMPORTED_MODULE_0__.importSurePayrollEmployees)();\n            for (const employee of surepayrollEmployees){\n                await this.addEmployee(employee);\n            }\n            // Import salaries from SurePayroll\n            const surepayrollSalaries = await (0,_surepayroll__WEBPACK_IMPORTED_MODULE_0__.importSurePayrollSalaries)();\n            for (const salary of surepayrollSalaries){\n                await this.addSalary(salary);\n            }\n            return {\n                source: \"surepayroll\",\n                importDate: new Date().toISOString(),\n                recordsImported: surepayrollEmployees.length + surepayrollSalaries.length,\n                errors: []\n            };\n        } catch (error) {\n            return {\n                source: \"surepayroll\",\n                importDate: new Date().toISOString(),\n                recordsImported: 0,\n                errors: [\n                    error.message\n                ]\n            };\n        }\n    }\n    async importSalariesFromPayrollSystem() {\n        if (!this.payrollSystem) {\n            throw new Error(\"No payroll system configured\");\n        }\n        if (this.payrollSystem.type === \"surepayroll\" && this.surepayrollConfig) {\n            return await this.importSalariesFromSurePayroll();\n        }\n        // This would integrate with other payroll system APIs\n        // For now, return a mock import\n        return {\n            source: \"api\",\n            importDate: new Date().toISOString(),\n            recordsImported: 0,\n            errors: [\n                `${this.payrollSystem.type} integration not yet implemented`\n            ]\n        };\n    }\n    // Utility Methods\n    parseDuration(duration) {\n        const regex = /PT(?:(\\d+)H)?(?:(\\d+)M)?(?:(\\d+)S)?/;\n        const match = duration.match(regex);\n        if (!match) return 0;\n        const hours = parseInt(match[1] || \"0\");\n        const minutes = parseInt(match[2] || \"0\");\n        const seconds = parseInt(match[3] || \"0\");\n        return (hours * 3600 + minutes * 60 + seconds) * 1000;\n    }\n    calculateHourlyRate(annualSalary, workHoursPerYear = 2080) {\n        return annualSalary / workHoursPerYear;\n    }\n    // Data Export/Import\n    async exportData() {\n        return {\n            employees: Array.from(this.employees.values()),\n            salaries: Array.from(this.salaries.entries()),\n            multipliers: Array.from(this.multipliers.entries()),\n            payrollSystem: this.payrollSystem,\n            surepayrollConfig: this.surepayrollConfig\n        };\n    }\n    async importData(data) {\n        this.employees = new Map(data.employees.map((emp)=>[\n                emp.id,\n                emp\n            ]));\n        this.salaries = new Map(data.salaries);\n        this.multipliers = new Map(data.multipliers);\n        this.payrollSystem = data.payrollSystem;\n        this.surepayrollConfig = data.surepayrollConfig;\n        if (this.surepayrollConfig) {\n            (0,_surepayroll__WEBPACK_IMPORTED_MODULE_0__.configureSurePayroll)(this.surepayrollConfig);\n        }\n        console.log(\"Payroll data imported successfully\");\n    }\n}\n// Create singleton instance\nconst payrollService = new PayrollService();\n// Export convenience functions\nconst addEmployee = async (employee)=>{\n    await payrollService.addEmployee(employee);\n};\nconst addSalary = async (salary)=>{\n    await payrollService.addSalary(salary);\n};\nconst addProjectMultiplier = async (multiplier)=>{\n    await payrollService.addProjectMultiplier(multiplier);\n};\nconst processTimeEntries = async (clockifyEntries, clockifyUsers, projects)=>{\n    return await payrollService.processTimeEntries(clockifyEntries, clockifyUsers, projects);\n};\nconst generateProjectProfitabilityReport = async (projectId, startDate, endDate, employeeTimeEntries, revenue)=>{\n    return await payrollService.generateProjectProfitabilityReport(projectId, startDate, endDate, employeeTimeEntries, revenue);\n};\nconst generateEmployeeProfitabilityReport = async (employeeId, startDate, endDate, employeeTimeEntries)=>{\n    return await payrollService.generateEmployeeProfitabilityReport(employeeId, startDate, endDate, employeeTimeEntries);\n};\n// SurePayroll specific functions\nconst configureSurePayroll = async (config)=>{\n    await payrollService.configureSurePayroll(config);\n};\nconst importSurePayrollData = async ()=>{\n    return await payrollService.importSalariesFromSurePayroll();\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Qiw2QkFBNkI7QUFDM0QsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL3pvaG8tYmlsbGluZy1wbGF0Zm9ybS8uL2xpYi9wYXlyb2xsLnRzP2I3MmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgXG4gIEVtcGxveWVlLCBcbiAgRW1wbG95ZWVTYWxhcnksIFxuICBQcm9qZWN0TXVsdGlwbGllciwgXG4gIEVtcGxveWVlVGltZUVudHJ5LCBcbiAgUHJvamVjdFByb2ZpdGFiaWxpdHlSZXBvcnQsXG4gIEVtcGxveWVlUHJvZml0YWJpbGl0eVJlcG9ydCxcbiAgUGF5cm9sbFN5c3RlbSxcbiAgU2FsYXJ5SW1wb3J0LFxuICBTdXJlUGF5cm9sbENvbmZpZ1xufSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IENsb2NraWZ5VGltZUVudHJ5LCBDbG9ja2lmeVVzZXIgfSBmcm9tICcuL2Nsb2NraWZ5JztcbmltcG9ydCB7IGNvbmZpZ3VyZVN1cmVQYXlyb2xsIGFzIF9jb25maWd1cmVTdXJlUGF5cm9sbFNlcnZpY2UsIGdldFN1cmVQYXlyb2xsU2VydmljZSwgaW1wb3J0U3VyZVBheXJvbGxFbXBsb3llZXMsIGltcG9ydFN1cmVQYXlyb2xsU2FsYXJpZXMgfSBmcm9tICcuL3N1cmVwYXlyb2xsJztcblxuZXhwb3J0IGNsYXNzIFBheXJvbGxTZXJ2aWNlIHtcbiAgcHJpdmF0ZSBlbXBsb3llZXM6IE1hcDxzdHJpbmcsIEVtcGxveWVlPiA9IG5ldyBNYXAoKTtcbiAgcHJpdmF0ZSBzYWxhcmllczogTWFwPHN0cmluZywgRW1wbG95ZWVTYWxhcnlbXT4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgbXVsdGlwbGllcnM6IE1hcDxzdHJpbmcsIFByb2plY3RNdWx0aXBsaWVyW10+ID0gbmV3IE1hcCgpO1xuICBwcml2YXRlIHBheXJvbGxTeXN0ZW0/OiBQYXlyb2xsU3lzdGVtO1xuICBwcml2YXRlIHN1cmVwYXlyb2xsQ29uZmlnPzogU3VyZVBheXJvbGxDb25maWc7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgY29uc29sZS5sb2coJ1BheXJvbGwgc2VydmljZSBpbml0aWFsaXplZCcpO1xuICB9XG5cbiAgLy8gRW1wbG95ZWUgTWFuYWdlbWVudFxuICBhc3luYyBhZGRFbXBsb3llZShlbXBsb3llZTogRW1wbG95ZWUpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aGlzLmVtcGxveWVlcy5zZXQoZW1wbG95ZWUuaWQsIGVtcGxveWVlKTtcbiAgICBjb25zb2xlLmxvZyhgRW1wbG95ZWUgYWRkZWQ6ICR7ZW1wbG95ZWUubmFtZX0gKCR7ZW1wbG95ZWUuaWR9KWApO1xuICB9XG5cbiAgYXN5bmMgZ2V0RW1wbG95ZWUoZW1wbG95ZWVJZDogc3RyaW5nKTogUHJvbWlzZTxFbXBsb3llZSB8IG51bGw+IHtcbiAgICByZXR1cm4gdGhpcy5lbXBsb3llZXMuZ2V0KGVtcGxveWVlSWQpIHx8IG51bGw7XG4gIH1cblxuICBhc3luYyBnZXRBbGxFbXBsb3llZXMoKTogUHJvbWlzZTxFbXBsb3llZVtdPiB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5lbXBsb3llZXMudmFsdWVzKCkpO1xuICB9XG5cbiAgYXN5bmMgdXBkYXRlRW1wbG95ZWUoZW1wbG95ZWVJZDogc3RyaW5nLCB1cGRhdGVzOiBQYXJ0aWFsPEVtcGxveWVlPik6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGVtcGxveWVlID0gdGhpcy5lbXBsb3llZXMuZ2V0KGVtcGxveWVlSWQpO1xuICAgIGlmIChlbXBsb3llZSkge1xuICAgICAgdGhpcy5lbXBsb3llZXMuc2V0KGVtcGxveWVlSWQsIHsgLi4uZW1wbG95ZWUsIC4uLnVwZGF0ZXMgfSk7XG4gICAgICBjb25zb2xlLmxvZyhgRW1wbG95ZWUgdXBkYXRlZDogJHtlbXBsb3llZS5uYW1lfWApO1xuICAgIH1cbiAgfVxuXG4gIC8vIFNhbGFyeSBNYW5hZ2VtZW50XG4gIGFzeW5jIGFkZFNhbGFyeShzYWxhcnk6IEVtcGxveWVlU2FsYXJ5KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgZW1wbG95ZWVTYWxhcmllcyA9IHRoaXMuc2FsYXJpZXMuZ2V0KHNhbGFyeS5lbXBsb3llZUlkKSB8fCBbXTtcbiAgICBcbiAgICAvLyBJZiB0aGlzIGlzIGEgbmV3IGN1cnJlbnQgc2FsYXJ5LCBlbmQgdGhlIHByZXZpb3VzIG9uZVxuICAgIGlmICghc2FsYXJ5LmVuZERhdGUpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRTYWxhcnkgPSBlbXBsb3llZVNhbGFyaWVzLmZpbmQocyA9PiAhcy5lbmREYXRlKTtcbiAgICAgIGlmIChjdXJyZW50U2FsYXJ5KSB7XG4gICAgICAgIGN1cnJlbnRTYWxhcnkuZW5kRGF0ZSA9IHNhbGFyeS5lZmZlY3RpdmVEYXRlO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBlbXBsb3llZVNhbGFyaWVzLnB1c2goc2FsYXJ5KTtcbiAgICBlbXBsb3llZVNhbGFyaWVzLnNvcnQoKGEsIGIpID0+IG5ldyBEYXRlKGEuZWZmZWN0aXZlRGF0ZSkuZ2V0VGltZSgpIC0gbmV3IERhdGUoYi5lZmZlY3RpdmVEYXRlKS5nZXRUaW1lKCkpO1xuICAgIFxuICAgIHRoaXMuc2FsYXJpZXMuc2V0KHNhbGFyeS5lbXBsb3llZUlkLCBlbXBsb3llZVNhbGFyaWVzKTtcbiAgICBjb25zb2xlLmxvZyhgU2FsYXJ5IGFkZGVkIGZvciAke3NhbGFyeS5lbXBsb3llZUlkfSBlZmZlY3RpdmUgJHtzYWxhcnkuZWZmZWN0aXZlRGF0ZX1gKTtcbiAgfVxuXG4gIGFzeW5jIGdldEVtcGxveWVlU2FsYXJ5KGVtcGxveWVlSWQ6IHN0cmluZywgZGF0ZTogc3RyaW5nKTogUHJvbWlzZTxFbXBsb3llZVNhbGFyeSB8IG51bGw+IHtcbiAgICBjb25zdCBlbXBsb3llZVNhbGFyaWVzID0gdGhpcy5zYWxhcmllcy5nZXQoZW1wbG95ZWVJZCkgfHwgW107XG4gICAgY29uc3QgdGFyZ2V0RGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xuICAgIFxuICAgIHJldHVybiBlbXBsb3llZVNhbGFyaWVzLmZpbmQoc2FsYXJ5ID0+IHtcbiAgICAgIGNvbnN0IGVmZmVjdGl2ZURhdGUgPSBuZXcgRGF0ZShzYWxhcnkuZWZmZWN0aXZlRGF0ZSk7XG4gICAgICBjb25zdCBlbmREYXRlID0gc2FsYXJ5LmVuZERhdGUgPyBuZXcgRGF0ZShzYWxhcnkuZW5kRGF0ZSkgOiBuZXcgRGF0ZSgnOTk5OS0xMi0zMScpO1xuICAgICAgcmV0dXJuIHRhcmdldERhdGUgPj0gZWZmZWN0aXZlRGF0ZSAmJiB0YXJnZXREYXRlIDw9IGVuZERhdGU7XG4gICAgfSkgfHwgbnVsbDtcbiAgfVxuXG4gIGFzeW5jIGdldEVtcGxveWVlU2FsYXJ5SGlzdG9yeShlbXBsb3llZUlkOiBzdHJpbmcpOiBQcm9taXNlPEVtcGxveWVlU2FsYXJ5W10+IHtcbiAgICByZXR1cm4gdGhpcy5zYWxhcmllcy5nZXQoZW1wbG95ZWVJZCkgfHwgW107XG4gIH1cblxuICAvLyBQcm9qZWN0IE11bHRpcGxpZXIgTWFuYWdlbWVudFxuICBhc3luYyBhZGRQcm9qZWN0TXVsdGlwbGllcihtdWx0aXBsaWVyOiBQcm9qZWN0TXVsdGlwbGllcik6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHByb2plY3RNdWx0aXBsaWVycyA9IHRoaXMubXVsdGlwbGllcnMuZ2V0KG11bHRpcGxpZXIucHJvamVjdElkKSB8fCBbXTtcbiAgICBcbiAgICAvLyBJZiB0aGlzIGlzIGEgbmV3IGN1cnJlbnQgbXVsdGlwbGllciwgZW5kIHRoZSBwcmV2aW91cyBvbmVcbiAgICBpZiAoIW11bHRpcGxpZXIuZW5kRGF0ZSkge1xuICAgICAgY29uc3QgY3VycmVudE11bHRpcGxpZXIgPSBwcm9qZWN0TXVsdGlwbGllcnMuZmluZChtID0+ICFtLmVuZERhdGUpO1xuICAgICAgaWYgKGN1cnJlbnRNdWx0aXBsaWVyKSB7XG4gICAgICAgIGN1cnJlbnRNdWx0aXBsaWVyLmVuZERhdGUgPSBtdWx0aXBsaWVyLmVmZmVjdGl2ZURhdGU7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHByb2plY3RNdWx0aXBsaWVycy5wdXNoKG11bHRpcGxpZXIpO1xuICAgIHByb2plY3RNdWx0aXBsaWVycy5zb3J0KChhLCBiKSA9PiBuZXcgRGF0ZShhLmVmZmVjdGl2ZURhdGUpLmdldFRpbWUoKSAtIG5ldyBEYXRlKGIuZWZmZWN0aXZlRGF0ZSkuZ2V0VGltZSgpKTtcbiAgICBcbiAgICB0aGlzLm11bHRpcGxpZXJzLnNldChtdWx0aXBsaWVyLnByb2plY3RJZCwgcHJvamVjdE11bHRpcGxpZXJzKTtcbiAgICBjb25zb2xlLmxvZyhgTXVsdGlwbGllciBhZGRlZCBmb3IgcHJvamVjdCAke211bHRpcGxpZXIucHJvamVjdE5hbWV9IGVmZmVjdGl2ZSAke211bHRpcGxpZXIuZWZmZWN0aXZlRGF0ZX1gKTtcbiAgfVxuXG4gIGFzeW5jIGdldFByb2plY3RNdWx0aXBsaWVyKHByb2plY3RJZDogc3RyaW5nLCBkYXRlOiBzdHJpbmcpOiBQcm9taXNlPFByb2plY3RNdWx0aXBsaWVyIHwgbnVsbD4ge1xuICAgIGNvbnN0IHByb2plY3RNdWx0aXBsaWVycyA9IHRoaXMubXVsdGlwbGllcnMuZ2V0KHByb2plY3RJZCkgfHwgW107XG4gICAgY29uc3QgdGFyZ2V0RGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xuICAgIFxuICAgIHJldHVybiBwcm9qZWN0TXVsdGlwbGllcnMuZmluZChtdWx0aXBsaWVyID0+IHtcbiAgICAgIGNvbnN0IGVmZmVjdGl2ZURhdGUgPSBuZXcgRGF0ZShtdWx0aXBsaWVyLmVmZmVjdGl2ZURhdGUpO1xuICAgICAgY29uc3QgZW5kRGF0ZSA9IG11bHRpcGxpZXIuZW5kRGF0ZSA/IG5ldyBEYXRlKG11bHRpcGxpZXIuZW5kRGF0ZSkgOiBuZXcgRGF0ZSgnOTk5OS0xMi0zMScpO1xuICAgICAgcmV0dXJuIHRhcmdldERhdGUgPj0gZWZmZWN0aXZlRGF0ZSAmJiB0YXJnZXREYXRlIDw9IGVuZERhdGU7XG4gICAgfSkgfHwgbnVsbDtcbiAgfVxuXG4gIGFzeW5jIGdldFByb2plY3RNdWx0aXBsaWVySGlzdG9yeShwcm9qZWN0SWQ6IHN0cmluZyk6IFByb21pc2U8UHJvamVjdE11bHRpcGxpZXJbXT4ge1xuICAgIHJldHVybiB0aGlzLm11bHRpcGxpZXJzLmdldChwcm9qZWN0SWQpIHx8IFtdO1xuICB9XG5cbiAgLy8gVGltZSBFbnRyeSBQcm9jZXNzaW5nIHdpdGggSGlzdG9yaWNhbCBSYXRlc1xuICBhc3luYyBwcm9jZXNzVGltZUVudHJpZXMoXG4gICAgY2xvY2tpZnlFbnRyaWVzOiBDbG9ja2lmeVRpbWVFbnRyeVtdLFxuICAgIGNsb2NraWZ5VXNlcnM6IENsb2NraWZ5VXNlcltdLFxuICAgIHByb2plY3RzOiBhbnlbXVxuICApOiBQcm9taXNlPEVtcGxveWVlVGltZUVudHJ5W10+IHtcbiAgICBjb25zdCBlbXBsb3llZVRpbWVFbnRyaWVzOiBFbXBsb3llZVRpbWVFbnRyeVtdID0gW107XG4gICAgY29uc3QgdXNlck1hcCA9IG5ldyBNYXAoY2xvY2tpZnlVc2Vycy5tYXAodXNlciA9PiBbdXNlci5pZCwgdXNlcl0pKTtcblxuICAgIGZvciAoY29uc3QgZW50cnkgb2YgY2xvY2tpZnlFbnRyaWVzKSB7XG4gICAgICBjb25zdCB1c2VyID0gdXNlck1hcC5nZXQoZW50cnkudXNlcklkKTtcbiAgICAgIGlmICghdXNlcikgY29udGludWU7XG5cbiAgICAgIGNvbnN0IGVudHJ5RGF0ZSA9IG5ldyBEYXRlKGVudHJ5LnRpbWVJbnRlcnZhbC5zdGFydCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdO1xuICAgICAgY29uc3QgZW1wbG95ZWUgPSBhd2FpdCB0aGlzLmdldEVtcGxveWVlKGVudHJ5LnVzZXJJZCk7XG4gICAgICBpZiAoIWVtcGxveWVlKSBjb250aW51ZTtcblxuICAgICAgY29uc3Qgc2FsYXJ5ID0gYXdhaXQgdGhpcy5nZXRFbXBsb3llZVNhbGFyeShlbnRyeS51c2VySWQsIGVudHJ5RGF0ZSk7XG4gICAgICBpZiAoIXNhbGFyeSkgY29udGludWU7XG5cbiAgICAgIGNvbnN0IHByb2plY3QgPSBwcm9qZWN0cy5maW5kKHAgPT4gcC5pZCA9PT0gZW50cnkucHJvamVjdElkKTtcbiAgICAgIGlmICghcHJvamVjdCkgY29udGludWU7XG5cbiAgICAgIGNvbnN0IG11bHRpcGxpZXIgPSBhd2FpdCB0aGlzLmdldFByb2plY3RNdWx0aXBsaWVyKGVudHJ5LnByb2plY3RJZCwgZW50cnlEYXRlKTtcbiAgICAgIGNvbnN0IHByb2plY3RNdWx0aXBsaWVyID0gbXVsdGlwbGllcj8ubXVsdGlwbGllciB8fCAxLjA7XG5cbiAgICAgIGNvbnN0IGR1cmF0aW9uTXMgPSB0aGlzLnBhcnNlRHVyYXRpb24oZW50cnkudGltZUludGVydmFsLmR1cmF0aW9uKTtcbiAgICAgIGNvbnN0IGhvdXJzID0gZHVyYXRpb25NcyAvICgxMDAwICogNjAgKiA2MCk7XG4gICAgICBjb25zdCBiaWxsYWJsZUhvdXJzID0gZW50cnkuYmlsbGFibGUgPyBob3VycyA6IDA7XG4gICAgICBjb25zdCBub25CaWxsYWJsZUhvdXJzID0gZW50cnkuYmlsbGFibGUgPyAwIDogaG91cnM7XG5cbiAgICAgIGNvbnN0IHRvdGFsQ29zdCA9IGhvdXJzICogc2FsYXJ5LmhvdXJseVJhdGU7XG4gICAgICBjb25zdCBiaWxsYWJsZVZhbHVlID0gYmlsbGFibGVIb3VycyAqIHNhbGFyeS5ob3VybHlSYXRlICogcHJvamVjdE11bHRpcGxpZXI7XG4gICAgICBjb25zdCBlZmZpY2llbmN5ID0gaG91cnMgPiAwID8gYmlsbGFibGVIb3VycyAvIGhvdXJzIDogMDtcblxuICAgICAgZW1wbG95ZWVUaW1lRW50cmllcy5wdXNoKHtcbiAgICAgICAgZW1wbG95ZWVJZDogZW50cnkudXNlcklkLFxuICAgICAgICBlbXBsb3llZU5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgcHJvamVjdElkOiBlbnRyeS5wcm9qZWN0SWQsXG4gICAgICAgIHByb2plY3ROYW1lOiBwcm9qZWN0Lm5hbWUsXG4gICAgICAgIGRhdGU6IGVudHJ5RGF0ZSxcbiAgICAgICAgaG91cnMsXG4gICAgICAgIGJpbGxhYmxlSG91cnMsXG4gICAgICAgIG5vbkJpbGxhYmxlSG91cnMsXG4gICAgICAgIGhvdXJseVJhdGU6IHNhbGFyeS5ob3VybHlSYXRlLFxuICAgICAgICBwcm9qZWN0TXVsdGlwbGllcixcbiAgICAgICAgdG90YWxDb3N0LFxuICAgICAgICBiaWxsYWJsZVZhbHVlLFxuICAgICAgICBlZmZpY2llbmN5LFxuICAgICAgICBkZXNjcmlwdGlvbjogZW50cnkuZGVzY3JpcHRpb24sXG4gICAgICAgIHRhZ3M6IGVudHJ5LnRhZ3MubWFwKHRhZyA9PiB0YWcubmFtZSlcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBlbXBsb3llZVRpbWVFbnRyaWVzO1xuICB9XG5cbiAgLy8gUHJvZml0YWJpbGl0eSBBbmFseXNpc1xuICBhc3luYyBnZW5lcmF0ZVByb2plY3RQcm9maXRhYmlsaXR5UmVwb3J0KFxuICAgIHByb2plY3RJZDogc3RyaW5nLFxuICAgIHN0YXJ0RGF0ZTogc3RyaW5nLFxuICAgIGVuZERhdGU6IHN0cmluZyxcbiAgICBlbXBsb3llZVRpbWVFbnRyaWVzOiBFbXBsb3llZVRpbWVFbnRyeVtdLFxuICAgIHJldmVudWU6IG51bWJlclxuICApOiBQcm9taXNlPFByb2plY3RQcm9maXRhYmlsaXR5UmVwb3J0PiB7XG4gICAgY29uc3QgcHJvamVjdEVudHJpZXMgPSBlbXBsb3llZVRpbWVFbnRyaWVzLmZpbHRlcihlbnRyeSA9PiBcbiAgICAgIGVudHJ5LnByb2plY3RJZCA9PT0gcHJvamVjdElkICYmXG4gICAgICBlbnRyeS5kYXRlID49IHN0YXJ0RGF0ZSAmJlxuICAgICAgZW50cnkuZGF0ZSA8PSBlbmREYXRlXG4gICAgKTtcblxuICAgIGNvbnN0IHRvdGFsSG91cnMgPSBwcm9qZWN0RW50cmllcy5yZWR1Y2UoKHN1bSwgZW50cnkpID0+IHN1bSArIGVudHJ5LmhvdXJzLCAwKTtcbiAgICBjb25zdCB0b3RhbEJpbGxhYmxlSG91cnMgPSBwcm9qZWN0RW50cmllcy5yZWR1Y2UoKHN1bSwgZW50cnkpID0+IHN1bSArIGVudHJ5LmJpbGxhYmxlSG91cnMsIDApO1xuICAgIGNvbnN0IHRvdGFsQ29zdCA9IHByb2plY3RFbnRyaWVzLnJlZHVjZSgoc3VtLCBlbnRyeSkgPT4gc3VtICsgZW50cnkudG90YWxDb3N0LCAwKTtcbiAgICBjb25zdCB0b3RhbEJpbGxhYmxlVmFsdWUgPSBwcm9qZWN0RW50cmllcy5yZWR1Y2UoKHN1bSwgZW50cnkpID0+IHN1bSArIGVudHJ5LmJpbGxhYmxlVmFsdWUsIDApO1xuXG4gICAgY29uc3QgZ3Jvc3NQcm9maXQgPSByZXZlbnVlIC0gdG90YWxDb3N0O1xuICAgIGNvbnN0IHByb2ZpdE1hcmdpbiA9IHJldmVudWUgPiAwID8gKGdyb3NzUHJvZml0IC8gcmV2ZW51ZSkgKiAxMDAgOiAwO1xuICAgIGNvbnN0IGF2ZXJhZ2VNdWx0aXBsaWVyID0gdG90YWxCaWxsYWJsZUhvdXJzID4gMCA/IHRvdGFsQmlsbGFibGVWYWx1ZSAvICh0b3RhbEJpbGxhYmxlSG91cnMgKiBwcm9qZWN0RW50cmllc1swXT8uaG91cmx5UmF0ZSB8fCAxKSA6IDA7XG5cbiAgICAvLyBFbXBsb3llZSBicmVha2Rvd25cbiAgICBjb25zdCBlbXBsb3llZUJyZWFrZG93biA9IG5ldyBNYXA8c3RyaW5nLCBhbnk+KCk7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBwcm9qZWN0RW50cmllcykge1xuICAgICAgY29uc3QgZXhpc3RpbmcgPSBlbXBsb3llZUJyZWFrZG93bi5nZXQoZW50cnkuZW1wbG95ZWVJZCk7XG4gICAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgICAgZXhpc3RpbmcuaG91cnMgKz0gZW50cnkuaG91cnM7XG4gICAgICAgIGV4aXN0aW5nLmNvc3QgKz0gZW50cnkudG90YWxDb3N0O1xuICAgICAgICBleGlzdGluZy5iaWxsYWJsZVZhbHVlICs9IGVudHJ5LmJpbGxhYmxlVmFsdWU7XG4gICAgICAgIGV4aXN0aW5nLmVmZmljaWVuY3kgPSBleGlzdGluZy5ob3VycyA+IDAgPyBleGlzdGluZy5iaWxsYWJsZVZhbHVlIC8gKGV4aXN0aW5nLmhvdXJzICogZW50cnkuaG91cmx5UmF0ZSkgOiAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZW1wbG95ZWVCcmVha2Rvd24uc2V0KGVudHJ5LmVtcGxveWVlSWQsIHtcbiAgICAgICAgICBlbXBsb3llZUlkOiBlbnRyeS5lbXBsb3llZUlkLFxuICAgICAgICAgIGVtcGxveWVlTmFtZTogZW50cnkuZW1wbG95ZWVOYW1lLFxuICAgICAgICAgIGhvdXJzOiBlbnRyeS5ob3VycyxcbiAgICAgICAgICBjb3N0OiBlbnRyeS50b3RhbENvc3QsXG4gICAgICAgICAgYmlsbGFibGVWYWx1ZTogZW50cnkuYmlsbGFibGVWYWx1ZSxcbiAgICAgICAgICBlZmZpY2llbmN5OiBlbnRyeS5lZmZpY2llbmN5XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE1vbnRobHkgYnJlYWtkb3duXG4gICAgY29uc3QgbW9udGhseUJyZWFrZG93biA9IG5ldyBNYXA8c3RyaW5nLCBhbnk+KCk7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBwcm9qZWN0RW50cmllcykge1xuICAgICAgY29uc3QgbW9udGggPSBlbnRyeS5kYXRlLnN1YnN0cmluZygwLCA3KTsgLy8gWVlZWS1NTVxuICAgICAgY29uc3QgZXhpc3RpbmcgPSBtb250aGx5QnJlYWtkb3duLmdldChtb250aCk7XG4gICAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgICAgZXhpc3RpbmcuaG91cnMgKz0gZW50cnkuaG91cnM7XG4gICAgICAgIGV4aXN0aW5nLmNvc3QgKz0gZW50cnkudG90YWxDb3N0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbW9udGhseUJyZWFrZG93bi5zZXQobW9udGgsIHtcbiAgICAgICAgICBtb250aCxcbiAgICAgICAgICBob3VyczogZW50cnkuaG91cnMsXG4gICAgICAgICAgY29zdDogZW50cnkudG90YWxDb3N0LFxuICAgICAgICAgIHJldmVudWU6IDAsIC8vIFRoaXMgd291bGQgbmVlZCB0byBiZSBjYWxjdWxhdGVkIGZyb20gYmlsbGluZyBkYXRhXG4gICAgICAgICAgcHJvZml0OiAwXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBwcm9qZWN0SWQsXG4gICAgICBwcm9qZWN0TmFtZTogcHJvamVjdEVudHJpZXNbMF0/LnByb2plY3ROYW1lIHx8ICdVbmtub3duIFByb2plY3QnLFxuICAgICAgcGVyaW9kOiB7IHN0YXJ0OiBzdGFydERhdGUsIGVuZDogZW5kRGF0ZSB9LFxuICAgICAgdG90YWxIb3VycyxcbiAgICAgIHRvdGFsQmlsbGFibGVIb3VycyxcbiAgICAgIHRvdGFsQ29zdCxcbiAgICAgIHRvdGFsUmV2ZW51ZTogcmV2ZW51ZSxcbiAgICAgIGdyb3NzUHJvZml0LFxuICAgICAgcHJvZml0TWFyZ2luLFxuICAgICAgYXZlcmFnZU11bHRpcGxpZXIsXG4gICAgICBlbXBsb3llZUJyZWFrZG93bjogQXJyYXkuZnJvbShlbXBsb3llZUJyZWFrZG93bi52YWx1ZXMoKSksXG4gICAgICBtb250aGx5QnJlYWtkb3duOiBBcnJheS5mcm9tKG1vbnRobHlCcmVha2Rvd24udmFsdWVzKCkpXG4gICAgfTtcbiAgfVxuXG4gIGFzeW5jIGdlbmVyYXRlRW1wbG95ZWVQcm9maXRhYmlsaXR5UmVwb3J0KFxuICAgIGVtcGxveWVlSWQ6IHN0cmluZyxcbiAgICBzdGFydERhdGU6IHN0cmluZyxcbiAgICBlbmREYXRlOiBzdHJpbmcsXG4gICAgZW1wbG95ZWVUaW1lRW50cmllczogRW1wbG95ZWVUaW1lRW50cnlbXVxuICApOiBQcm9taXNlPEVtcGxveWVlUHJvZml0YWJpbGl0eVJlcG9ydD4ge1xuICAgIGNvbnN0IGVtcGxveWVlRW50cmllcyA9IGVtcGxveWVlVGltZUVudHJpZXMuZmlsdGVyKGVudHJ5ID0+IFxuICAgICAgZW50cnkuZW1wbG95ZWVJZCA9PT0gZW1wbG95ZWVJZCAmJlxuICAgICAgZW50cnkuZGF0ZSA+PSBzdGFydERhdGUgJiZcbiAgICAgIGVudHJ5LmRhdGUgPD0gZW5kRGF0ZVxuICAgICk7XG5cbiAgICBjb25zdCB0b3RhbEhvdXJzID0gZW1wbG95ZWVFbnRyaWVzLnJlZHVjZSgoc3VtLCBlbnRyeSkgPT4gc3VtICsgZW50cnkuaG91cnMsIDApO1xuICAgIGNvbnN0IHRvdGFsQmlsbGFibGVIb3VycyA9IGVtcGxveWVlRW50cmllcy5yZWR1Y2UoKHN1bSwgZW50cnkpID0+IHN1bSArIGVudHJ5LmJpbGxhYmxlSG91cnMsIDApO1xuICAgIGNvbnN0IHRvdGFsQ29zdCA9IGVtcGxveWVlRW50cmllcy5yZWR1Y2UoKHN1bSwgZW50cnkpID0+IHN1bSArIGVudHJ5LnRvdGFsQ29zdCwgMCk7XG4gICAgY29uc3QgdG90YWxCaWxsYWJsZVZhbHVlID0gZW1wbG95ZWVFbnRyaWVzLnJlZHVjZSgoc3VtLCBlbnRyeSkgPT4gc3VtICsgZW50cnkuYmlsbGFibGVWYWx1ZSwgMCk7XG4gICAgY29uc3QgZWZmaWNpZW5jeSA9IHRvdGFsSG91cnMgPiAwID8gdG90YWxCaWxsYWJsZUhvdXJzIC8gdG90YWxIb3VycyA6IDA7XG4gICAgY29uc3QgYXZlcmFnZUhvdXJseVJhdGUgPSB0b3RhbEhvdXJzID4gMCA/IHRvdGFsQ29zdCAvIHRvdGFsSG91cnMgOiAwO1xuXG4gICAgLy8gUHJvamVjdCBicmVha2Rvd25cbiAgICBjb25zdCBwcm9qZWN0QnJlYWtkb3duID0gbmV3IE1hcDxzdHJpbmcsIGFueT4oKTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGVtcGxveWVlRW50cmllcykge1xuICAgICAgY29uc3QgZXhpc3RpbmcgPSBwcm9qZWN0QnJlYWtkb3duLmdldChlbnRyeS5wcm9qZWN0SWQpO1xuICAgICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICAgIGV4aXN0aW5nLmhvdXJzICs9IGVudHJ5LmhvdXJzO1xuICAgICAgICBleGlzdGluZy5jb3N0ICs9IGVudHJ5LnRvdGFsQ29zdDtcbiAgICAgICAgZXhpc3RpbmcuYmlsbGFibGVWYWx1ZSArPSBlbnRyeS5iaWxsYWJsZVZhbHVlO1xuICAgICAgICBleGlzdGluZy5lZmZpY2llbmN5ID0gZXhpc3RpbmcuaG91cnMgPiAwID8gZXhpc3RpbmcuYmlsbGFibGVWYWx1ZSAvIChleGlzdGluZy5ob3VycyAqIGVudHJ5LmhvdXJseVJhdGUpIDogMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2plY3RCcmVha2Rvd24uc2V0KGVudHJ5LnByb2plY3RJZCwge1xuICAgICAgICAgIHByb2plY3RJZDogZW50cnkucHJvamVjdElkLFxuICAgICAgICAgIHByb2plY3ROYW1lOiBlbnRyeS5wcm9qZWN0TmFtZSxcbiAgICAgICAgICBob3VyczogZW50cnkuaG91cnMsXG4gICAgICAgICAgY29zdDogZW50cnkudG90YWxDb3N0LFxuICAgICAgICAgIGJpbGxhYmxlVmFsdWU6IGVudHJ5LmJpbGxhYmxlVmFsdWUsXG4gICAgICAgICAgZWZmaWNpZW5jeTogZW50cnkuZWZmaWNpZW5jeVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgZW1wbG95ZWVJZCxcbiAgICAgIGVtcGxveWVlTmFtZTogZW1wbG95ZWVFbnRyaWVzWzBdPy5lbXBsb3llZU5hbWUgfHwgJ1Vua25vd24gRW1wbG95ZWUnLFxuICAgICAgcGVyaW9kOiB7IHN0YXJ0OiBzdGFydERhdGUsIGVuZDogZW5kRGF0ZSB9LFxuICAgICAgdG90YWxIb3VycyxcbiAgICAgIHRvdGFsQmlsbGFibGVIb3VycyxcbiAgICAgIHRvdGFsQ29zdCxcbiAgICAgIHRvdGFsQmlsbGFibGVWYWx1ZSxcbiAgICAgIGVmZmljaWVuY3ksXG4gICAgICBhdmVyYWdlSG91cmx5UmF0ZSxcbiAgICAgIHByb2plY3RCcmVha2Rvd246IEFycmF5LmZyb20ocHJvamVjdEJyZWFrZG93bi52YWx1ZXMoKSlcbiAgICB9O1xuICB9XG5cbiAgLy8gUGF5cm9sbCBTeXN0ZW0gSW50ZWdyYXRpb25cbiAgYXN5bmMgY29uZmlndXJlUGF5cm9sbFN5c3RlbShzeXN0ZW06IFBheXJvbGxTeXN0ZW0pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aGlzLnBheXJvbGxTeXN0ZW0gPSBzeXN0ZW07XG4gICAgY29uc29sZS5sb2coYFBheXJvbGwgc3lzdGVtIGNvbmZpZ3VyZWQ6ICR7c3lzdGVtLm5hbWV9YCk7XG4gIH1cblxuICAvLyBTdXJlUGF5cm9sbCBJbnRlZ3JhdGlvblxuICBhc3luYyBjb25maWd1cmVTdXJlUGF5cm9sbChjb25maWc6IFN1cmVQYXlyb2xsQ29uZmlnKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdGhpcy5zdXJlcGF5cm9sbENvbmZpZyA9IGNvbmZpZztcbiAgICBfY29uZmlndXJlU3VyZVBheXJvbGxTZXJ2aWNlKGNvbmZpZyk7XG4gICAgY29uc29sZS5sb2coYFN1cmVQYXlyb2xsIGNvbmZpZ3VyZWQgZm9yIGNsaWVudCBJRDogJHtjb25maWcuY2xpZW50SWR9YCk7XG4gIH1cblxuICBhc3luYyBpbXBvcnRTYWxhcmllc0Zyb21TdXJlUGF5cm9sbCgpOiBQcm9taXNlPFNhbGFyeUltcG9ydD4ge1xuICAgIGlmICghdGhpcy5zdXJlcGF5cm9sbENvbmZpZykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdXJlUGF5cm9sbCBub3QgY29uZmlndXJlZCcpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAvLyBJbXBvcnQgZW1wbG95ZWVzIGZyb20gU3VyZVBheXJvbGxcbiAgICAgIGNvbnN0IHN1cmVwYXlyb2xsRW1wbG95ZWVzID0gYXdhaXQgaW1wb3J0U3VyZVBheXJvbGxFbXBsb3llZXMoKTtcbiAgICAgIGZvciAoY29uc3QgZW1wbG95ZWUgb2Ygc3VyZXBheXJvbGxFbXBsb3llZXMpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5hZGRFbXBsb3llZShlbXBsb3llZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIEltcG9ydCBzYWxhcmllcyBmcm9tIFN1cmVQYXlyb2xsXG4gICAgICBjb25zdCBzdXJlcGF5cm9sbFNhbGFyaWVzID0gYXdhaXQgaW1wb3J0U3VyZVBheXJvbGxTYWxhcmllcygpO1xuICAgICAgZm9yIChjb25zdCBzYWxhcnkgb2Ygc3VyZXBheXJvbGxTYWxhcmllcykge1xuICAgICAgICBhd2FpdCB0aGlzLmFkZFNhbGFyeShzYWxhcnkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzb3VyY2U6ICdzdXJlcGF5cm9sbCcsXG4gICAgICAgIGltcG9ydERhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgcmVjb3Jkc0ltcG9ydGVkOiBzdXJlcGF5cm9sbEVtcGxveWVlcy5sZW5ndGggKyBzdXJlcGF5cm9sbFNhbGFyaWVzLmxlbmd0aCxcbiAgICAgICAgZXJyb3JzOiBbXVxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzb3VyY2U6ICdzdXJlcGF5cm9sbCcsXG4gICAgICAgIGltcG9ydERhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgcmVjb3Jkc0ltcG9ydGVkOiAwLFxuICAgICAgICBlcnJvcnM6IFtlcnJvci5tZXNzYWdlXVxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBpbXBvcnRTYWxhcmllc0Zyb21QYXlyb2xsU3lzdGVtKCk6IFByb21pc2U8U2FsYXJ5SW1wb3J0PiB7XG4gICAgaWYgKCF0aGlzLnBheXJvbGxTeXN0ZW0pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gcGF5cm9sbCBzeXN0ZW0gY29uZmlndXJlZCcpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnBheXJvbGxTeXN0ZW0udHlwZSA9PT0gJ3N1cmVwYXlyb2xsJyAmJiB0aGlzLnN1cmVwYXlyb2xsQ29uZmlnKSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5pbXBvcnRTYWxhcmllc0Zyb21TdXJlUGF5cm9sbCgpO1xuICAgIH1cblxuICAgIC8vIFRoaXMgd291bGQgaW50ZWdyYXRlIHdpdGggb3RoZXIgcGF5cm9sbCBzeXN0ZW0gQVBJc1xuICAgIC8vIEZvciBub3csIHJldHVybiBhIG1vY2sgaW1wb3J0XG4gICAgcmV0dXJuIHtcbiAgICAgIHNvdXJjZTogJ2FwaScgYXMgY29uc3QsXG4gICAgICBpbXBvcnREYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICByZWNvcmRzSW1wb3J0ZWQ6IDAsXG4gICAgICBlcnJvcnM6IFtgJHt0aGlzLnBheXJvbGxTeXN0ZW0udHlwZX0gaW50ZWdyYXRpb24gbm90IHlldCBpbXBsZW1lbnRlZGBdXG4gICAgfTtcbiAgfVxuXG4gIC8vIFV0aWxpdHkgTWV0aG9kc1xuICBwcml2YXRlIHBhcnNlRHVyYXRpb24oZHVyYXRpb246IHN0cmluZyk6IG51bWJlciB7XG4gICAgY29uc3QgcmVnZXggPSAvUFQoPzooXFxkKylIKT8oPzooXFxkKylNKT8oPzooXFxkKylTKT8vO1xuICAgIGNvbnN0IG1hdGNoID0gZHVyYXRpb24ubWF0Y2gocmVnZXgpO1xuICAgIFxuICAgIGlmICghbWF0Y2gpIHJldHVybiAwO1xuICAgIFxuICAgIGNvbnN0IGhvdXJzID0gcGFyc2VJbnQobWF0Y2hbMV0gfHwgJzAnKTtcbiAgICBjb25zdCBtaW51dGVzID0gcGFyc2VJbnQobWF0Y2hbMl0gfHwgJzAnKTtcbiAgICBjb25zdCBzZWNvbmRzID0gcGFyc2VJbnQobWF0Y2hbM10gfHwgJzAnKTtcbiAgICBcbiAgICByZXR1cm4gKGhvdXJzICogMzYwMCArIG1pbnV0ZXMgKiA2MCArIHNlY29uZHMpICogMTAwMDtcbiAgfVxuXG4gIGNhbGN1bGF0ZUhvdXJseVJhdGUoYW5udWFsU2FsYXJ5OiBudW1iZXIsIHdvcmtIb3Vyc1BlclllYXI6IG51bWJlciA9IDIwODApOiBudW1iZXIge1xuICAgIHJldHVybiBhbm51YWxTYWxhcnkgLyB3b3JrSG91cnNQZXJZZWFyO1xuICB9XG5cbiAgLy8gRGF0YSBFeHBvcnQvSW1wb3J0XG4gICAgYXN5bmMgZXhwb3J0RGF0YSgpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybiB7XG4gICAgICBlbXBsb3llZXM6IEFycmF5LmZyb20odGhpcy5lbXBsb3llZXMudmFsdWVzKCkpLFxuICAgICAgc2FsYXJpZXM6IEFycmF5LmZyb20odGhpcy5zYWxhcmllcy5lbnRyaWVzKCkpLFxuICAgICAgbXVsdGlwbGllcnM6IEFycmF5LmZyb20odGhpcy5tdWx0aXBsaWVycy5lbnRyaWVzKCkpLFxuICAgICAgcGF5cm9sbFN5c3RlbTogdGhpcy5wYXlyb2xsU3lzdGVtLFxuICAgICAgc3VyZXBheXJvbGxDb25maWc6IHRoaXMuc3VyZXBheXJvbGxDb25maWdcbiAgICB9O1xuICB9XG5cbiAgYXN5bmMgaW1wb3J0RGF0YShkYXRhOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aGlzLmVtcGxveWVlcyA9IG5ldyBNYXAoZGF0YS5lbXBsb3llZXMubWFwKChlbXA6IEVtcGxveWVlKSA9PiBbZW1wLmlkLCBlbXBdKSk7XG4gICAgdGhpcy5zYWxhcmllcyA9IG5ldyBNYXAoZGF0YS5zYWxhcmllcyk7XG4gICAgdGhpcy5tdWx0aXBsaWVycyA9IG5ldyBNYXAoZGF0YS5tdWx0aXBsaWVycyk7XG4gICAgdGhpcy5wYXlyb2xsU3lzdGVtID0gZGF0YS5wYXlyb2xsU3lzdGVtO1xuICAgIHRoaXMuc3VyZXBheXJvbGxDb25maWcgPSBkYXRhLnN1cmVwYXlyb2xsQ29uZmlnO1xuXG4gICAgaWYgKHRoaXMuc3VyZXBheXJvbGxDb25maWcpIHtcbiAgICAgIF9jb25maWd1cmVTdXJlUGF5cm9sbFNlcnZpY2UodGhpcy5zdXJlcGF5cm9sbENvbmZpZyk7XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coJ1BheXJvbGwgZGF0YSBpbXBvcnRlZCBzdWNjZXNzZnVsbHknKTtcbiAgfVxufVxuXG4vLyBDcmVhdGUgc2luZ2xldG9uIGluc3RhbmNlXG5leHBvcnQgY29uc3QgcGF5cm9sbFNlcnZpY2UgPSBuZXcgUGF5cm9sbFNlcnZpY2UoKTtcblxuLy8gRXhwb3J0IGNvbnZlbmllbmNlIGZ1bmN0aW9uc1xuZXhwb3J0IGNvbnN0IGFkZEVtcGxveWVlID0gYXN5bmMgKGVtcGxveWVlOiBFbXBsb3llZSkgPT4ge1xuICBhd2FpdCBwYXlyb2xsU2VydmljZS5hZGRFbXBsb3llZShlbXBsb3llZSk7XG59O1xuXG5leHBvcnQgY29uc3QgYWRkU2FsYXJ5ID0gYXN5bmMgKHNhbGFyeTogRW1wbG95ZWVTYWxhcnkpID0+IHtcbiAgYXdhaXQgcGF5cm9sbFNlcnZpY2UuYWRkU2FsYXJ5KHNhbGFyeSk7XG59O1xuXG5leHBvcnQgY29uc3QgYWRkUHJvamVjdE11bHRpcGxpZXIgPSBhc3luYyAobXVsdGlwbGllcjogUHJvamVjdE11bHRpcGxpZXIpID0+IHtcbiAgYXdhaXQgcGF5cm9sbFNlcnZpY2UuYWRkUHJvamVjdE11bHRpcGxpZXIobXVsdGlwbGllcik7XG59O1xuXG5leHBvcnQgY29uc3QgcHJvY2Vzc1RpbWVFbnRyaWVzID0gYXN5bmMgKFxuICBjbG9ja2lmeUVudHJpZXM6IENsb2NraWZ5VGltZUVudHJ5W10sXG4gIGNsb2NraWZ5VXNlcnM6IENsb2NraWZ5VXNlcltdLFxuICBwcm9qZWN0czogYW55W11cbikgPT4ge1xuICByZXR1cm4gYXdhaXQgcGF5cm9sbFNlcnZpY2UucHJvY2Vzc1RpbWVFbnRyaWVzKGNsb2NraWZ5RW50cmllcywgY2xvY2tpZnlVc2VycywgcHJvamVjdHMpO1xufTtcblxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlUHJvamVjdFByb2ZpdGFiaWxpdHlSZXBvcnQgPSBhc3luYyAoXG4gIHByb2plY3RJZDogc3RyaW5nLFxuICBzdGFydERhdGU6IHN0cmluZyxcbiAgZW5kRGF0ZTogc3RyaW5nLFxuICBlbXBsb3llZVRpbWVFbnRyaWVzOiBFbXBsb3llZVRpbWVFbnRyeVtdLFxuICByZXZlbnVlOiBudW1iZXJcbikgPT4ge1xuICByZXR1cm4gYXdhaXQgcGF5cm9sbFNlcnZpY2UuZ2VuZXJhdGVQcm9qZWN0UHJvZml0YWJpbGl0eVJlcG9ydChcbiAgICBwcm9qZWN0SWQsIHN0YXJ0RGF0ZSwgZW5kRGF0ZSwgZW1wbG95ZWVUaW1lRW50cmllcywgcmV2ZW51ZVxuICApO1xufTtcblxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlRW1wbG95ZWVQcm9maXRhYmlsaXR5UmVwb3J0ID0gYXN5bmMgKFxuICBlbXBsb3llZUlkOiBzdHJpbmcsXG4gIHN0YXJ0RGF0ZTogc3RyaW5nLFxuICBlbmREYXRlOiBzdHJpbmcsXG4gIGVtcGxveWVlVGltZUVudHJpZXM6IEVtcGxveWVlVGltZUVudHJ5W11cbikgPT4ge1xuICByZXR1cm4gYXdhaXQgcGF5cm9sbFNlcnZpY2UuZ2VuZXJhdGVFbXBsb3llZVByb2ZpdGFiaWxpdHlSZXBvcnQoXG4gICAgZW1wbG95ZWVJZCwgc3RhcnREYXRlLCBlbmREYXRlLCBlbXBsb3llZVRpbWVFbnRyaWVzXG4gICk7XG59O1xuXG4vLyBTdXJlUGF5cm9sbCBzcGVjaWZpYyBmdW5jdGlvbnNcbmV4cG9ydCBjb25zdCBjb25maWd1cmVTdXJlUGF5cm9sbCA9IGFzeW5jIChjb25maWc6IFN1cmVQYXlyb2xsQ29uZmlnKSA9PiB7XG4gIGF3YWl0IHBheXJvbGxTZXJ2aWNlLmNvbmZpZ3VyZVN1cmVQYXlyb2xsKGNvbmZpZyk7XG59O1xuXG5leHBvcnQgY29uc3QgaW1wb3J0U3VyZVBheXJvbGxEYXRhID0gYXN5bmMgKCkgPT4ge1xuICByZXR1cm4gYXdhaXQgcGF5cm9sbFNlcnZpY2UuaW1wb3J0U2FsYXJpZXNGcm9tU3VyZVBheXJvbGwoKTtcbn07XG4iXSwibmFtZXMiOlsiY29uZmlndXJlU3VyZVBheXJvbGwiLCJfY29uZmlndXJlU3VyZVBheXJvbGxTZXJ2aWNlIiwiaW1wb3J0U3VyZVBheXJvbGxFbXBsb3llZXMiLCJpbXBvcnRTdXJlUGF5cm9sbFNhbGFyaWVzIiwiUGF5cm9sbFNlcnZpY2UiLCJjb25zdHJ1Y3RvciIsImVtcGxveWVlcyIsIk1hcCIsInNhbGFyaWVzIiwibXVsdGlwbGllcnMiLCJjb25zb2xlIiwibG9nIiwiYWRkRW1wbG95ZWUiLCJlbXBsb3llZSIsInNldCIsImlkIiwibmFtZSIsImdldEVtcGxveWVlIiwiZW1wbG95ZWVJZCIsImdldCIsImdldEFsbEVtcGxveWVlcyIsIkFycmF5IiwiZnJvbSIsInZhbHVlcyIsInVwZGF0ZUVtcGxveWVlIiwidXBkYXRlcyIsImFkZFNhbGFyeSIsInNhbGFyeSIsImVtcGxveWVlU2FsYXJpZXMiLCJlbmREYXRlIiwiY3VycmVudFNhbGFyeSIsImZpbmQiLCJzIiwiZWZmZWN0aXZlRGF0ZSIsInB1c2giLCJzb3J0IiwiYSIsImIiLCJEYXRlIiwiZ2V0VGltZSIsImdldEVtcGxveWVlU2FsYXJ5IiwiZGF0ZSIsInRhcmdldERhdGUiLCJnZXRFbXBsb3llZVNhbGFyeUhpc3RvcnkiLCJhZGRQcm9qZWN0TXVsdGlwbGllciIsIm11bHRpcGxpZXIiLCJwcm9qZWN0TXVsdGlwbGllcnMiLCJwcm9qZWN0SWQiLCJjdXJyZW50TXVsdGlwbGllciIsIm0iLCJwcm9qZWN0TmFtZSIsImdldFByb2plY3RNdWx0aXBsaWVyIiwiZ2V0UHJvamVjdE11bHRpcGxpZXJIaXN0b3J5IiwicHJvY2Vzc1RpbWVFbnRyaWVzIiwiY2xvY2tpZnlFbnRyaWVzIiwiY2xvY2tpZnlVc2VycyIsInByb2plY3RzIiwiZW1wbG95ZWVUaW1lRW50cmllcyIsInVzZXJNYXAiLCJtYXAiLCJ1c2VyIiwiZW50cnkiLCJ1c2VySWQiLCJlbnRyeURhdGUiLCJ0aW1lSW50ZXJ2YWwiLCJzdGFydCIsInRvSVNPU3RyaW5nIiwic3BsaXQiLCJwcm9qZWN0IiwicCIsInByb2plY3RNdWx0aXBsaWVyIiwiZHVyYXRpb25NcyIsInBhcnNlRHVyYXRpb24iLCJkdXJhdGlvbiIsImhvdXJzIiwiYmlsbGFibGVIb3VycyIsImJpbGxhYmxlIiwibm9uQmlsbGFibGVIb3VycyIsInRvdGFsQ29zdCIsImhvdXJseVJhdGUiLCJiaWxsYWJsZVZhbHVlIiwiZWZmaWNpZW5jeSIsImVtcGxveWVlTmFtZSIsImRlc2NyaXB0aW9uIiwidGFncyIsInRhZyIsImdlbmVyYXRlUHJvamVjdFByb2ZpdGFiaWxpdHlSZXBvcnQiLCJzdGFydERhdGUiLCJyZXZlbnVlIiwicHJvamVjdEVudHJpZXMiLCJmaWx0ZXIiLCJ0b3RhbEhvdXJzIiwicmVkdWNlIiwic3VtIiwidG90YWxCaWxsYWJsZUhvdXJzIiwidG90YWxCaWxsYWJsZVZhbHVlIiwiZ3Jvc3NQcm9maXQiLCJwcm9maXRNYXJnaW4iLCJhdmVyYWdlTXVsdGlwbGllciIsImVtcGxveWVlQnJlYWtkb3duIiwiZXhpc3RpbmciLCJjb3N0IiwibW9udGhseUJyZWFrZG93biIsIm1vbnRoIiwic3Vic3RyaW5nIiwicHJvZml0IiwicGVyaW9kIiwiZW5kIiwidG90YWxSZXZlbnVlIiwiZ2VuZXJhdGVFbXBsb3llZVByb2ZpdGFiaWxpdHlSZXBvcnQiLCJlbXBsb3llZUVudHJpZXMiLCJhdmVyYWdlSG91cmx5UmF0ZSIsInByb2plY3RCcmVha2Rvd24iLCJjb25maWd1cmVQYXlyb2xsU3lzdGVtIiwic3lzdGVtIiwicGF5cm9sbFN5c3RlbSIsImNvbmZpZyIsInN1cmVwYXlyb2xsQ29uZmlnIiwiY2xpZW50SWQiLCJpbXBvcnRTYWxhcmllc0Zyb21TdXJlUGF5cm9sbCIsIkVycm9yIiwic3VyZXBheXJvbGxFbXBsb3llZXMiLCJzdXJlcGF5cm9sbFNhbGFyaWVzIiwic291cmNlIiwiaW1wb3J0RGF0ZSIsInJlY29yZHNJbXBvcnRlZCIsImxlbmd0aCIsImVycm9ycyIsImVycm9yIiwibWVzc2FnZSIsImltcG9ydFNhbGFyaWVzRnJvbVBheXJvbGxTeXN0ZW0iLCJ0eXBlIiwicmVnZXgiLCJtYXRjaCIsInBhcnNlSW50IiwibWludXRlcyIsInNlY29uZHMiLCJjYWxjdWxhdGVIb3VybHlSYXRlIiwiYW5udWFsU2FsYXJ5Iiwid29ya0hvdXJzUGVyWWVhciIsImV4cG9ydERhdGEiLCJlbnRyaWVzIiwiaW1wb3J0RGF0YSIsImRhdGEiLCJlbXAiLCJwYXlyb2xsU2VydmljZSIsImltcG9ydFN1cmVQYXlyb2xsRGF0YSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/payroll.ts\n");

/***/ }),

/***/ "(rsc)/./lib/surepayroll.ts":
/*!****************************!*\
  !*** ./lib/surepayroll.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SurePayrollService: () => (/* binding */ SurePayrollService),\n/* harmony export */   configureSurePayroll: () => (/* binding */ configureSurePayroll),\n/* harmony export */   getSurePayrollService: () => (/* binding */ getSurePayrollService),\n/* harmony export */   importSurePayrollData: () => (/* binding */ importSurePayrollData),\n/* harmony export */   importSurePayrollEmployees: () => (/* binding */ importSurePayrollEmployees),\n/* harmony export */   importSurePayrollSalaries: () => (/* binding */ importSurePayrollSalaries),\n/* harmony export */   surepayrollService: () => (/* binding */ surepayrollService)\n/* harmony export */ });\nclass SurePayrollService {\n    constructor(config){\n        this.config = config;\n        this.baseUrl = `https://api.surepayroll.com/v1`;\n    }\n    async makeRequest(endpoint, options = {}) {\n        const url = `${this.baseUrl}${endpoint}`;\n        const headers = {\n            \"Authorization\": `Bearer ${this.config.apiKey}`,\n            \"X-Client-ID\": this.config.clientId,\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json\",\n            ...options.headers\n        };\n        try {\n            const response = await fetch(url, {\n                ...options,\n                headers\n            });\n            if (!response.ok) {\n                throw new Error(`SurePayroll API error: ${response.status} ${response.statusText}`);\n            }\n            return await response.json();\n        } catch (error) {\n            console.error(\"SurePayroll API request failed:\", error);\n            throw error;\n        }\n    }\n    // Employee Management\n    async getAllEmployees() {\n        const response = await this.makeRequest(\"/employees\");\n        return response.employees || [];\n    }\n    async getEmployee(employeeId) {\n        const response = await this.makeRequest(`/employees/${employeeId}`);\n        return response.employee;\n    }\n    async getEmployeeDirectory() {\n        const response = await this.makeRequest(\"/employees/directory\");\n        return response.employees || [];\n    }\n    // Compensation Management\n    async getEmployeeCompensation(employeeId) {\n        const response = await this.makeRequest(`/employees/${employeeId}/compensation`);\n        return response.compensation || [];\n    }\n    async getCompensationHistory(employeeId, startDate, endDate) {\n        let endpoint = `/employees/${employeeId}/compensation/history`;\n        const params = new URLSearchParams();\n        if (startDate) params.append(\"startDate\", startDate);\n        if (endDate) params.append(\"endDate\", endDate);\n        if (params.toString()) {\n            endpoint += `?${params.toString()}`;\n        }\n        const response = await this.makeRequest(endpoint);\n        return response.compensation || [];\n    }\n    // Time Off Management\n    async getEmployeeTimeOff(employeeId) {\n        const response = await this.makeRequest(`/employees/${employeeId}/timeoff`);\n        return response.timeOff || [];\n    }\n    async getAllTimeOff(startDate, endDate) {\n        let endpoint = \"/timeoff\";\n        const params = new URLSearchParams();\n        if (startDate) params.append(\"startDate\", startDate);\n        if (endDate) params.append(\"endDate\", endDate);\n        if (params.toString()) {\n            endpoint += `?${params.toString()}`;\n        }\n        const response = await this.makeRequest(endpoint);\n        return response.timeOff || [];\n    }\n    // Reports\n    async getCustomReport(reportId) {\n        const response = await this.makeRequest(`/reports/${reportId}`);\n        return response.report;\n    }\n    async createCustomReport(reportData) {\n        const response = await this.makeRequest(\"/reports\", {\n            method: \"POST\",\n            body: JSON.stringify(reportData)\n        });\n        return response.report;\n    }\n    // Company Information\n    async getCompanyInfo() {\n        const response = await this.makeRequest(\"/company\");\n        return response.company;\n    }\n    // Webhook Management\n    async createWebhook(webhookData) {\n        const response = await this.makeRequest(\"/webhooks\", {\n            method: \"POST\",\n            body: JSON.stringify(webhookData)\n        });\n        return response.webhook;\n    }\n    async getWebhooks() {\n        const response = await this.makeRequest(\"/webhooks\");\n        return response.webhooks || [];\n    }\n    async deleteWebhook(webhookId) {\n        await this.makeRequest(`/webhooks/${webhookId}`, {\n            method: \"DELETE\"\n        });\n    }\n    // Utility Methods\n    calculateHourlyRate(annualSalary, paySchedule) {\n        let hoursPerYear;\n        switch(paySchedule){\n            case \"weekly\":\n                hoursPerYear = 52 * 40; // 40 hours per week\n                break;\n            case \"bi-weekly\":\n                hoursPerYear = 26 * 80; // 80 hours per 2 weeks\n                break;\n            case \"semi-monthly\":\n                hoursPerYear = 24 * 86.67; // 86.67 hours per pay period\n                break;\n            case \"monthly\":\n                hoursPerYear = 12 * 173.33; // 173.33 hours per month\n                break;\n            default:\n                hoursPerYear = 2080; // Standard 40-hour work week\n        }\n        return annualSalary / hoursPerYear;\n    }\n    // Data Import Methods\n    async importEmployees() {\n        const surepayrollEmployees = await this.getAllEmployees();\n        return surepayrollEmployees.map((emp)=>({\n                id: emp.id,\n                name: emp.displayName,\n                email: emp.email,\n                status: emp.status === \"active\" ? \"active\" : \"inactive\",\n                department: emp.department,\n                position: emp.jobTitle,\n                hireDate: emp.hireDate,\n                terminationDate: emp.terminationDate\n            }));\n    }\n    async importSalaries() {\n        const employees = await this.getAllEmployees();\n        const salaries = [];\n        for (const employee of employees){\n            const compensations = await this.getEmployeeCompensation(employee.id);\n            for (const comp of compensations){\n                salaries.push({\n                    employeeId: comp.employeeId,\n                    effectiveDate: comp.effectiveDate,\n                    endDate: comp.endDate,\n                    annualSalary: comp.annualSalary,\n                    hourlyRate: comp.hourlyRate,\n                    currency: comp.currency,\n                    notes: `Imported from SurePayroll - ${comp.payType} (${comp.paySchedule})`\n                });\n            }\n        }\n        return salaries;\n    }\n    async importAllData() {\n        try {\n            const employees = await this.importEmployees();\n            const salaries = await this.importSalaries();\n            return {\n                source: \"surepayroll\",\n                importDate: new Date().toISOString(),\n                recordsImported: employees.length + salaries.length,\n                errors: []\n            };\n        } catch (error) {\n            return {\n                source: \"surepayroll\",\n                importDate: new Date().toISOString(),\n                recordsImported: 0,\n                errors: [\n                    error.message\n                ]\n            };\n        }\n    }\n    // Helper Methods\n    async searchEmployees(query) {\n        const employees = await this.getAllEmployees();\n        return employees.filter((emp)=>emp.displayName.toLowerCase().includes(query.toLowerCase()) || emp.email.toLowerCase().includes(query.toLowerCase()));\n    }\n    async getEmployeesByDepartment(department) {\n        const employees = await this.getAllEmployees();\n        return employees.filter((emp)=>emp.department === department);\n    }\n    async getActiveEmployees() {\n        const employees = await this.getAllEmployees();\n        return employees.filter((emp)=>emp.status === \"active\");\n    }\n}\nlet surepayrollService = null;\nconst configureSurePayroll = (config)=>{\n    surepayrollService = new SurePayrollService(config);\n    console.log(`SurePayroll service configured for client ID: ${config.clientId}`);\n};\nconst getSurePayrollService = ()=>{\n    if (!surepayrollService) {\n        throw new Error(\"SurePayroll service not configured. Call configureSurePayroll first.\");\n    }\n    return surepayrollService;\n};\nconst importSurePayrollEmployees = async ()=>{\n    const service = getSurePayrollService();\n    return await service.importEmployees();\n};\nconst importSurePayrollSalaries = async ()=>{\n    const service = getSurePayrollService();\n    return await service.importSalaries();\n};\nconst importSurePayrollData = async ()=>{\n    const service = getSurePayrollService();\n    return await service.importAllData();\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxNQUFNRixVQUFVRjtJQUNoQixPQUFPLE1BQU1FLFFBQVFyQixhQUFhO0FBQ3BDLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b2hvLWJpbGxpbmctcGxhdGZvcm0vLi9saWIvc3VyZXBheXJvbGwudHM/ZGY1YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gIFN1cmVQYXlyb2xsQ29uZmlnLFxyXG4gIFN1cmVQYXlyb2xsRW1wbG95ZWUsXHJcbiAgU3VyZVBheXJvbGxDb21wZW5zYXRpb24sXHJcbiAgU3VyZVBheXJvbGxUaW1lT2ZmLFxyXG4gIFN1cmVQYXlyb2xsUmVwb3J0LFxyXG4gIEVtcGxveWVlLFxyXG4gIEVtcGxveWVlU2FsYXJ5LFxyXG4gIFNhbGFyeUltcG9ydFxyXG59IGZyb20gJy4vdHlwZXMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFN1cmVQYXlyb2xsU2VydmljZSB7XHJcbiAgcHJpdmF0ZSBjb25maWc6IFN1cmVQYXlyb2xsQ29uZmlnO1xyXG4gIHByaXZhdGUgYmFzZVVybDogc3RyaW5nO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihjb25maWc6IFN1cmVQYXlyb2xsQ29uZmlnKSB7XHJcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcclxuICAgIHRoaXMuYmFzZVVybCA9IGBodHRwczovL2FwaS5zdXJlcGF5cm9sbC5jb20vdjFgO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhc3luYyBtYWtlUmVxdWVzdChlbmRwb2ludDogc3RyaW5nLCBvcHRpb25zOiBSZXF1ZXN0SW5pdCA9IHt9KTogUHJvbWlzZTxhbnk+IHtcclxuICAgIGNvbnN0IHVybCA9IGAke3RoaXMuYmFzZVVybH0ke2VuZHBvaW50fWA7XHJcbiAgICBjb25zdCBoZWFkZXJzID0ge1xyXG4gICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0aGlzLmNvbmZpZy5hcGlLZXl9YCxcclxuICAgICAgJ1gtQ2xpZW50LUlEJzogdGhpcy5jb25maWcuY2xpZW50SWQsXHJcbiAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgIC4uLm9wdGlvbnMuaGVhZGVyc1xyXG4gICAgfTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xyXG4gICAgICAgIC4uLm9wdGlvbnMsXHJcbiAgICAgICAgaGVhZGVyc1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFN1cmVQYXlyb2xsIEFQSSBlcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1N1cmVQYXlyb2xsIEFQSSByZXF1ZXN0IGZhaWxlZDonLCBlcnJvcik7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gRW1wbG95ZWUgTWFuYWdlbWVudFxyXG4gIGFzeW5jIGdldEFsbEVtcGxveWVlcygpOiBQcm9taXNlPFN1cmVQYXlyb2xsRW1wbG95ZWVbXT4ge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLm1ha2VSZXF1ZXN0KCcvZW1wbG95ZWVzJyk7XHJcbiAgICByZXR1cm4gcmVzcG9uc2UuZW1wbG95ZWVzIHx8IFtdO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZ2V0RW1wbG95ZWUoZW1wbG95ZWVJZDogc3RyaW5nKTogUHJvbWlzZTxTdXJlUGF5cm9sbEVtcGxveWVlPiB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMubWFrZVJlcXVlc3QoYC9lbXBsb3llZXMvJHtlbXBsb3llZUlkfWApO1xyXG4gICAgcmV0dXJuIHJlc3BvbnNlLmVtcGxveWVlO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZ2V0RW1wbG95ZWVEaXJlY3RvcnkoKTogUHJvbWlzZTxTdXJlUGF5cm9sbEVtcGxveWVlW10+IHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5tYWtlUmVxdWVzdCgnL2VtcGxveWVlcy9kaXJlY3RvcnknKTtcclxuICAgIHJldHVybiByZXNwb25zZS5lbXBsb3llZXMgfHwgW107XHJcbiAgfVxyXG5cclxuICAvLyBDb21wZW5zYXRpb24gTWFuYWdlbWVudFxyXG4gIGFzeW5jIGdldEVtcGxveWVlQ29tcGVuc2F0aW9uKGVtcGxveWVlSWQ6IHN0cmluZyk6IFByb21pc2U8U3VyZVBheXJvbGxDb21wZW5zYXRpb25bXT4ge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLm1ha2VSZXF1ZXN0KGAvZW1wbG95ZWVzLyR7ZW1wbG95ZWVJZH0vY29tcGVuc2F0aW9uYCk7XHJcbiAgICByZXR1cm4gcmVzcG9uc2UuY29tcGVuc2F0aW9uIHx8IFtdO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZ2V0Q29tcGVuc2F0aW9uSGlzdG9yeShlbXBsb3llZUlkOiBzdHJpbmcsIHN0YXJ0RGF0ZT86IHN0cmluZywgZW5kRGF0ZT86IHN0cmluZyk6IFByb21pc2U8U3VyZVBheXJvbGxDb21wZW5zYXRpb25bXT4ge1xyXG4gICAgbGV0IGVuZHBvaW50ID0gYC9lbXBsb3llZXMvJHtlbXBsb3llZUlkfS9jb21wZW5zYXRpb24vaGlzdG9yeWA7XHJcbiAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XHJcbiAgICBpZiAoc3RhcnREYXRlKSBwYXJhbXMuYXBwZW5kKCdzdGFydERhdGUnLCBzdGFydERhdGUpO1xyXG4gICAgaWYgKGVuZERhdGUpIHBhcmFtcy5hcHBlbmQoJ2VuZERhdGUnLCBlbmREYXRlKTtcclxuICAgIFxyXG4gICAgaWYgKHBhcmFtcy50b1N0cmluZygpKSB7XHJcbiAgICAgIGVuZHBvaW50ICs9IGA/JHtwYXJhbXMudG9TdHJpbmcoKX1gO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMubWFrZVJlcXVlc3QoZW5kcG9pbnQpO1xyXG4gICAgcmV0dXJuIHJlc3BvbnNlLmNvbXBlbnNhdGlvbiB8fCBbXTtcclxuICB9XHJcblxyXG4gIC8vIFRpbWUgT2ZmIE1hbmFnZW1lbnRcclxuICBhc3luYyBnZXRFbXBsb3llZVRpbWVPZmYoZW1wbG95ZWVJZDogc3RyaW5nKTogUHJvbWlzZTxTdXJlUGF5cm9sbFRpbWVPZmZbXT4ge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLm1ha2VSZXF1ZXN0KGAvZW1wbG95ZWVzLyR7ZW1wbG95ZWVJZH0vdGltZW9mZmApO1xyXG4gICAgcmV0dXJuIHJlc3BvbnNlLnRpbWVPZmYgfHwgW107XHJcbiAgfVxyXG5cclxuICBhc3luYyBnZXRBbGxUaW1lT2ZmKHN0YXJ0RGF0ZT86IHN0cmluZywgZW5kRGF0ZT86IHN0cmluZyk6IFByb21pc2U8U3VyZVBheXJvbGxUaW1lT2ZmW10+IHtcclxuICAgIGxldCBlbmRwb2ludCA9ICcvdGltZW9mZic7XHJcbiAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XHJcbiAgICBpZiAoc3RhcnREYXRlKSBwYXJhbXMuYXBwZW5kKCdzdGFydERhdGUnLCBzdGFydERhdGUpO1xyXG4gICAgaWYgKGVuZERhdGUpIHBhcmFtcy5hcHBlbmQoJ2VuZERhdGUnLCBlbmREYXRlKTtcclxuICAgIFxyXG4gICAgaWYgKHBhcmFtcy50b1N0cmluZygpKSB7XHJcbiAgICAgIGVuZHBvaW50ICs9IGA/JHtwYXJhbXMudG9TdHJpbmcoKX1gO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMubWFrZVJlcXVlc3QoZW5kcG9pbnQpO1xyXG4gICAgcmV0dXJuIHJlc3BvbnNlLnRpbWVPZmYgfHwgW107XHJcbiAgfVxyXG5cclxuICAvLyBSZXBvcnRzXHJcbiAgYXN5bmMgZ2V0Q3VzdG9tUmVwb3J0KHJlcG9ydElkOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLm1ha2VSZXF1ZXN0KGAvcmVwb3J0cy8ke3JlcG9ydElkfWApO1xyXG4gICAgcmV0dXJuIHJlc3BvbnNlLnJlcG9ydDtcclxuICB9XHJcblxyXG4gIGFzeW5jIGNyZWF0ZUN1c3RvbVJlcG9ydChyZXBvcnREYXRhOiBTdXJlUGF5cm9sbFJlcG9ydCk6IFByb21pc2U8U3VyZVBheXJvbGxSZXBvcnQ+IHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5tYWtlUmVxdWVzdCgnL3JlcG9ydHMnLCB7XHJcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShyZXBvcnREYXRhKVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gcmVzcG9uc2UucmVwb3J0O1xyXG4gIH1cclxuXHJcbiAgLy8gQ29tcGFueSBJbmZvcm1hdGlvblxyXG4gIGFzeW5jIGdldENvbXBhbnlJbmZvKCk6IFByb21pc2U8YW55PiB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMubWFrZVJlcXVlc3QoJy9jb21wYW55Jyk7XHJcbiAgICByZXR1cm4gcmVzcG9uc2UuY29tcGFueTtcclxuICB9XHJcblxyXG4gIC8vIFdlYmhvb2sgTWFuYWdlbWVudFxyXG4gIGFzeW5jIGNyZWF0ZVdlYmhvb2sod2ViaG9va0RhdGE6IHsgdXJsOiBzdHJpbmc7IGV2ZW50czogc3RyaW5nW10gfSk6IFByb21pc2U8YW55PiB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMubWFrZVJlcXVlc3QoJy93ZWJob29rcycsIHtcclxuICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHdlYmhvb2tEYXRhKVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gcmVzcG9uc2Uud2ViaG9vaztcclxuICB9XHJcblxyXG4gIGFzeW5jIGdldFdlYmhvb2tzKCk6IFByb21pc2U8YW55W10+IHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5tYWtlUmVxdWVzdCgnL3dlYmhvb2tzJyk7XHJcbiAgICByZXR1cm4gcmVzcG9uc2Uud2ViaG9va3MgfHwgW107XHJcbiAgfVxyXG5cclxuICBhc3luYyBkZWxldGVXZWJob29rKHdlYmhvb2tJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBhd2FpdCB0aGlzLm1ha2VSZXF1ZXN0KGAvd2ViaG9va3MvJHt3ZWJob29rSWR9YCwge1xyXG4gICAgICBtZXRob2Q6ICdERUxFVEUnXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIFV0aWxpdHkgTWV0aG9kc1xyXG4gIGNhbGN1bGF0ZUhvdXJseVJhdGUoYW5udWFsU2FsYXJ5OiBudW1iZXIsIHBheVNjaGVkdWxlOiBzdHJpbmcpOiBudW1iZXIge1xyXG4gICAgbGV0IGhvdXJzUGVyWWVhcjogbnVtYmVyO1xyXG4gICAgXHJcbiAgICBzd2l0Y2ggKHBheVNjaGVkdWxlKSB7XHJcbiAgICAgIGNhc2UgJ3dlZWtseSc6XHJcbiAgICAgICAgaG91cnNQZXJZZWFyID0gNTIgKiA0MDsgLy8gNDAgaG91cnMgcGVyIHdlZWtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnYmktd2Vla2x5JzpcclxuICAgICAgICBob3Vyc1BlclllYXIgPSAyNiAqIDgwOyAvLyA4MCBob3VycyBwZXIgMiB3ZWVrc1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdzZW1pLW1vbnRobHknOlxyXG4gICAgICAgIGhvdXJzUGVyWWVhciA9IDI0ICogODYuNjc7IC8vIDg2LjY3IGhvdXJzIHBlciBwYXkgcGVyaW9kXHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ21vbnRobHknOlxyXG4gICAgICAgIGhvdXJzUGVyWWVhciA9IDEyICogMTczLjMzOyAvLyAxNzMuMzMgaG91cnMgcGVyIG1vbnRoXHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgaG91cnNQZXJZZWFyID0gMjA4MDsgLy8gU3RhbmRhcmQgNDAtaG91ciB3b3JrIHdlZWtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIGFubnVhbFNhbGFyeSAvIGhvdXJzUGVyWWVhcjtcclxuICB9XHJcblxyXG4gIC8vIERhdGEgSW1wb3J0IE1ldGhvZHNcclxuICBhc3luYyBpbXBvcnRFbXBsb3llZXMoKTogUHJvbWlzZTxFbXBsb3llZVtdPiB7XHJcbiAgICBjb25zdCBzdXJlcGF5cm9sbEVtcGxveWVlcyA9IGF3YWl0IHRoaXMuZ2V0QWxsRW1wbG95ZWVzKCk7XHJcblxyXG4gICAgcmV0dXJuIHN1cmVwYXlyb2xsRW1wbG95ZWVzLm1hcChlbXAgPT4gKHtcclxuICAgICAgaWQ6IGVtcC5pZCxcclxuICAgICAgbmFtZTogZW1wLmRpc3BsYXlOYW1lLFxyXG4gICAgICBlbWFpbDogZW1wLmVtYWlsLFxyXG4gICAgICBzdGF0dXM6IGVtcC5zdGF0dXMgPT09ICdhY3RpdmUnID8gJ2FjdGl2ZScgOiAnaW5hY3RpdmUnLFxyXG4gICAgICBkZXBhcnRtZW50OiBlbXAuZGVwYXJ0bWVudCxcclxuICAgICAgcG9zaXRpb246IGVtcC5qb2JUaXRsZSxcclxuICAgICAgaGlyZURhdGU6IGVtcC5oaXJlRGF0ZSxcclxuICAgICAgdGVybWluYXRpb25EYXRlOiBlbXAudGVybWluYXRpb25EYXRlXHJcbiAgICB9KSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBpbXBvcnRTYWxhcmllcygpOiBQcm9taXNlPEVtcGxveWVlU2FsYXJ5W10+IHtcclxuICAgIGNvbnN0IGVtcGxveWVlcyA9IGF3YWl0IHRoaXMuZ2V0QWxsRW1wbG95ZWVzKCk7XHJcbiAgICBjb25zdCBzYWxhcmllczogRW1wbG95ZWVTYWxhcnlbXSA9IFtdO1xyXG5cclxuICAgIGZvciAoY29uc3QgZW1wbG95ZWUgb2YgZW1wbG95ZWVzKSB7XHJcbiAgICAgIGNvbnN0IGNvbXBlbnNhdGlvbnMgPSBhd2FpdCB0aGlzLmdldEVtcGxveWVlQ29tcGVuc2F0aW9uKGVtcGxveWVlLmlkKTtcclxuXHJcbiAgICAgIGZvciAoY29uc3QgY29tcCBvZiBjb21wZW5zYXRpb25zKSB7XHJcbiAgICAgICAgc2FsYXJpZXMucHVzaCh7XHJcbiAgICAgICAgICBlbXBsb3llZUlkOiBjb21wLmVtcGxveWVlSWQsXHJcbiAgICAgICAgICBlZmZlY3RpdmVEYXRlOiBjb21wLmVmZmVjdGl2ZURhdGUsXHJcbiAgICAgICAgICBlbmREYXRlOiBjb21wLmVuZERhdGUsXHJcbiAgICAgICAgICBhbm51YWxTYWxhcnk6IGNvbXAuYW5udWFsU2FsYXJ5LFxyXG4gICAgICAgICAgaG91cmx5UmF0ZTogY29tcC5ob3VybHlSYXRlLFxyXG4gICAgICAgICAgY3VycmVuY3k6IGNvbXAuY3VycmVuY3ksXHJcbiAgICAgICAgICBub3RlczogYEltcG9ydGVkIGZyb20gU3VyZVBheXJvbGwgLSAke2NvbXAucGF5VHlwZX0gKCR7Y29tcC5wYXlTY2hlZHVsZX0pYFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHNhbGFyaWVzO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgaW1wb3J0QWxsRGF0YSgpOiBQcm9taXNlPFNhbGFyeUltcG9ydD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgZW1wbG95ZWVzID0gYXdhaXQgdGhpcy5pbXBvcnRFbXBsb3llZXMoKTtcclxuICAgICAgY29uc3Qgc2FsYXJpZXMgPSBhd2FpdCB0aGlzLmltcG9ydFNhbGFyaWVzKCk7XHJcblxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHNvdXJjZTogJ3N1cmVwYXlyb2xsJyxcclxuICAgICAgICBpbXBvcnREYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgcmVjb3Jkc0ltcG9ydGVkOiBlbXBsb3llZXMubGVuZ3RoICsgc2FsYXJpZXMubGVuZ3RoLFxyXG4gICAgICAgIGVycm9yczogW11cclxuICAgICAgfTtcclxuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBzb3VyY2U6ICdzdXJlcGF5cm9sbCcsXHJcbiAgICAgICAgaW1wb3J0RGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgIHJlY29yZHNJbXBvcnRlZDogMCxcclxuICAgICAgICBlcnJvcnM6IFtlcnJvci5tZXNzYWdlXVxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gSGVscGVyIE1ldGhvZHNcclxuICBhc3luYyBzZWFyY2hFbXBsb3llZXMocXVlcnk6IHN0cmluZyk6IFByb21pc2U8U3VyZVBheXJvbGxFbXBsb3llZVtdPiB7XHJcbiAgICBjb25zdCBlbXBsb3llZXMgPSBhd2FpdCB0aGlzLmdldEFsbEVtcGxveWVlcygpO1xyXG4gICAgcmV0dXJuIGVtcGxveWVlcy5maWx0ZXIoZW1wID0+IFxyXG4gICAgICBlbXAuZGlzcGxheU5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxdWVyeS50b0xvd2VyQ2FzZSgpKSB8fFxyXG4gICAgICBlbXAuZW1haWwudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxdWVyeS50b0xvd2VyQ2FzZSgpKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGdldEVtcGxveWVlc0J5RGVwYXJ0bWVudChkZXBhcnRtZW50OiBzdHJpbmcpOiBQcm9taXNlPFN1cmVQYXlyb2xsRW1wbG95ZWVbXT4ge1xyXG4gICAgY29uc3QgZW1wbG95ZWVzID0gYXdhaXQgdGhpcy5nZXRBbGxFbXBsb3llZXMoKTtcclxuICAgIHJldHVybiBlbXBsb3llZXMuZmlsdGVyKGVtcCA9PiBlbXAuZGVwYXJ0bWVudCA9PT0gZGVwYXJ0bWVudCk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBnZXRBY3RpdmVFbXBsb3llZXMoKTogUHJvbWlzZTxTdXJlUGF5cm9sbEVtcGxveWVlW10+IHtcclxuICAgIGNvbnN0IGVtcGxveWVlcyA9IGF3YWl0IHRoaXMuZ2V0QWxsRW1wbG95ZWVzKCk7XHJcbiAgICByZXR1cm4gZW1wbG95ZWVzLmZpbHRlcihlbXAgPT4gZW1wLnN0YXR1cyA9PT0gJ2FjdGl2ZScpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGxldCBzdXJlcGF5cm9sbFNlcnZpY2U6IFN1cmVQYXlyb2xsU2VydmljZSB8IG51bGwgPSBudWxsO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNvbmZpZ3VyZVN1cmVQYXlyb2xsID0gKGNvbmZpZzogU3VyZVBheXJvbGxDb25maWcpID0+IHtcclxuICBzdXJlcGF5cm9sbFNlcnZpY2UgPSBuZXcgU3VyZVBheXJvbGxTZXJ2aWNlKGNvbmZpZyk7XHJcbiAgY29uc29sZS5sb2coYFN1cmVQYXlyb2xsIHNlcnZpY2UgY29uZmlndXJlZCBmb3IgY2xpZW50IElEOiAke2NvbmZpZy5jbGllbnRJZH1gKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRTdXJlUGF5cm9sbFNlcnZpY2UgPSAoKTogU3VyZVBheXJvbGxTZXJ2aWNlID0+IHtcclxuICBpZiAoIXN1cmVwYXlyb2xsU2VydmljZSkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdTdXJlUGF5cm9sbCBzZXJ2aWNlIG5vdCBjb25maWd1cmVkLiBDYWxsIGNvbmZpZ3VyZVN1cmVQYXlyb2xsIGZpcnN0LicpO1xyXG4gIH1cclxuICByZXR1cm4gc3VyZXBheXJvbGxTZXJ2aWNlO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGltcG9ydFN1cmVQYXlyb2xsRW1wbG95ZWVzID0gYXN5bmMgKCk6IFByb21pc2U8RW1wbG95ZWVbXT4gPT4ge1xyXG4gIGNvbnN0IHNlcnZpY2UgPSBnZXRTdXJlUGF5cm9sbFNlcnZpY2UoKTtcclxuICByZXR1cm4gYXdhaXQgc2VydmljZS5pbXBvcnRFbXBsb3llZXMoKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBpbXBvcnRTdXJlUGF5cm9sbFNhbGFyaWVzID0gYXN5bmMgKCk6IFByb21pc2U8RW1wbG95ZWVTYWxhcnlbXT4gPT4ge1xyXG4gIGNvbnN0IHNlcnZpY2UgPSBnZXRTdXJlUGF5cm9sbFNlcnZpY2UoKTtcclxuICByZXR1cm4gYXdhaXQgc2VydmljZS5pbXBvcnRTYWxhcmllcygpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGltcG9ydFN1cmVQYXlyb2xsRGF0YSA9IGFzeW5jICgpOiBQcm9taXNlPFNhbGFyeUltcG9ydD4gPT4ge1xyXG4gIGNvbnN0IHNlcnZpY2UgPSBnZXRTdXJlUGF5cm9sbFNlcnZpY2UoKTtcclxuICByZXR1cm4gYXdhaXQgc2VydmljZS5pbXBvcnRBbGxEYXRhKCk7XHJcbn07XHJcbiJdLCJuYW1lcyI6WyJTdXJlUGF5cm9sbFNlcnZpY2UiLCJjb25zdHJ1Y3RvciIsImNvbmZpZyIsImJhc2VVcmwiLCJtYWtlUmVxdWVzdCIsImVuZHBvaW50Iiwib3B0aW9ucyIsInVybCIsImhlYWRlcnMiLCJhcGlLZXkiLCJjbGllbnRJZCIsInJlc3BvbnNlIiwiZmV0Y2giLCJvayIsIkVycm9yIiwic3RhdHVzIiwic3RhdHVzVGV4dCIsImpzb24iLCJlcnJvciIsImNvbnNvbGUiLCJnZXRBbGxFbXBsb3llZXMiLCJlbXBsb3llZXMiLCJnZXRFbXBsb3llZSIsImVtcGxveWVlSWQiLCJlbXBsb3llZSIsImdldEVtcGxveWVlRGlyZWN0b3J5IiwiZ2V0RW1wbG95ZWVDb21wZW5zYXRpb24iLCJjb21wZW5zYXRpb24iLCJnZXRDb21wZW5zYXRpb25IaXN0b3J5Iiwic3RhcnREYXRlIiwiZW5kRGF0ZSIsInBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsImFwcGVuZCIsInRvU3RyaW5nIiwiZ2V0RW1wbG95ZWVUaW1lT2ZmIiwidGltZU9mZiIsImdldEFsbFRpbWVPZmYiLCJnZXRDdXN0b21SZXBvcnQiLCJyZXBvcnRJZCIsInJlcG9ydCIsImNyZWF0ZUN1c3RvbVJlcG9ydCIsInJlcG9ydERhdGEiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImdldENvbXBhbnlJbmZvIiwiY29tcGFueSIsImNyZWF0ZVdlYmhvb2siLCJ3ZWJob29rRGF0YSIsIndlYmhvb2siLCJnZXRXZWJob29rcyIsIndlYmhvb2tzIiwiZGVsZXRlV2ViaG9vayIsIndlYmhvb2tJZCIsImNhbGN1bGF0ZUhvdXJseVJhdGUiLCJhbm51YWxTYWxhcnkiLCJwYXlTY2hlZHVsZSIsImhvdXJzUGVyWWVhciIsImltcG9ydEVtcGxveWVlcyIsInN1cmVwYXlyb2xsRW1wbG95ZWVzIiwibWFwIiwiZW1wIiwiaWQiLCJuYW1lIiwiZGlzcGxheU5hbWUiLCJlbWFpbCIsImRlcGFydG1lbnQiLCJwb3NpdGlvbiIsImpvYlRpdGxlIiwiaGlyZURhdGUiLCJ0ZXJtaW5hdGlvbkRhdGUiLCJpbXBvcnRTYWxhcmllcyIsInNhbGFyaWVzIiwiY29tcGVuc2F0aW9ucyIsImNvbXAiLCJwdXNoIiwiZWZmZWN0aXZlRGF0ZSIsImhvdXJseVJhdGUiLCJjdXJyZW5jeSIsIm5vdGVzIiwicGF5VHlwZSIsImltcG9ydEFsbERhdGEiLCJzb3VyY2UiLCJpbXBvcnREYXRlIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwicmVjb3Jkc0ltcG9ydGVkIiwibGVuZ3RoIiwiZXJyb3JzIiwibWVzc2FnZSIsInNlYXJjaEVtcGxveWVlcyIsInF1ZXJ5IiwiZmlsdGVyIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsImdldEVtcGxveWVlc0J5RGVwYXJ0bWVudCIsImdldEFjdGl2ZUVtcGxveWVlcyIsInN1cmVwYXlyb2xsU2VydmljZSIsImNvbmZpZ3VyZVN1cmVQYXlyb2xsIiwibG9nIiwiZ2V0U3VyZVBheXJvbGxTZXJ2aWNlIiwiaW1wb3J0U3VyZVBheXJvbGxFbXBsb3llZXMiLCJzZXJ2aWNlIiwiaW1wb3J0U3VyZVBheXJvbGxTYWxhcmllcyIsImltcG9ydFN1cmVQYXlyb2xsRGF0YSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/surepayroll.ts\n");

/***/ }),

/***/ "(rsc)/./lib/zoho.ts":
/*!*********************!*\
  !*** ./lib/zoho.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fetchInvoices: () => (/* binding */ fetchInvoices),\n/* harmony export */   fetchProjects: () => (/* binding */ fetchProjects),\n/* harmony export */   zohoService: () => (/* binding */ zohoService)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"(rsc)/./node_modules/axios/lib/axios.js\");\n\nclass ZohoService {\n    constructor(){\n        this.accessToken = null;\n        this.tokenExpiry = 0;\n        this.refreshPromise = null;\n        this.TOKEN_REFRESH_BUFFER = 5 * 60 * 1000 // 5 minutes buffer\n        ;\n        this.autoRefreshTimer = null;\n        this.AUTO_REFRESH_INTERVAL = 45 * 60 * 1000 // 45 minutes\n        ;\n        this.lastRefreshTime = 0 // Track when auto-refresh was last triggered\n        ;\n        // Start automatic token refresh\n        this._startAutoRefresh();\n    }\n    _startAutoRefresh() {\n        // Clear any existing timer\n        if (this.autoRefreshTimer) {\n            clearInterval(this.autoRefreshTimer);\n        }\n        // Set up automatic refresh every 45 minutes\n        this.autoRefreshTimer = setInterval(async ()=>{\n            try {\n                console.log(\"Auto-refreshing Zoho token (45-minute interval)...\");\n                this.lastRefreshTime = Date.now(); // Track when refresh was triggered\n                await this.forceRefreshToken();\n                console.log(\"Auto-refresh completed successfully\");\n            } catch (error) {\n                console.error(\"Auto-refresh failed:\", error);\n            }\n        }, this.AUTO_REFRESH_INTERVAL);\n        // Set initial refresh time\n        this.lastRefreshTime = Date.now();\n        console.log(\"Automatic Zoho token refresh started (every 45 minutes)\");\n    }\n    _stopAutoRefresh() {\n        if (this.autoRefreshTimer) {\n            clearInterval(this.autoRefreshTimer);\n            this.autoRefreshTimer = null;\n            console.log(\"Automatic Zoho token refresh stopped\");\n        }\n    }\n    async getAccessToken() {\n        // Check if token is still valid (with buffer)\n        if (this.accessToken && Date.now() < this.tokenExpiry - this.TOKEN_REFRESH_BUFFER) {\n            return this.accessToken;\n        }\n        // If there's already a refresh in progress, wait for it\n        if (this.refreshPromise) {\n            return this.refreshPromise;\n        }\n        // Start a new refresh\n        this.refreshPromise = this.refreshAccessToken();\n        try {\n            const token = await this.refreshPromise;\n            return token;\n        } finally{\n            this.refreshPromise = null;\n        }\n    }\n    async refreshAccessToken() {\n        try {\n            console.log(\"Refreshing Zoho access token...\");\n            // Create form data for the request\n            const formData = new URLSearchParams();\n            formData.append(\"refresh_token\", \"1000.4bf26c4881dfba83aae32546453d662d.a9353e91362a18c457b5cbec86b10ed2\" || 0);\n            formData.append(\"client_id\", \"1000.8RL8WMTDXS0WIP2EJF2XUS6NDSLQEP\" || 0);\n            formData.append(\"client_secret\", \"8a7ee3c04f0a0d860dd215c4449deab9bf15d1d00b\" || 0);\n            formData.append(\"grant_type\", \"refresh_token\");\n            const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(\"https://accounts.zoho.com/oauth/v2/token\", formData, {\n                headers: {\n                    \"Content-Type\": \"application/x-www-form-urlencoded\"\n                }\n            });\n            this.accessToken = response.data.access_token;\n            this.tokenExpiry = Date.now() + response.data.expires_in * 1000;\n            console.log(`Token refreshed successfully. Expires in ${Math.round(response.data.expires_in / 60)} minutes`);\n            return this.accessToken;\n        } catch (error) {\n            console.error(\"Error refreshing Zoho access token:\", error);\n            throw new Error(\"Failed to authenticate with Zoho\");\n        }\n    }\n    async makeRequest(endpoint) {\n        const token = await this.getAccessToken();\n        try {\n            const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(`https://www.zohoapis.com/books/v3/${endpoint}`, {\n                headers: {\n                    \"Authorization\": `Bearer ${token}`,\n                    \"Content-Type\": \"application/json\"\n                },\n                params: {\n                    organization_id: \"652094923\"\n                }\n            });\n            return response.data;\n        } catch (error) {\n            // If we get a 401, try refreshing the token once\n            if (error.response?.status === 401) {\n                console.log(\"Token expired, refreshing...\");\n                this.accessToken = null;\n                this.tokenExpiry = 0;\n                const newToken = await this.getAccessToken();\n                // Retry the request with the new token\n                const retryResponse = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(`https://www.zohoapis.com/books/v3/${endpoint}`, {\n                    headers: {\n                        \"Authorization\": `Bearer ${newToken}`,\n                        \"Content-Type\": \"application/json\"\n                    },\n                    params: {\n                        organization_id: \"652094923\"\n                    }\n                });\n                return retryResponse.data;\n            }\n            console.error(`Error making Zoho request to ${endpoint}:`, error);\n            throw new Error(`Failed to fetch data from Zoho: ${endpoint}`);\n        }\n    }\n    async getProjects() {\n        try {\n            let allProjects = [];\n            let page = 1;\n            const perPage = 200;\n            while(true){\n                const data = await this.makeRequest(`projects?page=${page}&per_page=${perPage}`);\n                const projects = data.projects?.map((project)=>{\n                    // Log the first project to see available fields\n                    if (page === 1 && allProjects.length === 0) {\n                        console.log(\"Sample Zoho project data:\", JSON.stringify(project, null, 2));\n                    }\n                    return {\n                        project_id: project.project_id,\n                        project_name: project.project_name || project.name || \"\",\n                        description: project.description || \"\",\n                        status: project.status || \"active\",\n                        start_date: project.start_date || \"\",\n                        end_date: project.end_date || \"\",\n                        budget_amount: project.budget_amount || 0,\n                        rate_per_hour: project.rate_per_hour || 0,\n                        customer_id: project.customer_id || \"\",\n                        customer_name: project.customer_name || \"\",\n                        signed_fee: undefined\n                    };\n                }) || [];\n                allProjects = allProjects.concat(projects);\n                // Check if we've reached the end\n                if (projects.length < perPage) {\n                    break;\n                }\n                page++;\n            }\n            console.log(`Fetched ${allProjects.length} projects from Zoho`);\n            return allProjects;\n        } catch (error) {\n            console.error(\"Error fetching projects:\", error);\n            return [];\n        }\n    }\n    async getProjectsWithRevenueBudget() {\n        try {\n            console.log(\"Fetching projects with revenue budget data...\");\n            const projects = await this.getProjects();\n            // Log projects that have revenue_budget data\n            const projectsWithRevenueBudget = projects.filter((project)=>{\n                const hasRevenueBudget = project.signed_fee && project.signed_fee > 0;\n                if (hasRevenueBudget) {\n                    console.log(`Project ${project.project_name} has revenue budget: $${project.signed_fee}`);\n                }\n                return hasRevenueBudget;\n            });\n            console.log(`Found ${projectsWithRevenueBudget.length} projects with revenue budget data`);\n            return projects;\n        } catch (error) {\n            console.error(\"Error fetching projects with revenue budget:\", error);\n            return [];\n        }\n    }\n    async debugProjectFields() {\n        try {\n            console.log(\"Debugging Zoho project fields...\");\n            const data = await this.makeRequest(\"projects?page=1&per_page=5\");\n            if (data.projects && data.projects.length > 0) {\n                console.log(\"Available fields in Zoho project response:\");\n                const sampleProject = data.projects[0];\n                Object.keys(sampleProject).forEach((key)=>{\n                    console.log(`  ${key}: ${sampleProject[key]} (${typeof sampleProject[key]})`);\n                });\n                // Check specifically for revenue_budget\n                if (sampleProject.revenue_budget !== undefined) {\n                    console.log(` Found revenue_budget field: ${sampleProject.revenue_budget}`);\n                } else {\n                    console.log(\" revenue_budget field not found in Zoho response\");\n                    console.log(\"Available budget-related fields:\");\n                    Object.keys(sampleProject).forEach((key)=>{\n                        if (key.toLowerCase().includes(\"budget\") || key.toLowerCase().includes(\"revenue\")) {\n                            console.log(`  ${key}: ${sampleProject[key]}`);\n                        }\n                    });\n                }\n            } else {\n                console.log(\"No projects found in Zoho response\");\n            }\n        } catch (error) {\n            console.error(\"Error debugging project fields:\", error);\n        }\n    }\n    async getProjectsWithEstimates() {\n        try {\n            const projects = await this.getProjects();\n            // For the first few projects, try to get estimates to see if that contains the signed fee\n            const projectsWithEstimates = await Promise.all(projects.slice(0, 5).map(async (project)=>{\n                try {\n                    const estimates = await this.getProjectEstimates(project.project_id);\n                    const totalEstimateAmount = estimates.reduce((sum, estimate)=>sum + (estimate.total || 0), 0);\n                    console.log(`Project ${project.project_name} estimates:`, estimates.length, \"total amount:\", totalEstimateAmount);\n                    return {\n                        ...project,\n                        signed_fee: project.signed_fee || totalEstimateAmount || 0\n                    };\n                } catch (error) {\n                    console.error(`Error fetching estimates for project ${project.project_id}:`, error);\n                    return project;\n                }\n            }));\n            // Return all projects, with the first 5 having updated signed fees from estimates\n            return [\n                ...projectsWithEstimates,\n                ...projects.slice(5)\n            ];\n        } catch (error) {\n            console.error(\"Error fetching projects with estimates:\", error);\n            return [];\n        }\n    }\n    async getProjectsWithInvoiceTotals() {\n        try {\n            const [projects, invoices] = await Promise.all([\n                this.getProjects(),\n                this.getInvoices()\n            ]);\n            // Calculate signed fee as total of all invoices for each project\n            const projectsWithInvoiceTotals = projects.map((project)=>{\n                const projectInvoices = invoices.filter((invoice)=>invoice.project_id === project.project_id);\n                const totalInvoiceAmount = projectInvoices.reduce((sum, invoice)=>sum + invoice.amount, 0);\n                console.log(`Project ${project.project_name} invoices:`, projectInvoices.length, \"total amount:\", totalInvoiceAmount);\n                return {\n                    ...project,\n                    signed_fee: project.signed_fee || totalInvoiceAmount || 0\n                };\n            });\n            return projectsWithInvoiceTotals;\n        } catch (error) {\n            console.error(\"Error fetching projects with invoice totals:\", error);\n            return [];\n        }\n    }\n    async getInvoices() {\n        try {\n            const data = await this.makeRequest(\"invoices\");\n            return data.invoices?.map((invoice)=>({\n                    invoice_id: invoice.invoice_id,\n                    project_id: invoice.project_id,\n                    invoice_number: invoice.invoice_number,\n                    date: invoice.date,\n                    amount: invoice.total,\n                    status: invoice.status,\n                    billed_amount: invoice.billed_amount || 0,\n                    unbilled_amount: invoice.unbilled_amount || 0\n                })) || [];\n        } catch (error) {\n            console.error(\"Error fetching invoices:\", error);\n            return [];\n        }\n    }\n    async getProjectInvoices(projectId) {\n        try {\n            const data = await this.makeRequest(`projects/${projectId}/invoices`);\n            return data.invoices?.map((invoice)=>({\n                    invoice_id: invoice.invoice_id,\n                    project_id: invoice.project_id,\n                    invoice_number: invoice.invoice_number,\n                    date: invoice.date,\n                    amount: invoice.total,\n                    status: invoice.status,\n                    billed_amount: invoice.billed_amount || 0,\n                    unbilled_amount: invoice.unbilled_amount || 0\n                })) || [];\n        } catch (error) {\n            console.error(\"Error fetching project invoices:\", error);\n            return [];\n        }\n    }\n    async getProjectDetails(projectId) {\n        try {\n            const data = await this.makeRequest(`projects/${projectId}`);\n            console.log(`Project ${projectId} details:`, JSON.stringify(data, null, 2));\n            return data;\n        } catch (error) {\n            console.error(\"Error fetching project details:\", error);\n            return null;\n        }\n    }\n    async getProjectEstimates(projectId) {\n        try {\n            const data = await this.makeRequest(`projects/${projectId}/estimates`);\n            console.log(`Project ${projectId} estimates:`, JSON.stringify(data, null, 2));\n            return data.estimates || [];\n        } catch (error) {\n            console.error(\"Error fetching project estimates:\", error);\n            return [];\n        }\n    }\n    async getProjectContracts(projectId) {\n        try {\n            const data = await this.makeRequest(`projects/${projectId}/contracts`);\n            console.log(`Project ${projectId} contracts:`, JSON.stringify(data, null, 2));\n            return data.contracts || [];\n        } catch (error) {\n            console.error(\"Error fetching project contracts:\", error);\n            return [];\n        }\n    }\n    // Method to manually refresh token (for testing)\n    async forceRefreshToken() {\n        this.accessToken = null;\n        this.tokenExpiry = 0;\n        this.lastRefreshTime = Date.now(); // Track manual refresh time\n        await this.getAccessToken();\n    }\n    // Get token status for debugging\n    getTokenStatus() {\n        const now = Date.now();\n        return {\n            hasToken: !!this.accessToken,\n            expiresIn: this.tokenExpiry - now,\n            isExpired: now >= this.tokenExpiry\n        };\n    }\n    // Method to get auto-refresh status\n    getAutoRefreshStatus() {\n        const now = Date.now();\n        const timeSinceLastRefresh = now - this.lastRefreshTime;\n        const nextRefreshIn = Math.max(0, this.AUTO_REFRESH_INTERVAL - timeSinceLastRefresh);\n        return {\n            isActive: !!this.autoRefreshTimer,\n            nextRefreshIn\n        };\n    }\n    // Public method to start auto-refresh\n    enableAutoRefresh() {\n        this._startAutoRefresh();\n    }\n    // Public method to stop auto-refresh\n    disableAutoRefresh() {\n        this._stopAutoRefresh();\n    }\n    // Public method to get comprehensive status\n    getStatus() {\n        return {\n            ...this.getTokenStatus(),\n            autoRefresh: this.getAutoRefreshStatus()\n        };\n    }\n}\nconst zohoService = new ZohoService();\n// Export the functions that are being imported in page.tsx\nconst fetchProjects = async ()=>{\n    try {\n        console.log(\"Client: Fetching projects from API\");\n        const response = await fetch(\"/api/projects\");\n        const result = await response.json();\n        if (result.success) {\n            console.log(\"Client: Successfully fetched\", result.count, \"projects\");\n            return result.data;\n        } else {\n            console.error(\"Client: API returned error:\", result.error);\n            throw new Error(result.error);\n        }\n    } catch (error) {\n        console.error(\"Client: Error fetching projects:\", error);\n        throw error;\n    }\n};\nconst fetchInvoices = async ()=>{\n    try {\n        console.log(\"Client: Fetching invoices from API\");\n        const response = await fetch(\"/api/invoices\");\n        const result = await response.json();\n        if (result.success) {\n            console.log(\"Client: Successfully fetched\", result.count, \"invoices\");\n            return result.data;\n        } else {\n            console.error(\"Client: API returned error:\", result.error);\n            throw new Error(result.error);\n        }\n    } catch (error) {\n        console.error(\"Client: Error fetching invoices:\", error);\n        throw error;\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvem9oby50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTBCO0FBbUMxQixNQUFNQztJQVNKQyxhQUFjO2FBUk5DLGNBQTZCO2FBQzdCQyxjQUFzQjthQUN0QkMsaUJBQXlDO2FBQ2hDQyx1QkFBdUIsSUFBSSxLQUFLLEtBQU0sbUJBQW1COzthQUNsRUMsbUJBQTBDO2FBQ2pDQyx3QkFBd0IsS0FBSyxLQUFLLEtBQU0sYUFBYTs7YUFDOURDLGtCQUEwQixFQUFHLDZDQUE2Qzs7UUFHaEYsZ0NBQWdDO1FBQ2hDLElBQUksQ0FBQ0MsaUJBQWlCO0lBQ3hCO0lBRVFBLG9CQUEwQjtRQUNoQywyQkFBMkI7UUFDM0IsSUFBSSxJQUFJLENBQUNILGdCQUFnQixFQUFFO1lBQ3pCSSxjQUFjLElBQUksQ0FBQ0osZ0JBQWdCO1FBQ3JDO1FBRUEsNENBQTRDO1FBQzVDLElBQUksQ0FBQ0EsZ0JBQWdCLEdBQUdLLFlBQVk7WUFDbEMsSUFBSTtnQkFDRkMsUUFBUUMsR0FBRyxDQUFDO2dCQUNaLElBQUksQ0FBQ0wsZUFBZSxHQUFHTSxLQUFLQyxHQUFHLElBQUksbUNBQW1DO2dCQUN0RSxNQUFNLElBQUksQ0FBQ0MsaUJBQWlCO2dCQUM1QkosUUFBUUMsR0FBRyxDQUFDO1lBQ2QsRUFBRSxPQUFPSSxPQUFPO2dCQUNkTCxRQUFRSyxLQUFLLENBQUMsd0JBQXdCQTtZQUN4QztRQUNGLEdBQUcsSUFBSSxDQUFDVixxQkFBcUI7UUFFN0IsMkJBQTJCO1FBQzNCLElBQUksQ0FBQ0MsZUFBZSxHQUFHTSxLQUFLQyxHQUFHO1FBQy9CSCxRQUFRQyxHQUFHLENBQUM7SUFDZDtJQUVRSyxtQkFBeUI7UUFDL0IsSUFBSSxJQUFJLENBQUNaLGdCQUFnQixFQUFFO1lBQ3pCSSxjQUFjLElBQUksQ0FBQ0osZ0JBQWdCO1lBQ25DLElBQUksQ0FBQ0EsZ0JBQWdCLEdBQUc7WUFDeEJNLFFBQVFDLEdBQUcsQ0FBQztRQUNkO0lBQ0Y7SUFFQSxNQUFjTSxpQkFBa0M7UUFDOUMsOENBQThDO1FBQzlDLElBQUksSUFBSSxDQUFDakIsV0FBVyxJQUFJWSxLQUFLQyxHQUFHLEtBQU0sSUFBSSxDQUFDWixXQUFXLEdBQUcsSUFBSSxDQUFDRSxvQkFBb0IsRUFBRztZQUNuRixPQUFPLElBQUksQ0FBQ0gsV0FBVztRQUN6QjtRQUVBLHdEQUF3RDtRQUN4RCxJQUFJLElBQUksQ0FBQ0UsY0FBYyxFQUFFO1lBQ3ZCLE9BQU8sSUFBSSxDQUFDQSxjQUFjO1FBQzVCO1FBRUEsc0JBQXNCO1FBQ3RCLElBQUksQ0FBQ0EsY0FBYyxHQUFHLElBQUksQ0FBQ2dCLGtCQUFrQjtRQUM3QyxJQUFJO1lBQ0YsTUFBTUMsUUFBUSxNQUFNLElBQUksQ0FBQ2pCLGNBQWM7WUFDdkMsT0FBT2lCO1FBQ1QsU0FBVTtZQUNSLElBQUksQ0FBQ2pCLGNBQWMsR0FBRztRQUN4QjtJQUNGO0lBRUEsTUFBY2dCLHFCQUFzQztRQUNsRCxJQUFJO1lBQ0ZSLFFBQVFDLEdBQUcsQ0FBQztZQUVaLG1DQUFtQztZQUNuQyxNQUFNUyxXQUFXLElBQUlDO1lBQ3JCRCxTQUFTRSxNQUFNLENBQUMsaUJBQWlCQyx3RUFBOEIsSUFBSTtZQUNuRUgsU0FBU0UsTUFBTSxDQUFDLGFBQWFDLHFDQUEwQixJQUFJO1lBQzNESCxTQUFTRSxNQUFNLENBQUMsaUJBQWlCQyw0Q0FBOEIsSUFBSTtZQUNuRUgsU0FBU0UsTUFBTSxDQUFDLGNBQWM7WUFFOUIsTUFBTU0sV0FBVyxNQUFNL0IsNkNBQUtBLENBQUNnQyxJQUFJLENBQWdCLDRDQUE0Q1QsVUFBVTtnQkFDckdVLFNBQVM7b0JBQ1AsZ0JBQWdCO2dCQUNsQjtZQUNGO1lBRUEsSUFBSSxDQUFDOUIsV0FBVyxHQUFHNEIsU0FBU0csSUFBSSxDQUFDQyxZQUFZO1lBQzdDLElBQUksQ0FBQy9CLFdBQVcsR0FBR1csS0FBS0MsR0FBRyxLQUFNZSxTQUFTRyxJQUFJLENBQUNFLFVBQVUsR0FBRztZQUU1RHZCLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLHlDQUF5QyxFQUFFdUIsS0FBS0MsS0FBSyxDQUFDUCxTQUFTRyxJQUFJLENBQUNFLFVBQVUsR0FBRyxJQUFJLFFBQVEsQ0FBQztZQUUzRyxPQUFPLElBQUksQ0FBQ2pDLFdBQVc7UUFDekIsRUFBRSxPQUFPZSxPQUFPO1lBQ2RMLFFBQVFLLEtBQUssQ0FBQyx1Q0FBdUNBO1lBQ3JELE1BQU0sSUFBSXFCLE1BQU07UUFDbEI7SUFDRjtJQUVBLE1BQWNDLFlBQVlDLFFBQWdCLEVBQWdCO1FBQ3hELE1BQU1uQixRQUFRLE1BQU0sSUFBSSxDQUFDRixjQUFjO1FBRXZDLElBQUk7WUFDRixNQUFNVyxXQUFXLE1BQU0vQiw2Q0FBS0EsQ0FBQzBDLEdBQUcsQ0FBQyxDQUFDLGtDQUFrQyxFQUFFRCxTQUFTLENBQUMsRUFBRTtnQkFDaEZSLFNBQVM7b0JBQ1AsaUJBQWlCLENBQUMsT0FBTyxFQUFFWCxNQUFNLENBQUM7b0JBQ2xDLGdCQUFnQjtnQkFDbEI7Z0JBQ0FxQixRQUFRO29CQUNOQyxpQkFBaUJsQixXQUFnQztnQkFDbkQ7WUFDRjtZQUVBLE9BQU9LLFNBQVNHLElBQUk7UUFDdEIsRUFBRSxPQUFPaEIsT0FBWTtZQUNuQixpREFBaUQ7WUFDakQsSUFBSUEsTUFBTWEsUUFBUSxFQUFFZSxXQUFXLEtBQUs7Z0JBQ2xDakMsUUFBUUMsR0FBRyxDQUFDO2dCQUNaLElBQUksQ0FBQ1gsV0FBVyxHQUFHO2dCQUNuQixJQUFJLENBQUNDLFdBQVcsR0FBRztnQkFFbkIsTUFBTTJDLFdBQVcsTUFBTSxJQUFJLENBQUMzQixjQUFjO2dCQUUxQyx1Q0FBdUM7Z0JBQ3ZDLE1BQU00QixnQkFBZ0IsTUFBTWhELDZDQUFLQSxDQUFDMEMsR0FBRyxDQUFDLENBQUMsa0NBQWtDLEVBQUVELFNBQVMsQ0FBQyxFQUFFO29CQUNyRlIsU0FBUzt3QkFDUCxpQkFBaUIsQ0FBQyxPQUFPLEVBQUVjLFNBQVMsQ0FBQzt3QkFDckMsZ0JBQWdCO29CQUNsQjtvQkFDQUosUUFBUTt3QkFDTkMsaUJBQWlCbEIsV0FBZ0M7b0JBQ25EO2dCQUNGO2dCQUVBLE9BQU9zQixjQUFjZCxJQUFJO1lBQzNCO1lBRUFyQixRQUFRSyxLQUFLLENBQUMsQ0FBQyw2QkFBNkIsRUFBRXVCLFNBQVMsQ0FBQyxDQUFDLEVBQUV2QjtZQUMzRCxNQUFNLElBQUlxQixNQUFNLENBQUMsZ0NBQWdDLEVBQUVFLFNBQVMsQ0FBQztRQUMvRDtJQUNGO0lBRUEsTUFBTVEsY0FBc0M7UUFDMUMsSUFBSTtZQUNGLElBQUlDLGNBQTZCLEVBQUU7WUFDbkMsSUFBSUMsT0FBTztZQUNYLE1BQU1DLFVBQVU7WUFFaEIsTUFBTyxLQUFNO2dCQUNYLE1BQU1sQixPQUFPLE1BQU0sSUFBSSxDQUFDTSxXQUFXLENBQUMsQ0FBQyxjQUFjLEVBQUVXLEtBQUssVUFBVSxFQUFFQyxRQUFRLENBQUM7Z0JBRS9FLE1BQU1DLFdBQVduQixLQUFLbUIsUUFBUSxFQUFFQyxJQUFJLENBQUNDO29CQUNuQyxnREFBZ0Q7b0JBQ2hELElBQUlKLFNBQVMsS0FBS0QsWUFBWU0sTUFBTSxLQUFLLEdBQUc7d0JBQzFDM0MsUUFBUUMsR0FBRyxDQUFDLDZCQUE2QjJDLEtBQUtDLFNBQVMsQ0FBQ0gsU0FBUyxNQUFNO29CQUN6RTtvQkFFQSxPQUFPO3dCQUNMSSxZQUFZSixRQUFRSSxVQUFVO3dCQUM5QkMsY0FBY0wsUUFBUUssWUFBWSxJQUFJTCxRQUFRTSxJQUFJLElBQUk7d0JBQ3REQyxhQUFhUCxRQUFRTyxXQUFXLElBQUk7d0JBQ3BDaEIsUUFBUVMsUUFBUVQsTUFBTSxJQUFJO3dCQUMxQmlCLFlBQVlSLFFBQVFRLFVBQVUsSUFBSTt3QkFDbENDLFVBQVVULFFBQVFTLFFBQVEsSUFBSTt3QkFDOUJDLGVBQWVWLFFBQVFVLGFBQWEsSUFBSTt3QkFDeENDLGVBQWVYLFFBQVFXLGFBQWEsSUFBSTt3QkFDeENDLGFBQWFaLFFBQVFZLFdBQVcsSUFBSTt3QkFDcENDLGVBQWViLFFBQVFhLGFBQWEsSUFBSTt3QkFDeENDLFlBQVlDO29CQUNkO2dCQUNGLE1BQU0sRUFBRTtnQkFFUnBCLGNBQWNBLFlBQVlxQixNQUFNLENBQUNsQjtnQkFFakMsaUNBQWlDO2dCQUNqQyxJQUFJQSxTQUFTRyxNQUFNLEdBQUdKLFNBQVM7b0JBQzdCO2dCQUNGO2dCQUVBRDtZQUNGO1lBRUF0QyxRQUFRQyxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUVvQyxZQUFZTSxNQUFNLENBQUMsbUJBQW1CLENBQUM7WUFDOUQsT0FBT047UUFDVCxFQUFFLE9BQU9oQyxPQUFPO1lBQ2RMLFFBQVFLLEtBQUssQ0FBQyw0QkFBNEJBO1lBQzFDLE9BQU8sRUFBRTtRQUNYO0lBQ0Y7SUFFQSxNQUFNc0QsK0JBQXVEO1FBQzNELElBQUk7WUFDRjNELFFBQVFDLEdBQUcsQ0FBQztZQUNaLE1BQU11QyxXQUFXLE1BQU0sSUFBSSxDQUFDSixXQUFXO1lBRXZDLDZDQUE2QztZQUM3QyxNQUFNd0IsNEJBQTRCcEIsU0FBU3FCLE1BQU0sQ0FBQ25CLENBQUFBO2dCQUNoRCxNQUFNb0IsbUJBQW1CcEIsUUFBUWMsVUFBVSxJQUFJZCxRQUFRYyxVQUFVLEdBQUc7Z0JBQ3BFLElBQUlNLGtCQUFrQjtvQkFDcEI5RCxRQUFRQyxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUV5QyxRQUFRSyxZQUFZLENBQUMsc0JBQXNCLEVBQUVMLFFBQVFjLFVBQVUsQ0FBQyxDQUFDO2dCQUMxRjtnQkFDQSxPQUFPTTtZQUNUO1lBRUE5RCxRQUFRQyxHQUFHLENBQUMsQ0FBQyxNQUFNLEVBQUUyRCwwQkFBMEJqQixNQUFNLENBQUMsa0NBQWtDLENBQUM7WUFDekYsT0FBT0g7UUFDVCxFQUFFLE9BQU9uQyxPQUFPO1lBQ2RMLFFBQVFLLEtBQUssQ0FBQyxnREFBZ0RBO1lBQzlELE9BQU8sRUFBRTtRQUNYO0lBQ0Y7SUFFQSxNQUFNMEQscUJBQW9DO1FBQ3hDLElBQUk7WUFDRi9ELFFBQVFDLEdBQUcsQ0FBQztZQUNaLE1BQU1vQixPQUFPLE1BQU0sSUFBSSxDQUFDTSxXQUFXLENBQUM7WUFFcEMsSUFBSU4sS0FBS21CLFFBQVEsSUFBSW5CLEtBQUttQixRQUFRLENBQUNHLE1BQU0sR0FBRyxHQUFHO2dCQUM3QzNDLFFBQVFDLEdBQUcsQ0FBQztnQkFDWixNQUFNK0QsZ0JBQWdCM0MsS0FBS21CLFFBQVEsQ0FBQyxFQUFFO2dCQUN0Q3lCLE9BQU9DLElBQUksQ0FBQ0YsZUFBZUcsT0FBTyxDQUFDQyxDQUFBQTtvQkFDakNwRSxRQUFRQyxHQUFHLENBQUMsQ0FBQyxFQUFFLEVBQUVtRSxJQUFJLEVBQUUsRUFBRUosYUFBYSxDQUFDSSxJQUFJLENBQUMsRUFBRSxFQUFFLE9BQU9KLGFBQWEsQ0FBQ0ksSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFDOUU7Z0JBRUEsd0NBQXdDO2dCQUN4QyxJQUFJSixjQUFjSyxjQUFjLEtBQUtaLFdBQVc7b0JBQzlDekQsUUFBUUMsR0FBRyxDQUFDLENBQUMsOEJBQThCLEVBQUUrRCxjQUFjSyxjQUFjLENBQUMsQ0FBQztnQkFDN0UsT0FBTztvQkFDTHJFLFFBQVFDLEdBQUcsQ0FBQztvQkFDWkQsUUFBUUMsR0FBRyxDQUFDO29CQUNaZ0UsT0FBT0MsSUFBSSxDQUFDRixlQUFlRyxPQUFPLENBQUNDLENBQUFBO3dCQUNqQyxJQUFJQSxJQUFJRSxXQUFXLEdBQUdDLFFBQVEsQ0FBQyxhQUFhSCxJQUFJRSxXQUFXLEdBQUdDLFFBQVEsQ0FBQyxZQUFZOzRCQUNqRnZFLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsRUFBRW1FLElBQUksRUFBRSxFQUFFSixhQUFhLENBQUNJLElBQUksQ0FBQyxDQUFDO3dCQUMvQztvQkFDRjtnQkFDRjtZQUNGLE9BQU87Z0JBQ0xwRSxRQUFRQyxHQUFHLENBQUM7WUFDZDtRQUNGLEVBQUUsT0FBT0ksT0FBTztZQUNkTCxRQUFRSyxLQUFLLENBQUMsbUNBQW1DQTtRQUNuRDtJQUNGO0lBRUEsTUFBTW1FLDJCQUFtRDtRQUN2RCxJQUFJO1lBQ0YsTUFBTWhDLFdBQVcsTUFBTSxJQUFJLENBQUNKLFdBQVc7WUFFdkMsMEZBQTBGO1lBQzFGLE1BQU1xQyx3QkFBd0IsTUFBTUMsUUFBUUMsR0FBRyxDQUM3Q25DLFNBQVNvQyxLQUFLLENBQUMsR0FBRyxHQUFHbkMsR0FBRyxDQUFDLE9BQU9DO2dCQUM5QixJQUFJO29CQUNGLE1BQU1tQyxZQUFZLE1BQU0sSUFBSSxDQUFDQyxtQkFBbUIsQ0FBQ3BDLFFBQVFJLFVBQVU7b0JBQ25FLE1BQU1pQyxzQkFBc0JGLFVBQVVHLE1BQU0sQ0FBQyxDQUFDQyxLQUFLQyxXQUFhRCxNQUFPQyxDQUFBQSxTQUFTQyxLQUFLLElBQUksSUFBSTtvQkFFN0ZuRixRQUFRQyxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUV5QyxRQUFRSyxZQUFZLENBQUMsV0FBVyxDQUFDLEVBQUU4QixVQUFVbEMsTUFBTSxFQUFFLGlCQUFpQm9DO29CQUU3RixPQUFPO3dCQUNMLEdBQUdyQyxPQUFPO3dCQUNWYyxZQUFZZCxRQUFRYyxVQUFVLElBQUl1Qix1QkFBdUI7b0JBQzNEO2dCQUNGLEVBQUUsT0FBTzFFLE9BQU87b0JBQ2RMLFFBQVFLLEtBQUssQ0FBQyxDQUFDLHFDQUFxQyxFQUFFcUMsUUFBUUksVUFBVSxDQUFDLENBQUMsQ0FBQyxFQUFFekM7b0JBQzdFLE9BQU9xQztnQkFDVDtZQUNGO1lBR0Ysa0ZBQWtGO1lBQ2xGLE9BQU87bUJBQ0YrQjttQkFDQWpDLFNBQVNvQyxLQUFLLENBQUM7YUFDbkI7UUFDSCxFQUFFLE9BQU92RSxPQUFPO1lBQ2RMLFFBQVFLLEtBQUssQ0FBQywyQ0FBMkNBO1lBQ3pELE9BQU8sRUFBRTtRQUNYO0lBQ0Y7SUFFQSxNQUFNK0UsK0JBQXVEO1FBQzNELElBQUk7WUFDRixNQUFNLENBQUM1QyxVQUFVNkMsU0FBUyxHQUFHLE1BQU1YLFFBQVFDLEdBQUcsQ0FBQztnQkFDN0MsSUFBSSxDQUFDdkMsV0FBVztnQkFDaEIsSUFBSSxDQUFDa0QsV0FBVzthQUNqQjtZQUVELGlFQUFpRTtZQUNqRSxNQUFNQyw0QkFBNEIvQyxTQUFTQyxHQUFHLENBQUNDLENBQUFBO2dCQUM3QyxNQUFNOEMsa0JBQWtCSCxTQUFTeEIsTUFBTSxDQUFDNEIsQ0FBQUEsVUFBV0EsUUFBUTNDLFVBQVUsS0FBS0osUUFBUUksVUFBVTtnQkFDNUYsTUFBTTRDLHFCQUFxQkYsZ0JBQWdCUixNQUFNLENBQUMsQ0FBQ0MsS0FBS1EsVUFBWVIsTUFBTVEsUUFBUUUsTUFBTSxFQUFFO2dCQUUxRjNGLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLFFBQVEsRUFBRXlDLFFBQVFLLFlBQVksQ0FBQyxVQUFVLENBQUMsRUFBRXlDLGdCQUFnQjdDLE1BQU0sRUFBRSxpQkFBaUIrQztnQkFFbEcsT0FBTztvQkFDTCxHQUFHaEQsT0FBTztvQkFDVmMsWUFBWWQsUUFBUWMsVUFBVSxJQUFJa0Msc0JBQXNCO2dCQUMxRDtZQUNGO1lBRUEsT0FBT0g7UUFDVCxFQUFFLE9BQU9sRixPQUFPO1lBQ2RMLFFBQVFLLEtBQUssQ0FBQyxnREFBZ0RBO1lBQzlELE9BQU8sRUFBRTtRQUNYO0lBQ0Y7SUFFQSxNQUFNaUYsY0FBc0M7UUFDMUMsSUFBSTtZQUNGLE1BQU1qRSxPQUFPLE1BQU0sSUFBSSxDQUFDTSxXQUFXLENBQUM7WUFDcEMsT0FBT04sS0FBS2dFLFFBQVEsRUFBRTVDLElBQUksQ0FBQ2dELFVBQWtCO29CQUMzQ0csWUFBWUgsUUFBUUcsVUFBVTtvQkFDOUI5QyxZQUFZMkMsUUFBUTNDLFVBQVU7b0JBQzlCK0MsZ0JBQWdCSixRQUFRSSxjQUFjO29CQUN0Q0MsTUFBTUwsUUFBUUssSUFBSTtvQkFDbEJILFFBQVFGLFFBQVFOLEtBQUs7b0JBQ3JCbEQsUUFBUXdELFFBQVF4RCxNQUFNO29CQUN0QjhELGVBQWVOLFFBQVFNLGFBQWEsSUFBSTtvQkFDeENDLGlCQUFpQlAsUUFBUU8sZUFBZSxJQUFJO2dCQUM5QyxPQUFPLEVBQUU7UUFDWCxFQUFFLE9BQU8zRixPQUFPO1lBQ2RMLFFBQVFLLEtBQUssQ0FBQyw0QkFBNEJBO1lBQzFDLE9BQU8sRUFBRTtRQUNYO0lBQ0Y7SUFFQSxNQUFNNEYsbUJBQW1CQyxTQUFpQixFQUEwQjtRQUNsRSxJQUFJO1lBQ0YsTUFBTTdFLE9BQU8sTUFBTSxJQUFJLENBQUNNLFdBQVcsQ0FBQyxDQUFDLFNBQVMsRUFBRXVFLFVBQVUsU0FBUyxDQUFDO1lBQ3BFLE9BQU83RSxLQUFLZ0UsUUFBUSxFQUFFNUMsSUFBSSxDQUFDZ0QsVUFBa0I7b0JBQzNDRyxZQUFZSCxRQUFRRyxVQUFVO29CQUM5QjlDLFlBQVkyQyxRQUFRM0MsVUFBVTtvQkFDOUIrQyxnQkFBZ0JKLFFBQVFJLGNBQWM7b0JBQ3RDQyxNQUFNTCxRQUFRSyxJQUFJO29CQUNsQkgsUUFBUUYsUUFBUU4sS0FBSztvQkFDckJsRCxRQUFRd0QsUUFBUXhELE1BQU07b0JBQ3RCOEQsZUFBZU4sUUFBUU0sYUFBYSxJQUFJO29CQUN4Q0MsaUJBQWlCUCxRQUFRTyxlQUFlLElBQUk7Z0JBQzlDLE9BQU8sRUFBRTtRQUNYLEVBQUUsT0FBTzNGLE9BQU87WUFDZEwsUUFBUUssS0FBSyxDQUFDLG9DQUFvQ0E7WUFDbEQsT0FBTyxFQUFFO1FBQ1g7SUFDRjtJQUVBLE1BQU04RixrQkFBa0JELFNBQWlCLEVBQWdCO1FBQ3ZELElBQUk7WUFDRixNQUFNN0UsT0FBTyxNQUFNLElBQUksQ0FBQ00sV0FBVyxDQUFDLENBQUMsU0FBUyxFQUFFdUUsVUFBVSxDQUFDO1lBQzNEbEcsUUFBUUMsR0FBRyxDQUFDLENBQUMsUUFBUSxFQUFFaUcsVUFBVSxTQUFTLENBQUMsRUFBRXRELEtBQUtDLFNBQVMsQ0FBQ3hCLE1BQU0sTUFBTTtZQUN4RSxPQUFPQTtRQUNULEVBQUUsT0FBT2hCLE9BQU87WUFDZEwsUUFBUUssS0FBSyxDQUFDLG1DQUFtQ0E7WUFDakQsT0FBTztRQUNUO0lBQ0Y7SUFFQSxNQUFNeUUsb0JBQW9Cb0IsU0FBaUIsRUFBa0I7UUFDM0QsSUFBSTtZQUNGLE1BQU03RSxPQUFPLE1BQU0sSUFBSSxDQUFDTSxXQUFXLENBQUMsQ0FBQyxTQUFTLEVBQUV1RSxVQUFVLFVBQVUsQ0FBQztZQUNyRWxHLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLFFBQVEsRUFBRWlHLFVBQVUsV0FBVyxDQUFDLEVBQUV0RCxLQUFLQyxTQUFTLENBQUN4QixNQUFNLE1BQU07WUFDMUUsT0FBT0EsS0FBS3dELFNBQVMsSUFBSSxFQUFFO1FBQzdCLEVBQUUsT0FBT3hFLE9BQU87WUFDZEwsUUFBUUssS0FBSyxDQUFDLHFDQUFxQ0E7WUFDbkQsT0FBTyxFQUFFO1FBQ1g7SUFDRjtJQUVBLE1BQU0rRixvQkFBb0JGLFNBQWlCLEVBQWtCO1FBQzNELElBQUk7WUFDRixNQUFNN0UsT0FBTyxNQUFNLElBQUksQ0FBQ00sV0FBVyxDQUFDLENBQUMsU0FBUyxFQUFFdUUsVUFBVSxVQUFVLENBQUM7WUFDckVsRyxRQUFRQyxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUVpRyxVQUFVLFdBQVcsQ0FBQyxFQUFFdEQsS0FBS0MsU0FBUyxDQUFDeEIsTUFBTSxNQUFNO1lBQzFFLE9BQU9BLEtBQUtnRixTQUFTLElBQUksRUFBRTtRQUM3QixFQUFFLE9BQU9oRyxPQUFPO1lBQ2RMLFFBQVFLLEtBQUssQ0FBQyxxQ0FBcUNBO1lBQ25ELE9BQU8sRUFBRTtRQUNYO0lBQ0Y7SUFFQSxpREFBaUQ7SUFDakQsTUFBTUQsb0JBQW1DO1FBQ3ZDLElBQUksQ0FBQ2QsV0FBVyxHQUFHO1FBQ25CLElBQUksQ0FBQ0MsV0FBVyxHQUFHO1FBQ25CLElBQUksQ0FBQ0ssZUFBZSxHQUFHTSxLQUFLQyxHQUFHLElBQUksNEJBQTRCO1FBQy9ELE1BQU0sSUFBSSxDQUFDSSxjQUFjO0lBQzNCO0lBRUEsaUNBQWlDO0lBQ2pDK0YsaUJBQStFO1FBQzdFLE1BQU1uRyxNQUFNRCxLQUFLQyxHQUFHO1FBQ3BCLE9BQU87WUFDTG9HLFVBQVUsQ0FBQyxDQUFDLElBQUksQ0FBQ2pILFdBQVc7WUFDNUJrSCxXQUFXLElBQUksQ0FBQ2pILFdBQVcsR0FBR1k7WUFDOUJzRyxXQUFXdEcsT0FBTyxJQUFJLENBQUNaLFdBQVc7UUFDcEM7SUFDRjtJQUVBLG9DQUFvQztJQUNwQ21ILHVCQUFxRTtRQUNuRSxNQUFNdkcsTUFBTUQsS0FBS0MsR0FBRztRQUNwQixNQUFNd0csdUJBQXVCeEcsTUFBTSxJQUFJLENBQUNQLGVBQWU7UUFDdkQsTUFBTWdILGdCQUFnQnBGLEtBQUtxRixHQUFHLENBQUMsR0FBRyxJQUFJLENBQUNsSCxxQkFBcUIsR0FBR2dIO1FBRS9ELE9BQU87WUFDTEcsVUFBVSxDQUFDLENBQUMsSUFBSSxDQUFDcEgsZ0JBQWdCO1lBQ2pDa0g7UUFDRjtJQUNGO0lBRUEsc0NBQXNDO0lBQ3RDRyxvQkFBMEI7UUFDeEIsSUFBSSxDQUFDbEgsaUJBQWlCO0lBQ3hCO0lBRUEscUNBQXFDO0lBQ3JDbUgscUJBQTJCO1FBQ3pCLElBQUksQ0FBQzFHLGdCQUFnQjtJQUN2QjtJQUVBLDRDQUE0QztJQUM1QzJHLFlBS0U7UUFDQSxPQUFPO1lBQ0wsR0FBRyxJQUFJLENBQUNYLGNBQWMsRUFBRTtZQUN4QlksYUFBYSxJQUFJLENBQUNSLG9CQUFvQjtRQUN4QztJQUNGO0FBQ0Y7QUFFTyxNQUFNUyxjQUFjLElBQUkvSCxjQUFjO0FBRTdDLDJEQUEyRDtBQUNwRCxNQUFNZ0ksZ0JBQWdCO0lBQzNCLElBQUk7UUFDRnBILFFBQVFDLEdBQUcsQ0FBQztRQUNaLE1BQU1pQixXQUFXLE1BQU1tRyxNQUFNO1FBQzdCLE1BQU1DLFNBQVMsTUFBTXBHLFNBQVNxRyxJQUFJO1FBRWxDLElBQUlELE9BQU9FLE9BQU8sRUFBRTtZQUNsQnhILFFBQVFDLEdBQUcsQ0FBQyxnQ0FBZ0NxSCxPQUFPRyxLQUFLLEVBQUU7WUFDMUQsT0FBT0gsT0FBT2pHLElBQUk7UUFDcEIsT0FBTztZQUNMckIsUUFBUUssS0FBSyxDQUFDLCtCQUErQmlILE9BQU9qSCxLQUFLO1lBQ3pELE1BQU0sSUFBSXFCLE1BQU00RixPQUFPakgsS0FBSztRQUM5QjtJQUNGLEVBQUUsT0FBT0EsT0FBTztRQUNkTCxRQUFRSyxLQUFLLENBQUMsb0NBQW9DQTtRQUNsRCxNQUFNQTtJQUNSO0FBQ0YsRUFBRTtBQUVLLE1BQU1xSCxnQkFBZ0I7SUFDM0IsSUFBSTtRQUNGMUgsUUFBUUMsR0FBRyxDQUFDO1FBQ1osTUFBTWlCLFdBQVcsTUFBTW1HLE1BQU07UUFDN0IsTUFBTUMsU0FBUyxNQUFNcEcsU0FBU3FHLElBQUk7UUFFbEMsSUFBSUQsT0FBT0UsT0FBTyxFQUFFO1lBQ2xCeEgsUUFBUUMsR0FBRyxDQUFDLGdDQUFnQ3FILE9BQU9HLEtBQUssRUFBRTtZQUMxRCxPQUFPSCxPQUFPakcsSUFBSTtRQUNwQixPQUFPO1lBQ0xyQixRQUFRSyxLQUFLLENBQUMsK0JBQStCaUgsT0FBT2pILEtBQUs7WUFDekQsTUFBTSxJQUFJcUIsTUFBTTRGLE9BQU9qSCxLQUFLO1FBQzlCO0lBQ0YsRUFBRSxPQUFPQSxPQUFPO1FBQ2RMLFFBQVFLLEtBQUssQ0FBQyxvQ0FBb0NBO1FBQ2xELE1BQU1BO0lBQ1I7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vem9oby1iaWxsaW5nLXBsYXRmb3JtLy4vbGliL3pvaG8udHM/ZTcwYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBab2hvUHJvamVjdCB7XHJcbiAgcHJvamVjdF9pZDogc3RyaW5nO1xyXG4gIHByb2plY3RfbmFtZTogc3RyaW5nOyAvLyBDaGFuZ2VkIGZyb20gbmFtZSB0byBwcm9qZWN0X25hbWVcclxuICBkZXNjcmlwdGlvbj86IHN0cmluZztcclxuICBzdGF0dXM6IHN0cmluZztcclxuICBzdGFydF9kYXRlOiBzdHJpbmc7XHJcbiAgZW5kX2RhdGU/OiBzdHJpbmc7XHJcbiAgYnVkZ2V0X2Ftb3VudD86IG51bWJlcjtcclxuICByYXRlX3Blcl9ob3VyPzogbnVtYmVyO1xyXG4gIGN1c3RvbWVyX2lkOiBzdHJpbmc7XHJcbiAgY3VzdG9tZXJfbmFtZTogc3RyaW5nO1xyXG4gIHNpZ25lZF9mZWU/OiBudW1iZXI7IC8vIEFkZGVkIGZvciBTaWduZWQgRmVlIGZyb20gWm9ob1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFpvaG9JbnZvaWNlIHtcclxuICBpbnZvaWNlX2lkOiBzdHJpbmc7XHJcbiAgcHJvamVjdF9pZDogc3RyaW5nO1xyXG4gIGludm9pY2VfbnVtYmVyOiBzdHJpbmc7XHJcbiAgZGF0ZTogc3RyaW5nO1xyXG4gIGFtb3VudDogbnVtYmVyO1xyXG4gIHN0YXR1czogc3RyaW5nO1xyXG4gIGJpbGxlZF9hbW91bnQ6IG51bWJlcjtcclxuICB1bmJpbGxlZF9hbW91bnQ6IG51bWJlcjtcclxufVxyXG5cclxuaW50ZXJmYWNlIFRva2VuUmVzcG9uc2Uge1xyXG4gIGFjY2Vzc190b2tlbjogc3RyaW5nO1xyXG4gIGV4cGlyZXNfaW46IG51bWJlcjtcclxuICBhcGlfZG9tYWluOiBzdHJpbmc7XHJcbiAgdG9rZW5fdHlwZTogc3RyaW5nO1xyXG4gIHJlZnJlc2hfdG9rZW4/OiBzdHJpbmc7XHJcbn1cclxuXHJcbmNsYXNzIFpvaG9TZXJ2aWNlIHtcclxuICBwcml2YXRlIGFjY2Vzc1Rva2VuOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcclxuICBwcml2YXRlIHRva2VuRXhwaXJ5OiBudW1iZXIgPSAwO1xyXG4gIHByaXZhdGUgcmVmcmVzaFByb21pc2U6IFByb21pc2U8c3RyaW5nPiB8IG51bGwgPSBudWxsO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgVE9LRU5fUkVGUkVTSF9CVUZGRVIgPSA1ICogNjAgKiAxMDAwOyAvLyA1IG1pbnV0ZXMgYnVmZmVyXHJcbiAgcHJpdmF0ZSBhdXRvUmVmcmVzaFRpbWVyOiBOb2RlSlMuVGltZW91dCB8IG51bGwgPSBudWxsO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgQVVUT19SRUZSRVNIX0lOVEVSVkFMID0gNDUgKiA2MCAqIDEwMDA7IC8vIDQ1IG1pbnV0ZXNcclxuICBwcml2YXRlIGxhc3RSZWZyZXNoVGltZTogbnVtYmVyID0gMDsgLy8gVHJhY2sgd2hlbiBhdXRvLXJlZnJlc2ggd2FzIGxhc3QgdHJpZ2dlcmVkXHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgLy8gU3RhcnQgYXV0b21hdGljIHRva2VuIHJlZnJlc2hcclxuICAgIHRoaXMuX3N0YXJ0QXV0b1JlZnJlc2goKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX3N0YXJ0QXV0b1JlZnJlc2goKTogdm9pZCB7XHJcbiAgICAvLyBDbGVhciBhbnkgZXhpc3RpbmcgdGltZXJcclxuICAgIGlmICh0aGlzLmF1dG9SZWZyZXNoVGltZXIpIHtcclxuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmF1dG9SZWZyZXNoVGltZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNldCB1cCBhdXRvbWF0aWMgcmVmcmVzaCBldmVyeSA0NSBtaW51dGVzXHJcbiAgICB0aGlzLmF1dG9SZWZyZXNoVGltZXIgPSBzZXRJbnRlcnZhbChhc3luYyAoKSA9PiB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0F1dG8tcmVmcmVzaGluZyBab2hvIHRva2VuICg0NS1taW51dGUgaW50ZXJ2YWwpLi4uJyk7XHJcbiAgICAgICAgdGhpcy5sYXN0UmVmcmVzaFRpbWUgPSBEYXRlLm5vdygpOyAvLyBUcmFjayB3aGVuIHJlZnJlc2ggd2FzIHRyaWdnZXJlZFxyXG4gICAgICAgIGF3YWl0IHRoaXMuZm9yY2VSZWZyZXNoVG9rZW4oKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnQXV0by1yZWZyZXNoIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHknKTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdBdXRvLXJlZnJlc2ggZmFpbGVkOicsIGVycm9yKTtcclxuICAgICAgfVxyXG4gICAgfSwgdGhpcy5BVVRPX1JFRlJFU0hfSU5URVJWQUwpO1xyXG5cclxuICAgIC8vIFNldCBpbml0aWFsIHJlZnJlc2ggdGltZVxyXG4gICAgdGhpcy5sYXN0UmVmcmVzaFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgY29uc29sZS5sb2coJ0F1dG9tYXRpYyBab2hvIHRva2VuIHJlZnJlc2ggc3RhcnRlZCAoZXZlcnkgNDUgbWludXRlcyknKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX3N0b3BBdXRvUmVmcmVzaCgpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmF1dG9SZWZyZXNoVGltZXIpIHtcclxuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmF1dG9SZWZyZXNoVGltZXIpO1xyXG4gICAgICB0aGlzLmF1dG9SZWZyZXNoVGltZXIgPSBudWxsO1xyXG4gICAgICBjb25zb2xlLmxvZygnQXV0b21hdGljIFpvaG8gdG9rZW4gcmVmcmVzaCBzdG9wcGVkJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFzeW5jIGdldEFjY2Vzc1Rva2VuKCk6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgICAvLyBDaGVjayBpZiB0b2tlbiBpcyBzdGlsbCB2YWxpZCAod2l0aCBidWZmZXIpXHJcbiAgICBpZiAodGhpcy5hY2Nlc3NUb2tlbiAmJiBEYXRlLm5vdygpIDwgKHRoaXMudG9rZW5FeHBpcnkgLSB0aGlzLlRPS0VOX1JFRlJFU0hfQlVGRkVSKSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5hY2Nlc3NUb2tlbjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiB0aGVyZSdzIGFscmVhZHkgYSByZWZyZXNoIGluIHByb2dyZXNzLCB3YWl0IGZvciBpdFxyXG4gICAgaWYgKHRoaXMucmVmcmVzaFByb21pc2UpIHtcclxuICAgICAgcmV0dXJuIHRoaXMucmVmcmVzaFByb21pc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU3RhcnQgYSBuZXcgcmVmcmVzaFxyXG4gICAgdGhpcy5yZWZyZXNoUHJvbWlzZSA9IHRoaXMucmVmcmVzaEFjY2Vzc1Rva2VuKCk7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB0b2tlbiA9IGF3YWl0IHRoaXMucmVmcmVzaFByb21pc2U7XHJcbiAgICAgIHJldHVybiB0b2tlbjtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHRoaXMucmVmcmVzaFByb21pc2UgPSBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhc3luYyByZWZyZXNoQWNjZXNzVG9rZW4oKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdSZWZyZXNoaW5nIFpvaG8gYWNjZXNzIHRva2VuLi4uJyk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBDcmVhdGUgZm9ybSBkYXRhIGZvciB0aGUgcmVxdWVzdFxyXG4gICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcclxuICAgICAgZm9ybURhdGEuYXBwZW5kKCdyZWZyZXNoX3Rva2VuJywgcHJvY2Vzcy5lbnYuWk9IT19SRUZSRVNIX1RPS0VOIHx8ICcnKTtcclxuICAgICAgZm9ybURhdGEuYXBwZW5kKCdjbGllbnRfaWQnLCBwcm9jZXNzLmVudi5aT0hPX0NMSUVOVF9JRCB8fCAnJyk7XHJcbiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnY2xpZW50X3NlY3JldCcsIHByb2Nlc3MuZW52LlpPSE9fQ0xJRU5UX1NFQ1JFVCB8fCAnJyk7XHJcbiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZ3JhbnRfdHlwZScsICdyZWZyZXNoX3Rva2VuJyk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3Q8VG9rZW5SZXNwb25zZT4oJ2h0dHBzOi8vYWNjb3VudHMuem9oby5jb20vb2F1dGgvdjIvdG9rZW4nLCBmb3JtRGF0YSwge1xyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyxcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHRoaXMuYWNjZXNzVG9rZW4gPSByZXNwb25zZS5kYXRhLmFjY2Vzc190b2tlbjtcclxuICAgICAgdGhpcy50b2tlbkV4cGlyeSA9IERhdGUubm93KCkgKyAocmVzcG9uc2UuZGF0YS5leHBpcmVzX2luICogMTAwMCk7XHJcblxyXG4gICAgICBjb25zb2xlLmxvZyhgVG9rZW4gcmVmcmVzaGVkIHN1Y2Nlc3NmdWxseS4gRXhwaXJlcyBpbiAke01hdGgucm91bmQocmVzcG9uc2UuZGF0YS5leHBpcmVzX2luIC8gNjApfSBtaW51dGVzYCk7XHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4gdGhpcy5hY2Nlc3NUb2tlbjtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlZnJlc2hpbmcgWm9obyBhY2Nlc3MgdG9rZW46JywgZXJyb3IpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBhdXRoZW50aWNhdGUgd2l0aCBab2hvJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFzeW5jIG1ha2VSZXF1ZXN0KGVuZHBvaW50OiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgY29uc3QgdG9rZW4gPSBhd2FpdCB0aGlzLmdldEFjY2Vzc1Rva2VuKCk7XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KGBodHRwczovL3d3dy56b2hvYXBpcy5jb20vYm9va3MvdjMvJHtlbmRwb2ludH1gLCB7XHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dG9rZW59YCxcclxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBwYXJhbXM6IHtcclxuICAgICAgICAgIG9yZ2FuaXphdGlvbl9pZDogcHJvY2Vzcy5lbnYuWk9IT19PUkdBTklaQVRJT05fSUQsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcclxuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgICAgLy8gSWYgd2UgZ2V0IGEgNDAxLCB0cnkgcmVmcmVzaGluZyB0aGUgdG9rZW4gb25jZVxyXG4gICAgICBpZiAoZXJyb3IucmVzcG9uc2U/LnN0YXR1cyA9PT0gNDAxKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1Rva2VuIGV4cGlyZWQsIHJlZnJlc2hpbmcuLi4nKTtcclxuICAgICAgICB0aGlzLmFjY2Vzc1Rva2VuID0gbnVsbDtcclxuICAgICAgICB0aGlzLnRva2VuRXhwaXJ5ID0gMDtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBuZXdUb2tlbiA9IGF3YWl0IHRoaXMuZ2V0QWNjZXNzVG9rZW4oKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBSZXRyeSB0aGUgcmVxdWVzdCB3aXRoIHRoZSBuZXcgdG9rZW5cclxuICAgICAgICBjb25zdCByZXRyeVJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KGBodHRwczovL3d3dy56b2hvYXBpcy5jb20vYm9va3MvdjMvJHtlbmRwb2ludH1gLCB7XHJcbiAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke25ld1Rva2VufWAsXHJcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgcGFyYW1zOiB7XHJcbiAgICAgICAgICAgIG9yZ2FuaXphdGlvbl9pZDogcHJvY2Vzcy5lbnYuWk9IT19PUkdBTklaQVRJT05fSUQsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiByZXRyeVJlc3BvbnNlLmRhdGE7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIG1ha2luZyBab2hvIHJlcXVlc3QgdG8gJHtlbmRwb2ludH06YCwgZXJyb3IpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBkYXRhIGZyb20gWm9obzogJHtlbmRwb2ludH1gKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGdldFByb2plY3RzKCk6IFByb21pc2U8Wm9ob1Byb2plY3RbXT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IGFsbFByb2plY3RzOiBab2hvUHJvamVjdFtdID0gW107XHJcbiAgICAgIGxldCBwYWdlID0gMTtcclxuICAgICAgY29uc3QgcGVyUGFnZSA9IDIwMDtcclxuICAgICAgXHJcbiAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMubWFrZVJlcXVlc3QoYHByb2plY3RzP3BhZ2U9JHtwYWdlfSZwZXJfcGFnZT0ke3BlclBhZ2V9YCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgcHJvamVjdHMgPSBkYXRhLnByb2plY3RzPy5tYXAoKHByb2plY3Q6IGFueSkgPT4ge1xyXG4gICAgICAgICAgLy8gTG9nIHRoZSBmaXJzdCBwcm9qZWN0IHRvIHNlZSBhdmFpbGFibGUgZmllbGRzXHJcbiAgICAgICAgICBpZiAocGFnZSA9PT0gMSAmJiBhbGxQcm9qZWN0cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1NhbXBsZSBab2hvIHByb2plY3QgZGF0YTonLCBKU09OLnN0cmluZ2lmeShwcm9qZWN0LCBudWxsLCAyKSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHByb2plY3RfaWQ6IHByb2plY3QucHJvamVjdF9pZCxcclxuICAgICAgICAgICAgcHJvamVjdF9uYW1lOiBwcm9qZWN0LnByb2plY3RfbmFtZSB8fCBwcm9qZWN0Lm5hbWUgfHwgJycsXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBwcm9qZWN0LmRlc2NyaXB0aW9uIHx8ICcnLFxyXG4gICAgICAgICAgICBzdGF0dXM6IHByb2plY3Quc3RhdHVzIHx8ICdhY3RpdmUnLFxyXG4gICAgICAgICAgICBzdGFydF9kYXRlOiBwcm9qZWN0LnN0YXJ0X2RhdGUgfHwgJycsXHJcbiAgICAgICAgICAgIGVuZF9kYXRlOiBwcm9qZWN0LmVuZF9kYXRlIHx8ICcnLFxyXG4gICAgICAgICAgICBidWRnZXRfYW1vdW50OiBwcm9qZWN0LmJ1ZGdldF9hbW91bnQgfHwgMCxcclxuICAgICAgICAgICAgcmF0ZV9wZXJfaG91cjogcHJvamVjdC5yYXRlX3Blcl9ob3VyIHx8IDAsXHJcbiAgICAgICAgICAgIGN1c3RvbWVyX2lkOiBwcm9qZWN0LmN1c3RvbWVyX2lkIHx8ICcnLFxyXG4gICAgICAgICAgICBjdXN0b21lcl9uYW1lOiBwcm9qZWN0LmN1c3RvbWVyX25hbWUgfHwgJycsXHJcbiAgICAgICAgICAgIHNpZ25lZF9mZWU6IHVuZGVmaW5lZCwgLy8gUmVtb3ZlIFpvaG8gc2lnbmVkIGZlZSwgb25seSB1c2UgdXNlci1lbnRlcmVkIGRhdGFcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfSkgfHwgW107XHJcbiAgICAgICAgXHJcbiAgICAgICAgYWxsUHJvamVjdHMgPSBhbGxQcm9qZWN0cy5jb25jYXQocHJvamVjdHMpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENoZWNrIGlmIHdlJ3ZlIHJlYWNoZWQgdGhlIGVuZFxyXG4gICAgICAgIGlmIChwcm9qZWN0cy5sZW5ndGggPCBwZXJQYWdlKSB7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcGFnZSsrO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZyhgRmV0Y2hlZCAke2FsbFByb2plY3RzLmxlbmd0aH0gcHJvamVjdHMgZnJvbSBab2hvYCk7XHJcbiAgICAgIHJldHVybiBhbGxQcm9qZWN0cztcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHByb2plY3RzOicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZ2V0UHJvamVjdHNXaXRoUmV2ZW51ZUJ1ZGdldCgpOiBQcm9taXNlPFpvaG9Qcm9qZWN0W10+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdGZXRjaGluZyBwcm9qZWN0cyB3aXRoIHJldmVudWUgYnVkZ2V0IGRhdGEuLi4nKTtcclxuICAgICAgY29uc3QgcHJvamVjdHMgPSBhd2FpdCB0aGlzLmdldFByb2plY3RzKCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBMb2cgcHJvamVjdHMgdGhhdCBoYXZlIHJldmVudWVfYnVkZ2V0IGRhdGFcclxuICAgICAgY29uc3QgcHJvamVjdHNXaXRoUmV2ZW51ZUJ1ZGdldCA9IHByb2plY3RzLmZpbHRlcihwcm9qZWN0ID0+IHtcclxuICAgICAgICBjb25zdCBoYXNSZXZlbnVlQnVkZ2V0ID0gcHJvamVjdC5zaWduZWRfZmVlICYmIHByb2plY3Quc2lnbmVkX2ZlZSA+IDA7XHJcbiAgICAgICAgaWYgKGhhc1JldmVudWVCdWRnZXQpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGBQcm9qZWN0ICR7cHJvamVjdC5wcm9qZWN0X25hbWV9IGhhcyByZXZlbnVlIGJ1ZGdldDogJCR7cHJvamVjdC5zaWduZWRfZmVlfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaGFzUmV2ZW51ZUJ1ZGdldDtcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZyhgRm91bmQgJHtwcm9qZWN0c1dpdGhSZXZlbnVlQnVkZ2V0Lmxlbmd0aH0gcHJvamVjdHMgd2l0aCByZXZlbnVlIGJ1ZGdldCBkYXRhYCk7XHJcbiAgICAgIHJldHVybiBwcm9qZWN0cztcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHByb2plY3RzIHdpdGggcmV2ZW51ZSBidWRnZXQ6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBkZWJ1Z1Byb2plY3RGaWVsZHMoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygnRGVidWdnaW5nIFpvaG8gcHJvamVjdCBmaWVsZHMuLi4nKTtcclxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMubWFrZVJlcXVlc3QoJ3Byb2plY3RzP3BhZ2U9MSZwZXJfcGFnZT01Jyk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoZGF0YS5wcm9qZWN0cyAmJiBkYXRhLnByb2plY3RzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnQXZhaWxhYmxlIGZpZWxkcyBpbiBab2hvIHByb2plY3QgcmVzcG9uc2U6Jyk7XHJcbiAgICAgICAgY29uc3Qgc2FtcGxlUHJvamVjdCA9IGRhdGEucHJvamVjdHNbMF07XHJcbiAgICAgICAgT2JqZWN0LmtleXMoc2FtcGxlUHJvamVjdCkuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coYCAgJHtrZXl9OiAke3NhbXBsZVByb2plY3Rba2V5XX0gKCR7dHlwZW9mIHNhbXBsZVByb2plY3Rba2V5XX0pYCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ2hlY2sgc3BlY2lmaWNhbGx5IGZvciByZXZlbnVlX2J1ZGdldFxyXG4gICAgICAgIGlmIChzYW1wbGVQcm9qZWN0LnJldmVudWVfYnVkZ2V0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGDinIUgRm91bmQgcmV2ZW51ZV9idWRnZXQgZmllbGQ6ICR7c2FtcGxlUHJvamVjdC5yZXZlbnVlX2J1ZGdldH1gKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ+KdjCByZXZlbnVlX2J1ZGdldCBmaWVsZCBub3QgZm91bmQgaW4gWm9obyByZXNwb25zZScpO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ0F2YWlsYWJsZSBidWRnZXQtcmVsYXRlZCBmaWVsZHM6Jyk7XHJcbiAgICAgICAgICBPYmplY3Qua2V5cyhzYW1wbGVQcm9qZWN0KS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChrZXkudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnYnVkZ2V0JykgfHwga2V5LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3JldmVudWUnKSkge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGAgICR7a2V5fTogJHtzYW1wbGVQcm9qZWN0W2tleV19YCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnTm8gcHJvamVjdHMgZm91bmQgaW4gWm9obyByZXNwb25zZScpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWJ1Z2dpbmcgcHJvamVjdCBmaWVsZHM6JywgZXJyb3IpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZ2V0UHJvamVjdHNXaXRoRXN0aW1hdGVzKCk6IFByb21pc2U8Wm9ob1Byb2plY3RbXT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcHJvamVjdHMgPSBhd2FpdCB0aGlzLmdldFByb2plY3RzKCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBGb3IgdGhlIGZpcnN0IGZldyBwcm9qZWN0cywgdHJ5IHRvIGdldCBlc3RpbWF0ZXMgdG8gc2VlIGlmIHRoYXQgY29udGFpbnMgdGhlIHNpZ25lZCBmZWVcclxuICAgICAgY29uc3QgcHJvamVjdHNXaXRoRXN0aW1hdGVzID0gYXdhaXQgUHJvbWlzZS5hbGwoXHJcbiAgICAgICAgcHJvamVjdHMuc2xpY2UoMCwgNSkubWFwKGFzeW5jIChwcm9qZWN0KSA9PiB7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBlc3RpbWF0ZXMgPSBhd2FpdCB0aGlzLmdldFByb2plY3RFc3RpbWF0ZXMocHJvamVjdC5wcm9qZWN0X2lkKTtcclxuICAgICAgICAgICAgY29uc3QgdG90YWxFc3RpbWF0ZUFtb3VudCA9IGVzdGltYXRlcy5yZWR1Y2UoKHN1bSwgZXN0aW1hdGUpID0+IHN1bSArIChlc3RpbWF0ZS50b3RhbCB8fCAwKSwgMCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgUHJvamVjdCAke3Byb2plY3QucHJvamVjdF9uYW1lfSBlc3RpbWF0ZXM6YCwgZXN0aW1hdGVzLmxlbmd0aCwgJ3RvdGFsIGFtb3VudDonLCB0b3RhbEVzdGltYXRlQW1vdW50KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgLi4ucHJvamVjdCxcclxuICAgICAgICAgICAgICBzaWduZWRfZmVlOiBwcm9qZWN0LnNpZ25lZF9mZWUgfHwgdG90YWxFc3RpbWF0ZUFtb3VudCB8fCAwLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZmV0Y2hpbmcgZXN0aW1hdGVzIGZvciBwcm9qZWN0ICR7cHJvamVjdC5wcm9qZWN0X2lkfTpgLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHJldHVybiBwcm9qZWN0O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBSZXR1cm4gYWxsIHByb2plY3RzLCB3aXRoIHRoZSBmaXJzdCA1IGhhdmluZyB1cGRhdGVkIHNpZ25lZCBmZWVzIGZyb20gZXN0aW1hdGVzXHJcbiAgICAgIHJldHVybiBbXHJcbiAgICAgICAgLi4ucHJvamVjdHNXaXRoRXN0aW1hdGVzLFxyXG4gICAgICAgIC4uLnByb2plY3RzLnNsaWNlKDUpXHJcbiAgICAgIF07XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBwcm9qZWN0cyB3aXRoIGVzdGltYXRlczonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGdldFByb2plY3RzV2l0aEludm9pY2VUb3RhbHMoKTogUHJvbWlzZTxab2hvUHJvamVjdFtdPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBbcHJvamVjdHMsIGludm9pY2VzXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcclxuICAgICAgICB0aGlzLmdldFByb2plY3RzKCksXHJcbiAgICAgICAgdGhpcy5nZXRJbnZvaWNlcygpLFxyXG4gICAgICBdKTtcclxuICAgICAgXHJcbiAgICAgIC8vIENhbGN1bGF0ZSBzaWduZWQgZmVlIGFzIHRvdGFsIG9mIGFsbCBpbnZvaWNlcyBmb3IgZWFjaCBwcm9qZWN0XHJcbiAgICAgIGNvbnN0IHByb2plY3RzV2l0aEludm9pY2VUb3RhbHMgPSBwcm9qZWN0cy5tYXAocHJvamVjdCA9PiB7XHJcbiAgICAgICAgY29uc3QgcHJvamVjdEludm9pY2VzID0gaW52b2ljZXMuZmlsdGVyKGludm9pY2UgPT4gaW52b2ljZS5wcm9qZWN0X2lkID09PSBwcm9qZWN0LnByb2plY3RfaWQpO1xyXG4gICAgICAgIGNvbnN0IHRvdGFsSW52b2ljZUFtb3VudCA9IHByb2plY3RJbnZvaWNlcy5yZWR1Y2UoKHN1bSwgaW52b2ljZSkgPT4gc3VtICsgaW52b2ljZS5hbW91bnQsIDApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnNvbGUubG9nKGBQcm9qZWN0ICR7cHJvamVjdC5wcm9qZWN0X25hbWV9IGludm9pY2VzOmAsIHByb2plY3RJbnZvaWNlcy5sZW5ndGgsICd0b3RhbCBhbW91bnQ6JywgdG90YWxJbnZvaWNlQW1vdW50KTtcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgLi4ucHJvamVjdCxcclxuICAgICAgICAgIHNpZ25lZF9mZWU6IHByb2plY3Quc2lnbmVkX2ZlZSB8fCB0b3RhbEludm9pY2VBbW91bnQgfHwgMCxcclxuICAgICAgICB9O1xyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIHJldHVybiBwcm9qZWN0c1dpdGhJbnZvaWNlVG90YWxzO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcHJvamVjdHMgd2l0aCBpbnZvaWNlIHRvdGFsczonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGdldEludm9pY2VzKCk6IFByb21pc2U8Wm9ob0ludm9pY2VbXT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMubWFrZVJlcXVlc3QoJ2ludm9pY2VzJyk7XHJcbiAgICAgIHJldHVybiBkYXRhLmludm9pY2VzPy5tYXAoKGludm9pY2U6IGFueSkgPT4gKHtcclxuICAgICAgICBpbnZvaWNlX2lkOiBpbnZvaWNlLmludm9pY2VfaWQsXHJcbiAgICAgICAgcHJvamVjdF9pZDogaW52b2ljZS5wcm9qZWN0X2lkLFxyXG4gICAgICAgIGludm9pY2VfbnVtYmVyOiBpbnZvaWNlLmludm9pY2VfbnVtYmVyLFxyXG4gICAgICAgIGRhdGU6IGludm9pY2UuZGF0ZSxcclxuICAgICAgICBhbW91bnQ6IGludm9pY2UudG90YWwsXHJcbiAgICAgICAgc3RhdHVzOiBpbnZvaWNlLnN0YXR1cyxcclxuICAgICAgICBiaWxsZWRfYW1vdW50OiBpbnZvaWNlLmJpbGxlZF9hbW91bnQgfHwgMCxcclxuICAgICAgICB1bmJpbGxlZF9hbW91bnQ6IGludm9pY2UudW5iaWxsZWRfYW1vdW50IHx8IDAsXHJcbiAgICAgIH0pKSB8fCBbXTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGludm9pY2VzOicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZ2V0UHJvamVjdEludm9pY2VzKHByb2plY3RJZDogc3RyaW5nKTogUHJvbWlzZTxab2hvSW52b2ljZVtdPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5tYWtlUmVxdWVzdChgcHJvamVjdHMvJHtwcm9qZWN0SWR9L2ludm9pY2VzYCk7XHJcbiAgICAgIHJldHVybiBkYXRhLmludm9pY2VzPy5tYXAoKGludm9pY2U6IGFueSkgPT4gKHtcclxuICAgICAgICBpbnZvaWNlX2lkOiBpbnZvaWNlLmludm9pY2VfaWQsXHJcbiAgICAgICAgcHJvamVjdF9pZDogaW52b2ljZS5wcm9qZWN0X2lkLFxyXG4gICAgICAgIGludm9pY2VfbnVtYmVyOiBpbnZvaWNlLmludm9pY2VfbnVtYmVyLFxyXG4gICAgICAgIGRhdGU6IGludm9pY2UuZGF0ZSxcclxuICAgICAgICBhbW91bnQ6IGludm9pY2UudG90YWwsXHJcbiAgICAgICAgc3RhdHVzOiBpbnZvaWNlLnN0YXR1cyxcclxuICAgICAgICBiaWxsZWRfYW1vdW50OiBpbnZvaWNlLmJpbGxlZF9hbW91bnQgfHwgMCxcclxuICAgICAgICB1bmJpbGxlZF9hbW91bnQ6IGludm9pY2UudW5iaWxsZWRfYW1vdW50IHx8IDAsXHJcbiAgICAgIH0pKSB8fCBbXTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHByb2plY3QgaW52b2ljZXM6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBnZXRQcm9qZWN0RGV0YWlscyhwcm9qZWN0SWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5tYWtlUmVxdWVzdChgcHJvamVjdHMvJHtwcm9qZWN0SWR9YCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKGBQcm9qZWN0ICR7cHJvamVjdElkfSBkZXRhaWxzOmAsIEpTT04uc3RyaW5naWZ5KGRhdGEsIG51bGwsIDIpKTtcclxuICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBwcm9qZWN0IGRldGFpbHM6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGdldFByb2plY3RFc3RpbWF0ZXMocHJvamVjdElkOiBzdHJpbmcpOiBQcm9taXNlPGFueVtdPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5tYWtlUmVxdWVzdChgcHJvamVjdHMvJHtwcm9qZWN0SWR9L2VzdGltYXRlc2ApO1xyXG4gICAgICBjb25zb2xlLmxvZyhgUHJvamVjdCAke3Byb2plY3RJZH0gZXN0aW1hdGVzOmAsIEpTT04uc3RyaW5naWZ5KGRhdGEsIG51bGwsIDIpKTtcclxuICAgICAgcmV0dXJuIGRhdGEuZXN0aW1hdGVzIHx8IFtdO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcHJvamVjdCBlc3RpbWF0ZXM6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBnZXRQcm9qZWN0Q29udHJhY3RzKHByb2plY3RJZDogc3RyaW5nKTogUHJvbWlzZTxhbnlbXT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMubWFrZVJlcXVlc3QoYHByb2plY3RzLyR7cHJvamVjdElkfS9jb250cmFjdHNgKTtcclxuICAgICAgY29uc29sZS5sb2coYFByb2plY3QgJHtwcm9qZWN0SWR9IGNvbnRyYWN0czpgLCBKU09OLnN0cmluZ2lmeShkYXRhLCBudWxsLCAyKSk7XHJcbiAgICAgIHJldHVybiBkYXRhLmNvbnRyYWN0cyB8fCBbXTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHByb2plY3QgY29udHJhY3RzOicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gTWV0aG9kIHRvIG1hbnVhbGx5IHJlZnJlc2ggdG9rZW4gKGZvciB0ZXN0aW5nKVxyXG4gIGFzeW5jIGZvcmNlUmVmcmVzaFRva2VuKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgdGhpcy5hY2Nlc3NUb2tlbiA9IG51bGw7XHJcbiAgICB0aGlzLnRva2VuRXhwaXJ5ID0gMDtcclxuICAgIHRoaXMubGFzdFJlZnJlc2hUaW1lID0gRGF0ZS5ub3coKTsgLy8gVHJhY2sgbWFudWFsIHJlZnJlc2ggdGltZVxyXG4gICAgYXdhaXQgdGhpcy5nZXRBY2Nlc3NUb2tlbigpO1xyXG4gIH1cclxuXHJcbiAgLy8gR2V0IHRva2VuIHN0YXR1cyBmb3IgZGVidWdnaW5nXHJcbiAgZ2V0VG9rZW5TdGF0dXMoKTogeyBoYXNUb2tlbjogYm9vbGVhbjsgZXhwaXJlc0luOiBudW1iZXI7IGlzRXhwaXJlZDogYm9vbGVhbiB9IHtcclxuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBoYXNUb2tlbjogISF0aGlzLmFjY2Vzc1Rva2VuLFxyXG4gICAgICBleHBpcmVzSW46IHRoaXMudG9rZW5FeHBpcnkgLSBub3csXHJcbiAgICAgIGlzRXhwaXJlZDogbm93ID49IHRoaXMudG9rZW5FeHBpcnksXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLy8gTWV0aG9kIHRvIGdldCBhdXRvLXJlZnJlc2ggc3RhdHVzXHJcbiAgZ2V0QXV0b1JlZnJlc2hTdGF0dXMoKTogeyBpc0FjdGl2ZTogYm9vbGVhbjsgbmV4dFJlZnJlc2hJbjogbnVtYmVyIH0ge1xyXG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgIGNvbnN0IHRpbWVTaW5jZUxhc3RSZWZyZXNoID0gbm93IC0gdGhpcy5sYXN0UmVmcmVzaFRpbWU7XHJcbiAgICBjb25zdCBuZXh0UmVmcmVzaEluID0gTWF0aC5tYXgoMCwgdGhpcy5BVVRPX1JFRlJFU0hfSU5URVJWQUwgLSB0aW1lU2luY2VMYXN0UmVmcmVzaCk7XHJcbiAgICBcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGlzQWN0aXZlOiAhIXRoaXMuYXV0b1JlZnJlc2hUaW1lcixcclxuICAgICAgbmV4dFJlZnJlc2hJbixcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvLyBQdWJsaWMgbWV0aG9kIHRvIHN0YXJ0IGF1dG8tcmVmcmVzaFxyXG4gIGVuYWJsZUF1dG9SZWZyZXNoKCk6IHZvaWQge1xyXG4gICAgdGhpcy5fc3RhcnRBdXRvUmVmcmVzaCgpO1xyXG4gIH1cclxuXHJcbiAgLy8gUHVibGljIG1ldGhvZCB0byBzdG9wIGF1dG8tcmVmcmVzaFxyXG4gIGRpc2FibGVBdXRvUmVmcmVzaCgpOiB2b2lkIHtcclxuICAgIHRoaXMuX3N0b3BBdXRvUmVmcmVzaCgpO1xyXG4gIH1cclxuXHJcbiAgLy8gUHVibGljIG1ldGhvZCB0byBnZXQgY29tcHJlaGVuc2l2ZSBzdGF0dXNcclxuICBnZXRTdGF0dXMoKTogeyBcclxuICAgIGhhc1Rva2VuOiBib29sZWFuOyBcclxuICAgIGV4cGlyZXNJbjogbnVtYmVyOyBcclxuICAgIGlzRXhwaXJlZDogYm9vbGVhbjtcclxuICAgIGF1dG9SZWZyZXNoOiB7IGlzQWN0aXZlOiBib29sZWFuOyBuZXh0UmVmcmVzaEluOiBudW1iZXIgfTtcclxuICB9IHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIC4uLnRoaXMuZ2V0VG9rZW5TdGF0dXMoKSxcclxuICAgICAgYXV0b1JlZnJlc2g6IHRoaXMuZ2V0QXV0b1JlZnJlc2hTdGF0dXMoKSxcclxuICAgIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3Qgem9ob1NlcnZpY2UgPSBuZXcgWm9ob1NlcnZpY2UoKTsgXHJcblxyXG4vLyBFeHBvcnQgdGhlIGZ1bmN0aW9ucyB0aGF0IGFyZSBiZWluZyBpbXBvcnRlZCBpbiBwYWdlLnRzeFxyXG5leHBvcnQgY29uc3QgZmV0Y2hQcm9qZWN0cyA9IGFzeW5jICgpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc29sZS5sb2coJ0NsaWVudDogRmV0Y2hpbmcgcHJvamVjdHMgZnJvbSBBUEknKTtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvcHJvamVjdHMnKTtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIFxyXG4gICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdDbGllbnQ6IFN1Y2Nlc3NmdWxseSBmZXRjaGVkJywgcmVzdWx0LmNvdW50LCAncHJvamVjdHMnKTtcclxuICAgICAgcmV0dXJuIHJlc3VsdC5kYXRhO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc29sZS5lcnJvcignQ2xpZW50OiBBUEkgcmV0dXJuZWQgZXJyb3I6JywgcmVzdWx0LmVycm9yKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5lcnJvcik7XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0NsaWVudDogRXJyb3IgZmV0Y2hpbmcgcHJvamVjdHM6JywgZXJyb3IpO1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGZldGNoSW52b2ljZXMgPSBhc3luYyAoKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnNvbGUubG9nKCdDbGllbnQ6IEZldGNoaW5nIGludm9pY2VzIGZyb20gQVBJJyk7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2ludm9pY2VzJyk7XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICBcclxuICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xyXG4gICAgICBjb25zb2xlLmxvZygnQ2xpZW50OiBTdWNjZXNzZnVsbHkgZmV0Y2hlZCcsIHJlc3VsdC5jb3VudCwgJ2ludm9pY2VzJyk7XHJcbiAgICAgIHJldHVybiByZXN1bHQuZGF0YTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0NsaWVudDogQVBJIHJldHVybmVkIGVycm9yOicsIHJlc3VsdC5lcnJvcik7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQuZXJyb3IpO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdDbGllbnQ6IEVycm9yIGZldGNoaW5nIGludm9pY2VzOicsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufTsgIl0sIm5hbWVzIjpbImF4aW9zIiwiWm9ob1NlcnZpY2UiLCJjb25zdHJ1Y3RvciIsImFjY2Vzc1Rva2VuIiwidG9rZW5FeHBpcnkiLCJyZWZyZXNoUHJvbWlzZSIsIlRPS0VOX1JFRlJFU0hfQlVGRkVSIiwiYXV0b1JlZnJlc2hUaW1lciIsIkFVVE9fUkVGUkVTSF9JTlRFUlZBTCIsImxhc3RSZWZyZXNoVGltZSIsIl9zdGFydEF1dG9SZWZyZXNoIiwiY2xlYXJJbnRlcnZhbCIsInNldEludGVydmFsIiwiY29uc29sZSIsImxvZyIsIkRhdGUiLCJub3ciLCJmb3JjZVJlZnJlc2hUb2tlbiIsImVycm9yIiwiX3N0b3BBdXRvUmVmcmVzaCIsImdldEFjY2Vzc1Rva2VuIiwicmVmcmVzaEFjY2Vzc1Rva2VuIiwidG9rZW4iLCJmb3JtRGF0YSIsIlVSTFNlYXJjaFBhcmFtcyIsImFwcGVuZCIsInByb2Nlc3MiLCJlbnYiLCJaT0hPX1JFRlJFU0hfVE9LRU4iLCJaT0hPX0NMSUVOVF9JRCIsIlpPSE9fQ0xJRU5UX1NFQ1JFVCIsInJlc3BvbnNlIiwicG9zdCIsImhlYWRlcnMiLCJkYXRhIiwiYWNjZXNzX3Rva2VuIiwiZXhwaXJlc19pbiIsIk1hdGgiLCJyb3VuZCIsIkVycm9yIiwibWFrZVJlcXVlc3QiLCJlbmRwb2ludCIsImdldCIsInBhcmFtcyIsIm9yZ2FuaXphdGlvbl9pZCIsIlpPSE9fT1JHQU5JWkFUSU9OX0lEIiwic3RhdHVzIiwibmV3VG9rZW4iLCJyZXRyeVJlc3BvbnNlIiwiZ2V0UHJvamVjdHMiLCJhbGxQcm9qZWN0cyIsInBhZ2UiLCJwZXJQYWdlIiwicHJvamVjdHMiLCJtYXAiLCJwcm9qZWN0IiwibGVuZ3RoIiwiSlNPTiIsInN0cmluZ2lmeSIsInByb2plY3RfaWQiLCJwcm9qZWN0X25hbWUiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJzdGFydF9kYXRlIiwiZW5kX2RhdGUiLCJidWRnZXRfYW1vdW50IiwicmF0ZV9wZXJfaG91ciIsImN1c3RvbWVyX2lkIiwiY3VzdG9tZXJfbmFtZSIsInNpZ25lZF9mZWUiLCJ1bmRlZmluZWQiLCJjb25jYXQiLCJnZXRQcm9qZWN0c1dpdGhSZXZlbnVlQnVkZ2V0IiwicHJvamVjdHNXaXRoUmV2ZW51ZUJ1ZGdldCIsImZpbHRlciIsImhhc1JldmVudWVCdWRnZXQiLCJkZWJ1Z1Byb2plY3RGaWVsZHMiLCJzYW1wbGVQcm9qZWN0IiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJrZXkiLCJyZXZlbnVlX2J1ZGdldCIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJnZXRQcm9qZWN0c1dpdGhFc3RpbWF0ZXMiLCJwcm9qZWN0c1dpdGhFc3RpbWF0ZXMiLCJQcm9taXNlIiwiYWxsIiwic2xpY2UiLCJlc3RpbWF0ZXMiLCJnZXRQcm9qZWN0RXN0aW1hdGVzIiwidG90YWxFc3RpbWF0ZUFtb3VudCIsInJlZHVjZSIsInN1bSIsImVzdGltYXRlIiwidG90YWwiLCJnZXRQcm9qZWN0c1dpdGhJbnZvaWNlVG90YWxzIiwiaW52b2ljZXMiLCJnZXRJbnZvaWNlcyIsInByb2plY3RzV2l0aEludm9pY2VUb3RhbHMiLCJwcm9qZWN0SW52b2ljZXMiLCJpbnZvaWNlIiwidG90YWxJbnZvaWNlQW1vdW50IiwiYW1vdW50IiwiaW52b2ljZV9pZCIsImludm9pY2VfbnVtYmVyIiwiZGF0ZSIsImJpbGxlZF9hbW91bnQiLCJ1bmJpbGxlZF9hbW91bnQiLCJnZXRQcm9qZWN0SW52b2ljZXMiLCJwcm9qZWN0SWQiLCJnZXRQcm9qZWN0RGV0YWlscyIsImdldFByb2plY3RDb250cmFjdHMiLCJjb250cmFjdHMiLCJnZXRUb2tlblN0YXR1cyIsImhhc1Rva2VuIiwiZXhwaXJlc0luIiwiaXNFeHBpcmVkIiwiZ2V0QXV0b1JlZnJlc2hTdGF0dXMiLCJ0aW1lU2luY2VMYXN0UmVmcmVzaCIsIm5leHRSZWZyZXNoSW4iLCJtYXgiLCJpc0FjdGl2ZSIsImVuYWJsZUF1dG9SZWZyZXNoIiwiZGlzYWJsZUF1dG9SZWZyZXNoIiwiZ2V0U3RhdHVzIiwiYXV0b1JlZnJlc2giLCJ6b2hvU2VydmljZSIsImZldGNoUHJvamVjdHMiLCJmZXRjaCIsInJlc3VsdCIsImpzb24iLCJzdWNjZXNzIiwiY291bnQiLCJmZXRjaEludm9pY2VzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/zoho.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/mime-db","vendor-chunks/axios","vendor-chunks/follow-redirects","vendor-chunks/debug","vendor-chunks/form-data","vendor-chunks/get-intrinsic","vendor-chunks/asynckit","vendor-chunks/combined-stream","vendor-chunks/mime-types","vendor-chunks/proxy-from-env","vendor-chunks/ms","vendor-chunks/supports-color","vendor-chunks/has-symbols","vendor-chunks/delayed-stream","vendor-chunks/function-bind","vendor-chunks/es-set-tostringtag","vendor-chunks/get-proto","vendor-chunks/call-bind-apply-helpers","vendor-chunks/dunder-proto","vendor-chunks/math-intrinsics","vendor-chunks/es-errors","vendor-chunks/has-flag","vendor-chunks/gopd","vendor-chunks/es-define-property","vendor-chunks/hasown","vendor-chunks/has-tostringtag","vendor-chunks/es-object-atoms"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdashboard%2Froute&page=%2Fapi%2Fdashboard%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdashboard%2Froute.ts&appDir=C%3A%5CUsers%5CJonathan%5CDesktop%5CBilling%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CJonathan%5CDesktop%5CBilling&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();