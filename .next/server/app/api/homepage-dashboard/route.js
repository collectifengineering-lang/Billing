"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/homepage-dashboard/route";
exports.ids = ["app/api/homepage-dashboard/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fhomepage-dashboard%2Froute&page=%2Fapi%2Fhomepage-dashboard%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fhomepage-dashboard%2Froute.ts&appDir=C%3A%5CUsers%5CJohn%5CBillingPlatform%5CBilling%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CJohn%5CBillingPlatform%5CBilling&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fhomepage-dashboard%2Froute&page=%2Fapi%2Fhomepage-dashboard%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fhomepage-dashboard%2Froute.ts&appDir=C%3A%5CUsers%5CJohn%5CBillingPlatform%5CBilling%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CJohn%5CBillingPlatform%5CBilling&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_John_BillingPlatform_Billing_app_api_homepage_dashboard_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/homepage-dashboard/route.ts */ \"(rsc)/./app/api/homepage-dashboard/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/homepage-dashboard/route\",\n        pathname: \"/api/homepage-dashboard\",\n        filename: \"route\",\n        bundlePath: \"app/api/homepage-dashboard/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\John\\\\BillingPlatform\\\\Billing\\\\app\\\\api\\\\homepage-dashboard\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_John_BillingPlatform_Billing_app_api_homepage_dashboard_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/homepage-dashboard/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZob21lcGFnZS1kYXNoYm9hcmQlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmhvbWVwYWdlLWRhc2hib2FyZCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmhvbWVwYWdlLWRhc2hib2FyZCUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNKb2huJTVDQmlsbGluZ1BsYXRmb3JtJTVDQmlsbGluZyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDSm9obiU1Q0JpbGxpbmdQbGF0Zm9ybSU1Q0JpbGxpbmcmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ2lDO0FBQzlHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vem9oby1iaWxsaW5nLXBsYXRmb3JtLz81NTZjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXEpvaG5cXFxcQmlsbGluZ1BsYXRmb3JtXFxcXEJpbGxpbmdcXFxcYXBwXFxcXGFwaVxcXFxob21lcGFnZS1kYXNoYm9hcmRcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2hvbWVwYWdlLWRhc2hib2FyZC9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2hvbWVwYWdlLWRhc2hib2FyZFwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvaG9tZXBhZ2UtZGFzaGJvYXJkL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcSm9oblxcXFxCaWxsaW5nUGxhdGZvcm1cXFxcQmlsbGluZ1xcXFxhcHBcXFxcYXBpXFxcXGhvbWVwYWdlLWRhc2hib2FyZFxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvaG9tZXBhZ2UtZGFzaGJvYXJkL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fhomepage-dashboard%2Froute&page=%2Fapi%2Fhomepage-dashboard%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fhomepage-dashboard%2Froute.ts&appDir=C%3A%5CUsers%5CJohn%5CBillingPlatform%5CBilling%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CJohn%5CBillingPlatform%5CBilling&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/homepage-dashboard/route.ts":
/*!*********************************************!*\
  !*** ./app/api/homepage-dashboard/route.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   dynamic: () => (/* binding */ dynamic)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_zoho__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/zoho */ \"(rsc)/./lib/zoho.ts\");\n/* harmony import */ var _lib_clockify__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/clockify */ \"(rsc)/./lib/clockify.ts\");\n\n\n\n// Force dynamic rendering to prevent static generation errors\nconst dynamic = \"force-dynamic\";\nasync function GET(request) {\n    try {\n        console.log(\"\\uD83D\\uDE80 Homepage Dashboard API called - starting data collection...\");\n        const now = new Date();\n        const currentYear = now.getFullYear();\n        const currentYearStart = new Date(currentYear, 0, 1);\n        const lastYearStart = new Date(currentYear - 1, 0, 1);\n        // Use extended date range for Clockify to include 2024 data for better metrics\n        const extendedStartDate = new Date(2024, 0, 1); // Start from January 1, 2024\n        console.log(\"\\uD83D\\uDCC5 Date ranges calculated:\", {\n            currentYear,\n            currentYearStart: currentYearStart.toISOString(),\n            lastYearStart: lastYearStart.toISOString(),\n            extendedStartDate: extendedStartDate.toISOString()\n        });\n        // Initialize data containers\n        let projects = [];\n        let invoices = [];\n        let clockifyData = null;\n        let financialMetrics = null;\n        let zohoAuthFailed = false;\n        let zohoApiCallCount = 0;\n        // Fetch Zoho data\n        try {\n            console.log(\"\\uD83D\\uDD04 Starting Zoho data fetch...\");\n            // Track API calls\n            zohoApiCallCount++;\n            projects = await _lib_zoho__WEBPACK_IMPORTED_MODULE_1__.zohoService.getProjects();\n            zohoApiCallCount++;\n            invoices = await _lib_zoho__WEBPACK_IMPORTED_MODULE_1__.zohoService.getInvoices();\n            console.log(\"‚úÖ Zoho data fetched:\", {\n                projectsCount: projects.length,\n                invoicesCount: invoices.length\n            });\n            // Log raw invoice data counts and details\n            if (invoices.length > 0) {\n                console.log(\"\\uD83D\\uDCCA Raw invoice data analysis:\");\n                console.log(`  - Total invoices: ${invoices.length}`);\n                // Count by status\n                const statusCounts = invoices.reduce((acc, inv)=>{\n                    acc[inv.status] = (acc[inv.status] || 0) + 1;\n                    return acc;\n                }, {});\n                console.log(\"  - Status breakdown:\", statusCounts);\n                // Count by project\n                const projectCounts = invoices.reduce((acc, inv)=>{\n                    acc[inv.project_id] = (acc[inv.project_id] || 0) + 1;\n                    return acc;\n                }, {});\n                console.log(`  - Projects with invoices: ${Object.keys(projectCounts).length}`);\n                // Amount analysis\n                const totalAmount = invoices.reduce((sum, inv)=>sum + (inv.amount || 0), 0);\n                const avgAmount = totalAmount / invoices.length;\n                console.log(`  - Total amount: $${totalAmount.toFixed(2)}`);\n                console.log(`  - Average amount: $${avgAmount.toFixed(2)}`);\n                // Sample invoice data\n                const sampleInvoice = invoices[0];\n                console.log(\"  - Sample invoice:\", {\n                    id: sampleInvoice.invoice_id,\n                    number: sampleInvoice.invoice_number,\n                    project: sampleInvoice.project_id,\n                    amount: sampleInvoice.amount,\n                    status: sampleInvoice.status,\n                    date: sampleInvoice.date\n                });\n            } else {\n                console.log(\"‚ö†Ô∏è No invoices found in Zoho data\");\n            }\n            // Get financial metrics for current year\n            try {\n                console.log(\"\\uD83D\\uDCB0 Fetching financial metrics...\");\n                console.log(\"\\uD83D\\uDCC5 Date range:\", {\n                    start: currentYearStart.toISOString().split(\"T\")[0],\n                    end: now.toISOString().split(\"T\")[0]\n                });\n                zohoApiCallCount++;\n                financialMetrics = await _lib_zoho__WEBPACK_IMPORTED_MODULE_1__.zohoService.getFinancialMetrics(currentYearStart.toISOString().split(\"T\")[0], now.toISOString().split(\"T\")[0]);\n                console.log(\"‚úÖ Financial metrics loaded:\", financialMetrics);\n                // Log the full financialMetrics object after fetch to confirm values\n                console.log(\"\\uD83D\\uDCCA Full financialMetrics object:\", JSON.stringify(financialMetrics, null, 2));\n                // Check if we got meaningful data\n                if (financialMetrics?.operatingIncome === 0 && financialMetrics?.revenue === 0) {\n                    console.warn(\"‚ö†Ô∏è Financial metrics returned all zeros - this might indicate an issue\");\n                    console.warn(\"   - Check if Zoho Books has financial data for the date range\");\n                    console.warn(\"   - Verify OAuth scopes include ZohoBooks.reports.READ\");\n                    console.warn(\"   - Check if Reports module is enabled in your Zoho Books account\");\n                }\n                // If cashFlow is 0, log warning to verify data in Zoho\n                if (financialMetrics?.cashFlow === 0) {\n                    console.warn(\"‚ö†Ô∏è Cash Flow is 0 - verify data in Zoho for date range\");\n                }\n            } catch (error) {\n                console.error(\"‚ùå Failed to fetch financial metrics:\", error);\n                // Type guard to check if error has response property\n                const hasResponse = (err)=>{\n                    return typeof err === \"object\" && err !== null && \"response\" in err;\n                };\n                console.error(\"Error details:\", {\n                    message: error instanceof Error ? error.message : \"Unknown error\",\n                    status: hasResponse(error) ? error.response?.status : undefined,\n                    statusText: hasResponse(error) ? error.response?.statusText : undefined,\n                    data: hasResponse(error) ? error.response?.data : undefined,\n                    stack: error instanceof Error ? error.stack : undefined\n                });\n                // Provide specific guidance based on error type\n                if (hasResponse(error) && error.response?.status === 404) {\n                    console.error(\"\\uD83D\\uDD0D 404 Error: Reports endpoints not found. Check if your Zoho Books plan includes financial reporting.\");\n                } else if (hasResponse(error) && error.response?.status === 401) {\n                    console.error(\"\\uD83D\\uDD10 401 Error: Authentication failed. Check OAuth scopes and token validity.\");\n                } else if (hasResponse(error) && error.response?.status === 403) {\n                    console.error(\"\\uD83D\\uDEAB 403 Error: Access forbidden. Check if Reports module is enabled in your Zoho Books account.\");\n                } else if (hasResponse(error) && error.response?.status === 429) {\n                    console.error(\"‚è∞ 429 Error: Rate limited. Zoho API rate limits exceeded.\");\n                }\n                financialMetrics = {\n                    revenue: 0,\n                    expenses: 0,\n                    netProfit: 0,\n                    grossProfit: 0,\n                    operatingIncome: 0,\n                    cashFlow: 0\n                };\n            }\n        } catch (error) {\n            console.error(\"‚ùå Failed to fetch Zoho data:\", error);\n            // Check if it's an authentication/rate limit error\n            if (error instanceof Error) {\n                const errorMessage = error.message.toLowerCase();\n                if (errorMessage.includes(\"rate limit\") || errorMessage.includes(\"authentication\") || errorMessage.includes(\"token\")) {\n                    zohoAuthFailed = true;\n                    console.warn(\"‚ö†Ô∏è Zoho authentication failed due to rate limits or token issues. Showing partial data.\");\n                }\n            }\n            projects = [];\n            invoices = [];\n            financialMetrics = {\n                revenue: 0,\n                expenses: 0,\n                netProfit: 0,\n                grossProfit: 0,\n                operatingIncome: 0,\n                cashFlow: 0\n            };\n        }\n        // Log Zoho API call count for monitoring\n        console.log(`üìä Zoho API calls made in this request: ${zohoApiCallCount}`);\n        // Fetch Clockify data\n        try {\n            console.log(\"\\uD83D\\uDD04 Starting Clockify data fetch...\");\n            console.log(\"\\uD83D\\uDD11 Environment check - CLOCKIFY_API_KEY:\", process.env.CLOCKIFY_API_KEY ? \"‚úÖ Set\" : \"‚ùå Missing\");\n            console.log(\"\\uD83D\\uDD11 Environment check - CLOCKIFY_WORKSPACE_ID:\", process.env.CLOCKIFY_WORKSPACE_ID ? \"‚úÖ Set\" : \"‚ùå Missing\");\n            const clockifyConfig = _lib_clockify__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getConfigurationStatus();\n            console.log(\"\\uD83D\\uDCCB Clockify config status:\", clockifyConfig);\n            if (clockifyConfig.configured) {\n                console.log(\"‚è∞ Clockify configured, fetching real data...\");\n                const [clockifyUser, clockifyProjects, timeEntries] = await Promise.all([\n                    _lib_clockify__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getUser(),\n                    _lib_clockify__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getProjects(),\n                    _lib_clockify__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getAllTimeEntries(extendedStartDate.toISOString(), now.toISOString())\n                ]);\n                console.log(\"\\uD83D\\uDCCA Clockify raw data received:\", {\n                    user: clockifyUser?.name || \"Unknown\",\n                    projectsCount: clockifyProjects?.length || 0,\n                    timeEntriesCount: timeEntries?.length || 0\n                });\n                // Calculate time tracking metrics\n                const totalHours = timeEntries.reduce((sum, entry)=>{\n                    const duration = entry.timeInterval?.duration || \"PT0H\";\n                    const hours = parseDuration(duration);\n                    return sum + hours;\n                }, 0);\n                const billableHours = timeEntries.filter((entry)=>entry.billable).reduce((sum, entry)=>{\n                    const duration = entry.timeInterval?.duration || \"PT0H\";\n                    const hours = parseDuration(duration);\n                    return sum + hours;\n                }, 0);\n                const efficiency = totalHours > 0 ? billableHours / totalHours : 0.85;\n                // Calculate average hourly rate\n                const billableEntries = timeEntries.filter((entry)=>entry.billable);\n                let averageHourlyRate = 125; // Default\n                if (billableEntries.length > 0) {\n                    const totalRate = billableEntries.reduce((sum, entry)=>{\n                        const rate = typeof entry.hourlyRate === \"object\" ? entry.hourlyRate.amount : entry.hourlyRate || 150;\n                        return sum + rate;\n                    }, 0);\n                    averageHourlyRate = totalRate / billableEntries.length;\n                }\n                clockifyData = {\n                    totalHours,\n                    billableHours,\n                    nonBillableHours: totalHours - billableHours,\n                    efficiency,\n                    averageHourlyRate,\n                    totalTimeValue: billableHours * averageHourlyRate,\n                    averageHoursPerProject: projects.length > 0 ? totalHours / projects.length : 0\n                };\n                console.log(\"‚úÖ Clockify data calculated:\", clockifyData);\n                console.log(\"\\uD83D\\uDCCA Clockify billing calculations:\", {\n                    billableHours: clockifyData.billableHours,\n                    averageHourlyRate: clockifyData.averageHourlyRate,\n                    totalTimeValue: clockifyData.totalTimeValue,\n                    calculatedBilled: clockifyData.billableHours * clockifyData.averageHourlyRate * 0.7,\n                    calculatedUnbilled: clockifyData.billableHours * clockifyData.averageHourlyRate * 0.3\n                });\n            } else {\n                console.log(\"\\uD83C\\uDFAD Clockify not configured, using mock data\");\n                clockifyData = {\n                    totalHours: 28400,\n                    billableHours: 25200,\n                    nonBillableHours: 3200,\n                    efficiency: 0.89,\n                    averageHourlyRate: 125,\n                    totalTimeValue: 3150000,\n                    averageHoursPerProject: 70\n                };\n            }\n        } catch (error) {\n            console.warn(\"‚ö†Ô∏è Failed to fetch Clockify data, using defaults:\", error);\n            console.error(\"Clockify error details:\", {\n                message: error instanceof Error ? error.message : \"Unknown error\",\n                stack: error instanceof Error ? error.stack : undefined\n            });\n            clockifyData = {\n                totalHours: 28400,\n                billableHours: 25200,\n                nonBillableHours: 3200,\n                efficiency: 0.89,\n                averageHourlyRate: 125,\n                totalTimeValue: 3150000,\n                averageHoursPerProject: 70\n            };\n        }\n        // Calculate project metrics\n        const activeProjects = projects.filter((p)=>p.status === \"active\") || [];\n        const totalProjects = projects.length || 0;\n        // Calculate billing metrics\n        const paidInvoices = invoices.filter((inv)=>inv.status === \"paid\") || [];\n        const outstandingInvoices = invoices.filter((inv)=>inv.status === \"sent\" || inv.status === \"viewed\") || [];\n        // Calculate billing from Zoho invoices\n        const zohoTotalBilled = paidInvoices.reduce((sum, inv)=>sum + (inv.total || 0), 0);\n        const zohoTotalUnbilled = outstandingInvoices.reduce((sum, inv)=>sum + (inv.total || 0), 0);\n        // Calculate billing from Clockify time tracking (if available)\n        let clockifyTotalBilled = 0;\n        let clockifyTotalUnbilled = 0;\n        if (clockifyData && clockifyData.totalHours > 0) {\n            // Use Clockify data to calculate billable amounts\n            const clockifyBillableAmount = clockifyData.billableHours * clockifyData.averageHourlyRate;\n            // If we have Clockify data, use it as the primary source\n            // Otherwise fall back to Zoho data\n            if (clockifyData.totalHours > 0) {\n                clockifyTotalBilled = clockifyBillableAmount * 0.7; // Assume 70% of billable time is invoiced\n                clockifyTotalUnbilled = clockifyBillableAmount * 0.3; // Assume 30% is unbilled\n            }\n        }\n        // Use the higher value between Zoho and Clockify, or combine them\n        const totalBilled = Math.max(zohoTotalBilled, clockifyTotalBilled) || zohoTotalBilled;\n        const totalUnbilled = Math.max(zohoTotalUnbilled, clockifyTotalUnbilled) || zohoTotalUnbilled;\n        console.log(\"\\uD83D\\uDCB0 Final billing calculations:\", {\n            zohoTotalBilled,\n            zohoTotalUnbilled,\n            clockifyTotalBilled,\n            clockifyTotalUnbilled,\n            finalTotalBilled: totalBilled,\n            finalTotalUnbilled: totalUnbilled\n        });\n        console.log(\"\\uD83D\\uDCCA Zoho Books financial data:\", {\n            revenue: financialMetrics?.revenue,\n            expenses: financialMetrics?.expenses,\n            operatingIncome: financialMetrics?.operatingIncome,\n            grossProfit: financialMetrics?.grossProfit,\n            netProfit: financialMetrics?.netProfit,\n            cashFlow: financialMetrics?.cashFlow\n        });\n        // Use financial metrics from Zoho Books as the primary source for financial data\n        let ytdRevenue = financialMetrics?.revenue || totalBilled;\n        const ytdExpenses = financialMetrics?.expenses || 0;\n        const ytdOperatingIncome = financialMetrics?.operatingIncome || 0;\n        const ytdGrossProfit = financialMetrics?.grossProfit || 0;\n        const ytdNetProfit = financialMetrics?.netProfit || 0;\n        const ytdCashFlow = financialMetrics?.cashFlow || 0;\n        // Only use Clockify data if Zoho financial data is not available\n        if (!financialMetrics?.revenue && clockifyData && clockifyData.totalTimeValue > 0) {\n            const clockifyYtdRevenue = clockifyData.totalTimeValue;\n            ytdRevenue = clockifyYtdRevenue;\n        }\n        // Get top performing projects - ensure we always return an array\n        let topPerformingProjects = [];\n        try {\n            if (Array.isArray(projects) && projects.length > 0) {\n                topPerformingProjects = projects.filter((p)=>p.status === \"active\").sort((a, b)=>{\n                    const aRevenue = invoices.filter((inv)=>inv.project_id === a.project_id).reduce((sum, inv)=>sum + (inv.total || 0), 0);\n                    const bRevenue = invoices.filter((inv)=>inv.project_id === b.project_id).reduce((sum, inv)=>sum + (inv.total || 0), 0);\n                    return bRevenue - aRevenue;\n                }).slice(0, 5).map((p)=>p.project_code || p.project_name || \"Unknown Project\").filter(Boolean); // Remove any undefined/null values\n            }\n        } catch (error) {\n            console.warn(\"‚ö†Ô∏è Error calculating top performing projects, using defaults:\", error);\n            topPerformingProjects = [\n                \"Project A\",\n                \"Project B\",\n                \"Project C\"\n            ]; // Fallback\n        }\n        // Ensure we have valid arrays for all data\n        const safeDashboardData = {\n            totalProjects: totalProjects || 0,\n            totalBilled: totalBilled || 0,\n            totalUnbilled: totalUnbilled || 0,\n            activeProjects: activeProjects.length || 0,\n            totalHours: clockifyData?.totalHours || 0,\n            billableHours: clockifyData?.billableHours || 0,\n            efficiency: clockifyData?.efficiency || 0.85,\n            averageHourlyRate: clockifyData?.averageHourlyRate || 125,\n            totalTimeValue: clockifyData?.totalTimeValue || 0,\n            averageHoursPerProject: clockifyData?.averageHoursPerProject || 0,\n            topPerformingProjects: Array.isArray(topPerformingProjects) ? topPerformingProjects : [],\n            ytdRevenue: ytdRevenue || 0,\n            ytdExpenses: ytdExpenses || 0,\n            ytdProfit: (ytdRevenue || 0) - (ytdExpenses || 0),\n            ytdOperatingIncome: ytdOperatingIncome || 0,\n            ytdGrossProfit: ytdGrossProfit || 0,\n            ytdNetProfit: ytdNetProfit || 0,\n            ytdCashFlow: ytdCashFlow || 0,\n            warnings: zohoAuthFailed ? [\n                \"Zoho authentication failed due to rate limits. Showing partial data.\"\n            ] : [],\n            zohoApiCallCount\n        };\n        console.log(\"‚úÖ Homepage dashboard data generated:\", safeDashboardData);\n        console.log(\"\\uD83D\\uDE80 Returning dashboard data to client...\");\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(safeDashboardData);\n    } catch (error) {\n        console.error(\"‚ùå Homepage Dashboard API error:\", error);\n        console.error(\"Error details:\", {\n            message: error instanceof Error ? error.message : \"Unknown error\",\n            stack: error instanceof Error ? error.stack : undefined,\n            timestamp: new Date().toISOString()\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to generate homepage dashboard data\",\n            details: error instanceof Error ? error.message : \"Unknown error\",\n            timestamp: new Date().toISOString()\n        }, {\n            status: 500\n        });\n    }\n}\n// Helper function to parse duration strings (e.g., \"PT2H30M\")\nfunction parseDuration(duration) {\n    if (!duration) return 0;\n    const regex = /PT(?:(\\d+)H)?(?:(\\d+)M)?(?:(\\d+)S)?/;\n    const match = duration.match(regex);\n    if (!match) return 0;\n    const hours = parseInt(match[1] || \"0\");\n    const minutes = parseInt(match[2] || \"0\");\n    const seconds = parseInt(match[3] || \"0\");\n    return hours + minutes / 60 + seconds / 3600;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2hvbWVwYWdlLWRhc2hib2FyZC9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUF3RDtBQUNmO0FBQ0k7QUFFN0MsOERBQThEO0FBQ3ZELE1BQU1HLFVBQVUsZ0JBQWdCO0FBRWhDLGVBQWVDLElBQUlDLE9BQW9CO0lBQzVDLElBQUk7UUFDRkMsUUFBUUMsR0FBRyxDQUFDO1FBRVosTUFBTUMsTUFBTSxJQUFJQztRQUNoQixNQUFNQyxjQUFjRixJQUFJRyxXQUFXO1FBQ25DLE1BQU1DLG1CQUFtQixJQUFJSCxLQUFLQyxhQUFhLEdBQUc7UUFDbEQsTUFBTUcsZ0JBQWdCLElBQUlKLEtBQUtDLGNBQWMsR0FBRyxHQUFHO1FBRW5ELCtFQUErRTtRQUMvRSxNQUFNSSxvQkFBb0IsSUFBSUwsS0FBSyxNQUFNLEdBQUcsSUFBSSw2QkFBNkI7UUFFdkVILFFBQVFDLEdBQUcsQ0FBQyx3Q0FBOEI7WUFDNUNHO1lBQ0FFLGtCQUFrQkEsaUJBQWlCRyxXQUFXO1lBQzlDRixlQUFlQSxjQUFjRSxXQUFXO1lBQ3hDRCxtQkFBbUJBLGtCQUFrQkMsV0FBVztRQUNsRDtRQUVGLDZCQUE2QjtRQUM3QixJQUFJQyxXQUFrQixFQUFFO1FBQ3hCLElBQUlDLFdBQWtCLEVBQUU7UUFDeEIsSUFBSUMsZUFBb0I7UUFDeEIsSUFBSUMsbUJBQXdCO1FBQzVCLElBQUlDLGlCQUFpQjtRQUNyQixJQUFJQyxtQkFBbUI7UUFFdkIsa0JBQWtCO1FBQ2xCLElBQUk7WUFDRmYsUUFBUUMsR0FBRyxDQUFDO1lBRVosa0JBQWtCO1lBQ2xCYztZQUNBTCxXQUFXLE1BQU1mLGtEQUFXQSxDQUFDcUIsV0FBVztZQUN4Q0Q7WUFDQUosV0FBVyxNQUFNaEIsa0RBQVdBLENBQUNzQixXQUFXO1lBRXhDakIsUUFBUUMsR0FBRyxDQUFDLHdCQUF3QjtnQkFBRWlCLGVBQWVSLFNBQVNTLE1BQU07Z0JBQUVDLGVBQWVULFNBQVNRLE1BQU07WUFBQztZQUVyRywwQ0FBMEM7WUFD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LFVBQVVELFNBQVNELEtBQUssQ0FBQyxFQUFFLElBQUk7SUFDckMsTUFBTUcsVUFBVUYsU0FBU0QsS0FBSyxDQUFDLEVBQUUsSUFBSTtJQUVyQyxPQUFPNUQsUUFBUzhELFVBQVUsS0FBT0MsVUFBVTtBQUM3QyIsInNvdXJjZXMiOlsid2VicGFjazovL3pvaG8tYmlsbGluZy1wbGF0Zm9ybS8uL2FwcC9hcGkvaG9tZXBhZ2UtZGFzaGJvYXJkL3JvdXRlLnRzPzlkMzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcclxuaW1wb3J0IHsgem9ob1NlcnZpY2UgfSBmcm9tICdAL2xpYi96b2hvJztcclxuaW1wb3J0IGNsb2NraWZ5U2VydmljZSBmcm9tICdAL2xpYi9jbG9ja2lmeSc7XHJcblxyXG4vLyBGb3JjZSBkeW5hbWljIHJlbmRlcmluZyB0byBwcmV2ZW50IHN0YXRpYyBnZW5lcmF0aW9uIGVycm9yc1xyXG5leHBvcnQgY29uc3QgZHluYW1pYyA9ICdmb3JjZS1keW5hbWljJztcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgY29uc29sZS5sb2coJ/CfmoAgSG9tZXBhZ2UgRGFzaGJvYXJkIEFQSSBjYWxsZWQgLSBzdGFydGluZyBkYXRhIGNvbGxlY3Rpb24uLi4nKTtcclxuICAgIFxyXG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcclxuICAgIGNvbnN0IGN1cnJlbnRZZWFyID0gbm93LmdldEZ1bGxZZWFyKCk7XHJcbiAgICBjb25zdCBjdXJyZW50WWVhclN0YXJ0ID0gbmV3IERhdGUoY3VycmVudFllYXIsIDAsIDEpO1xyXG4gICAgY29uc3QgbGFzdFllYXJTdGFydCA9IG5ldyBEYXRlKGN1cnJlbnRZZWFyIC0gMSwgMCwgMSk7XHJcbiAgICBcclxuICAgIC8vIFVzZSBleHRlbmRlZCBkYXRlIHJhbmdlIGZvciBDbG9ja2lmeSB0byBpbmNsdWRlIDIwMjQgZGF0YSBmb3IgYmV0dGVyIG1ldHJpY3NcclxuICAgIGNvbnN0IGV4dGVuZGVkU3RhcnREYXRlID0gbmV3IERhdGUoMjAyNCwgMCwgMSk7IC8vIFN0YXJ0IGZyb20gSmFudWFyeSAxLCAyMDI0XHJcbiAgICBcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OFIERhdGUgcmFuZ2VzIGNhbGN1bGF0ZWQ6Jywge1xyXG4gICAgICAgIGN1cnJlbnRZZWFyLFxyXG4gICAgICAgIGN1cnJlbnRZZWFyU3RhcnQ6IGN1cnJlbnRZZWFyU3RhcnQudG9JU09TdHJpbmcoKSxcclxuICAgICAgICBsYXN0WWVhclN0YXJ0OiBsYXN0WWVhclN0YXJ0LnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgZXh0ZW5kZWRTdGFydERhdGU6IGV4dGVuZGVkU3RhcnREYXRlLnRvSVNPU3RyaW5nKClcclxuICAgICAgfSk7XHJcblxyXG4gICAgLy8gSW5pdGlhbGl6ZSBkYXRhIGNvbnRhaW5lcnNcclxuICAgIGxldCBwcm9qZWN0czogYW55W10gPSBbXTtcclxuICAgIGxldCBpbnZvaWNlczogYW55W10gPSBbXTtcclxuICAgIGxldCBjbG9ja2lmeURhdGE6IGFueSA9IG51bGw7XHJcbiAgICBsZXQgZmluYW5jaWFsTWV0cmljczogYW55ID0gbnVsbDtcclxuICAgIGxldCB6b2hvQXV0aEZhaWxlZCA9IGZhbHNlO1xyXG4gICAgbGV0IHpvaG9BcGlDYWxsQ291bnQgPSAwO1xyXG5cclxuICAgIC8vIEZldGNoIFpvaG8gZGF0YVxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coJ/CflIQgU3RhcnRpbmcgWm9obyBkYXRhIGZldGNoLi4uJyk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBUcmFjayBBUEkgY2FsbHNcclxuICAgICAgem9ob0FwaUNhbGxDb3VudCsrO1xyXG4gICAgICBwcm9qZWN0cyA9IGF3YWl0IHpvaG9TZXJ2aWNlLmdldFByb2plY3RzKCk7XHJcbiAgICAgIHpvaG9BcGlDYWxsQ291bnQrKztcclxuICAgICAgaW52b2ljZXMgPSBhd2FpdCB6b2hvU2VydmljZS5nZXRJbnZvaWNlcygpO1xyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coJ+KchSBab2hvIGRhdGEgZmV0Y2hlZDonLCB7IHByb2plY3RzQ291bnQ6IHByb2plY3RzLmxlbmd0aCwgaW52b2ljZXNDb3VudDogaW52b2ljZXMubGVuZ3RoIH0pO1xyXG4gICAgICBcclxuICAgICAgLy8gTG9nIHJhdyBpbnZvaWNlIGRhdGEgY291bnRzIGFuZCBkZXRhaWxzXHJcbiAgICAgIGlmIChpbnZvaWNlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfk4ogUmF3IGludm9pY2UgZGF0YSBhbmFseXNpczonKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhgICAtIFRvdGFsIGludm9pY2VzOiAke2ludm9pY2VzLmxlbmd0aH1gKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBDb3VudCBieSBzdGF0dXNcclxuICAgICAgICBjb25zdCBzdGF0dXNDb3VudHMgPSBpbnZvaWNlcy5yZWR1Y2UoKGFjYzogUmVjb3JkPHN0cmluZywgbnVtYmVyPiwgaW52OiBhbnkpID0+IHtcclxuICAgICAgICAgIGFjY1tpbnYuc3RhdHVzXSA9IChhY2NbaW52LnN0YXR1c10gfHwgMCkgKyAxO1xyXG4gICAgICAgICAgcmV0dXJuIGFjYztcclxuICAgICAgICB9LCB7fSBhcyBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+KTtcclxuICAgICAgICBjb25zb2xlLmxvZygnICAtIFN0YXR1cyBicmVha2Rvd246Jywgc3RhdHVzQ291bnRzKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBDb3VudCBieSBwcm9qZWN0XHJcbiAgICAgICAgY29uc3QgcHJvamVjdENvdW50cyA9IGludm9pY2VzLnJlZHVjZSgoYWNjOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+LCBpbnY6IGFueSkgPT4ge1xyXG4gICAgICAgICAgYWNjW2ludi5wcm9qZWN0X2lkXSA9IChhY2NbaW52LnByb2plY3RfaWRdIHx8IDApICsgMTtcclxuICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgfSwge30gYXMgUmVjb3JkPHN0cmluZywgbnVtYmVyPik7XHJcbiAgICAgICAgY29uc29sZS5sb2coYCAgLSBQcm9qZWN0cyB3aXRoIGludm9pY2VzOiAke09iamVjdC5rZXlzKHByb2plY3RDb3VudHMpLmxlbmd0aH1gKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBBbW91bnQgYW5hbHlzaXNcclxuICAgICAgICBjb25zdCB0b3RhbEFtb3VudCA9IGludm9pY2VzLnJlZHVjZSgoc3VtOiBudW1iZXIsIGludjogYW55KSA9PiBzdW0gKyAoaW52LmFtb3VudCB8fCAwKSwgMCk7XHJcbiAgICAgICAgY29uc3QgYXZnQW1vdW50ID0gdG90YWxBbW91bnQgLyBpbnZvaWNlcy5sZW5ndGg7XHJcbiAgICAgICAgY29uc29sZS5sb2coYCAgLSBUb3RhbCBhbW91bnQ6ICQke3RvdGFsQW1vdW50LnRvRml4ZWQoMil9YCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coYCAgLSBBdmVyYWdlIGFtb3VudDogJCR7YXZnQW1vdW50LnRvRml4ZWQoMil9YCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gU2FtcGxlIGludm9pY2UgZGF0YVxyXG4gICAgICAgIGNvbnN0IHNhbXBsZUludm9pY2UgPSBpbnZvaWNlc1swXTtcclxuICAgICAgICBjb25zb2xlLmxvZygnICAtIFNhbXBsZSBpbnZvaWNlOicsIHtcclxuICAgICAgICAgIGlkOiBzYW1wbGVJbnZvaWNlLmludm9pY2VfaWQsXHJcbiAgICAgICAgICBudW1iZXI6IHNhbXBsZUludm9pY2UuaW52b2ljZV9udW1iZXIsXHJcbiAgICAgICAgICBwcm9qZWN0OiBzYW1wbGVJbnZvaWNlLnByb2plY3RfaWQsXHJcbiAgICAgICAgICBhbW91bnQ6IHNhbXBsZUludm9pY2UuYW1vdW50LFxyXG4gICAgICAgICAgc3RhdHVzOiBzYW1wbGVJbnZvaWNlLnN0YXR1cyxcclxuICAgICAgICAgIGRhdGU6IHNhbXBsZUludm9pY2UuZGF0ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfimqDvuI8gTm8gaW52b2ljZXMgZm91bmQgaW4gWm9obyBkYXRhJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEdldCBmaW5hbmNpYWwgbWV0cmljcyBmb3IgY3VycmVudCB5ZWFyXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ/CfkrAgRmV0Y2hpbmcgZmluYW5jaWFsIG1ldHJpY3MuLi4nKTtcclxuICAgICAgICBjb25zb2xlLmxvZygn8J+ThSBEYXRlIHJhbmdlOicsIHtcclxuICAgICAgICAgIHN0YXJ0OiBjdXJyZW50WWVhclN0YXJ0LnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSxcclxuICAgICAgICAgIGVuZDogbm93LnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHpvaG9BcGlDYWxsQ291bnQrKztcclxuICAgICAgICBmaW5hbmNpYWxNZXRyaWNzID0gYXdhaXQgem9ob1NlcnZpY2UuZ2V0RmluYW5jaWFsTWV0cmljcyhcclxuICAgICAgICAgIGN1cnJlbnRZZWFyU3RhcnQudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdLFxyXG4gICAgICAgICAgbm93LnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ+KchSBGaW5hbmNpYWwgbWV0cmljcyBsb2FkZWQ6JywgZmluYW5jaWFsTWV0cmljcyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gTG9nIHRoZSBmdWxsIGZpbmFuY2lhbE1ldHJpY3Mgb2JqZWN0IGFmdGVyIGZldGNoIHRvIGNvbmZpcm0gdmFsdWVzXHJcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfk4ogRnVsbCBmaW5hbmNpYWxNZXRyaWNzIG9iamVjdDonLCBKU09OLnN0cmluZ2lmeShmaW5hbmNpYWxNZXRyaWNzLCBudWxsLCAyKSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgd2UgZ290IG1lYW5pbmdmdWwgZGF0YVxyXG4gICAgICAgIGlmIChmaW5hbmNpYWxNZXRyaWNzPy5vcGVyYXRpbmdJbmNvbWUgPT09IDAgJiYgZmluYW5jaWFsTWV0cmljcz8ucmV2ZW51ZSA9PT0gMCkge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gRmluYW5jaWFsIG1ldHJpY3MgcmV0dXJuZWQgYWxsIHplcm9zIC0gdGhpcyBtaWdodCBpbmRpY2F0ZSBhbiBpc3N1ZScpO1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKCcgICAtIENoZWNrIGlmIFpvaG8gQm9va3MgaGFzIGZpbmFuY2lhbCBkYXRhIGZvciB0aGUgZGF0ZSByYW5nZScpO1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKCcgICAtIFZlcmlmeSBPQXV0aCBzY29wZXMgaW5jbHVkZSBab2hvQm9va3MucmVwb3J0cy5SRUFEJyk7XHJcbiAgICAgICAgICBjb25zb2xlLndhcm4oJyAgIC0gQ2hlY2sgaWYgUmVwb3J0cyBtb2R1bGUgaXMgZW5hYmxlZCBpbiB5b3VyIFpvaG8gQm9va3MgYWNjb3VudCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBJZiBjYXNoRmxvdyBpcyAwLCBsb2cgd2FybmluZyB0byB2ZXJpZnkgZGF0YSBpbiBab2hvXHJcbiAgICAgICAgaWYgKGZpbmFuY2lhbE1ldHJpY3M/LmNhc2hGbG93ID09PSAwKSB7XHJcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBDYXNoIEZsb3cgaXMgMCAtIHZlcmlmeSBkYXRhIGluIFpvaG8gZm9yIGRhdGUgcmFuZ2UnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEZhaWxlZCB0byBmZXRjaCBmaW5hbmNpYWwgbWV0cmljczonLCBlcnJvcik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gVHlwZSBndWFyZCB0byBjaGVjayBpZiBlcnJvciBoYXMgcmVzcG9uc2UgcHJvcGVydHlcclxuICAgICAgICBjb25zdCBoYXNSZXNwb25zZSA9IChlcnI6IHVua25vd24pOiBlcnIgaXMgeyByZXNwb25zZTogeyBzdGF0dXM/OiBudW1iZXI7IHN0YXR1c1RleHQ/OiBzdHJpbmc7IGRhdGE/OiBhbnkgfSB9ID0+IHtcclxuICAgICAgICAgIHJldHVybiB0eXBlb2YgZXJyID09PSAnb2JqZWN0JyAmJiBlcnIgIT09IG51bGwgJiYgJ3Jlc3BvbnNlJyBpbiBlcnI7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZXRhaWxzOicsIHtcclxuICAgICAgICAgIG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InLFxyXG4gICAgICAgICAgc3RhdHVzOiBoYXNSZXNwb25zZShlcnJvcikgPyBlcnJvci5yZXNwb25zZT8uc3RhdHVzIDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgc3RhdHVzVGV4dDogaGFzUmVzcG9uc2UoZXJyb3IpID8gZXJyb3IucmVzcG9uc2U/LnN0YXR1c1RleHQgOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICBkYXRhOiBoYXNSZXNwb25zZShlcnJvcikgPyBlcnJvci5yZXNwb25zZT8uZGF0YSA6IHVuZGVmaW5lZCxcclxuICAgICAgICAgIHN0YWNrOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3Iuc3RhY2sgOiB1bmRlZmluZWRcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBQcm92aWRlIHNwZWNpZmljIGd1aWRhbmNlIGJhc2VkIG9uIGVycm9yIHR5cGVcclxuICAgICAgICBpZiAoaGFzUmVzcG9uc2UoZXJyb3IpICYmIGVycm9yLnJlc3BvbnNlPy5zdGF0dXMgPT09IDQwNCkge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcign8J+UjSA0MDQgRXJyb3I6IFJlcG9ydHMgZW5kcG9pbnRzIG5vdCBmb3VuZC4gQ2hlY2sgaWYgeW91ciBab2hvIEJvb2tzIHBsYW4gaW5jbHVkZXMgZmluYW5jaWFsIHJlcG9ydGluZy4nKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGhhc1Jlc3BvbnNlKGVycm9yKSAmJiBlcnJvci5yZXNwb25zZT8uc3RhdHVzID09PSA0MDEpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ/CflJAgNDAxIEVycm9yOiBBdXRoZW50aWNhdGlvbiBmYWlsZWQuIENoZWNrIE9BdXRoIHNjb3BlcyBhbmQgdG9rZW4gdmFsaWRpdHkuJyk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChoYXNSZXNwb25zZShlcnJvcikgJiYgZXJyb3IucmVzcG9uc2U/LnN0YXR1cyA9PT0gNDAzKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCfwn5qrIDQwMyBFcnJvcjogQWNjZXNzIGZvcmJpZGRlbi4gQ2hlY2sgaWYgUmVwb3J0cyBtb2R1bGUgaXMgZW5hYmxlZCBpbiB5b3VyIFpvaG8gQm9va3MgYWNjb3VudC4nKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGhhc1Jlc3BvbnNlKGVycm9yKSAmJiBlcnJvci5yZXNwb25zZT8uc3RhdHVzID09PSA0MjkpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KPsCA0MjkgRXJyb3I6IFJhdGUgbGltaXRlZC4gWm9obyBBUEkgcmF0ZSBsaW1pdHMgZXhjZWVkZWQuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGZpbmFuY2lhbE1ldHJpY3MgPSB7IHJldmVudWU6IDAsIGV4cGVuc2VzOiAwLCBuZXRQcm9maXQ6IDAsIGdyb3NzUHJvZml0OiAwLCBvcGVyYXRpbmdJbmNvbWU6IDAsIGNhc2hGbG93OiAwIH07XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gZmV0Y2ggWm9obyBkYXRhOicsIGVycm9yKTtcclxuICAgICAgXHJcbiAgICAgIC8vIENoZWNrIGlmIGl0J3MgYW4gYXV0aGVudGljYXRpb24vcmF0ZSBsaW1pdCBlcnJvclxyXG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2UudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICBpZiAoZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCdyYXRlIGxpbWl0JykgfHwgZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCdhdXRoZW50aWNhdGlvbicpIHx8IGVycm9yTWVzc2FnZS5pbmNsdWRlcygndG9rZW4nKSkge1xyXG4gICAgICAgICAgem9ob0F1dGhGYWlsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gWm9obyBhdXRoZW50aWNhdGlvbiBmYWlsZWQgZHVlIHRvIHJhdGUgbGltaXRzIG9yIHRva2VuIGlzc3Vlcy4gU2hvd2luZyBwYXJ0aWFsIGRhdGEuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBwcm9qZWN0cyA9IFtdO1xyXG4gICAgICBpbnZvaWNlcyA9IFtdO1xyXG4gICAgICBmaW5hbmNpYWxNZXRyaWNzID0geyByZXZlbnVlOiAwLCBleHBlbnNlczogMCwgbmV0UHJvZml0OiAwLCBncm9zc1Byb2ZpdDogMCwgb3BlcmF0aW5nSW5jb21lOiAwLCBjYXNoRmxvdzogMCB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIExvZyBab2hvIEFQSSBjYWxsIGNvdW50IGZvciBtb25pdG9yaW5nXHJcbiAgICBjb25zb2xlLmxvZyhg8J+TiiBab2hvIEFQSSBjYWxscyBtYWRlIGluIHRoaXMgcmVxdWVzdDogJHt6b2hvQXBpQ2FsbENvdW50fWApO1xyXG5cclxuICAgIC8vIEZldGNoIENsb2NraWZ5IGRhdGFcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFN0YXJ0aW5nIENsb2NraWZ5IGRhdGEgZmV0Y2guLi4nKTtcclxuICAgICAgY29uc29sZS5sb2coJ/CflJEgRW52aXJvbm1lbnQgY2hlY2sgLSBDTE9DS0lGWV9BUElfS0VZOicsIHByb2Nlc3MuZW52LkNMT0NLSUZZX0FQSV9LRVkgPyAn4pyFIFNldCcgOiAn4p2MIE1pc3NpbmcnKTtcclxuICAgICAgY29uc29sZS5sb2coJ/CflJEgRW52aXJvbm1lbnQgY2hlY2sgLSBDTE9DS0lGWV9XT1JLU1BBQ0VfSUQ6JywgcHJvY2Vzcy5lbnYuQ0xPQ0tJRllfV09SS1NQQUNFX0lEID8gJ+KchSBTZXQnIDogJ+KdjCBNaXNzaW5nJyk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBjbG9ja2lmeUNvbmZpZyA9IGNsb2NraWZ5U2VydmljZS5nZXRDb25maWd1cmF0aW9uU3RhdHVzKCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OLIENsb2NraWZ5IGNvbmZpZyBzdGF0dXM6JywgY2xvY2tpZnlDb25maWcpO1xyXG4gICAgICBcclxuICAgICAgaWYgKGNsb2NraWZ5Q29uZmlnLmNvbmZpZ3VyZWQpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygn4o+wIENsb2NraWZ5IGNvbmZpZ3VyZWQsIGZldGNoaW5nIHJlYWwgZGF0YS4uLicpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IFtjbG9ja2lmeVVzZXIsIGNsb2NraWZ5UHJvamVjdHMsIHRpbWVFbnRyaWVzXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcclxuICAgICAgICAgIGNsb2NraWZ5U2VydmljZS5nZXRVc2VyKCksXHJcbiAgICAgICAgICBjbG9ja2lmeVNlcnZpY2UuZ2V0UHJvamVjdHMoKSxcclxuICAgICAgICAgIGNsb2NraWZ5U2VydmljZS5nZXRBbGxUaW1lRW50cmllcyhcclxuICAgICAgICAgICAgZXh0ZW5kZWRTdGFydERhdGUudG9JU09TdHJpbmcoKSxcclxuICAgICAgICAgICAgbm93LnRvSVNPU3RyaW5nKClcclxuICAgICAgICAgIClcclxuICAgICAgICBdKTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfk4ogQ2xvY2tpZnkgcmF3IGRhdGEgcmVjZWl2ZWQ6Jywge1xyXG4gICAgICAgICAgdXNlcjogY2xvY2tpZnlVc2VyPy5uYW1lIHx8ICdVbmtub3duJyxcclxuICAgICAgICAgIHByb2plY3RzQ291bnQ6IGNsb2NraWZ5UHJvamVjdHM/Lmxlbmd0aCB8fCAwLFxyXG4gICAgICAgICAgdGltZUVudHJpZXNDb3VudDogdGltZUVudHJpZXM/Lmxlbmd0aCB8fCAwXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIENhbGN1bGF0ZSB0aW1lIHRyYWNraW5nIG1ldHJpY3NcclxuICAgICAgICBjb25zdCB0b3RhbEhvdXJzID0gdGltZUVudHJpZXMucmVkdWNlKChzdW0sIGVudHJ5KSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBkdXJhdGlvbiA9IGVudHJ5LnRpbWVJbnRlcnZhbD8uZHVyYXRpb24gfHwgJ1BUMEgnO1xyXG4gICAgICAgICAgY29uc3QgaG91cnMgPSBwYXJzZUR1cmF0aW9uKGR1cmF0aW9uKTtcclxuICAgICAgICAgIHJldHVybiBzdW0gKyBob3VycztcclxuICAgICAgICB9LCAwKTtcclxuXHJcbiAgICAgICAgY29uc3QgYmlsbGFibGVIb3VycyA9IHRpbWVFbnRyaWVzLmZpbHRlcihlbnRyeSA9PiBlbnRyeS5iaWxsYWJsZSkucmVkdWNlKChzdW0sIGVudHJ5KSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBkdXJhdGlvbiA9IGVudHJ5LnRpbWVJbnRlcnZhbD8uZHVyYXRpb24gfHwgJ1BUMEgnO1xyXG4gICAgICAgICAgY29uc3QgaG91cnMgPSBwYXJzZUR1cmF0aW9uKGR1cmF0aW9uKTtcclxuICAgICAgICAgIHJldHVybiBzdW0gKyBob3VycztcclxuICAgICAgICB9LCAwKTtcclxuXHJcbiAgICAgICAgY29uc3QgZWZmaWNpZW5jeSA9IHRvdGFsSG91cnMgPiAwID8gYmlsbGFibGVIb3VycyAvIHRvdGFsSG91cnMgOiAwLjg1O1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENhbGN1bGF0ZSBhdmVyYWdlIGhvdXJseSByYXRlXHJcbiAgICAgICAgY29uc3QgYmlsbGFibGVFbnRyaWVzID0gdGltZUVudHJpZXMuZmlsdGVyKGVudHJ5ID0+IGVudHJ5LmJpbGxhYmxlKTtcclxuICAgICAgICBsZXQgYXZlcmFnZUhvdXJseVJhdGUgPSAxMjU7IC8vIERlZmF1bHRcclxuICAgICAgICBpZiAoYmlsbGFibGVFbnRyaWVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgIGNvbnN0IHRvdGFsUmF0ZSA9IGJpbGxhYmxlRW50cmllcy5yZWR1Y2UoKHN1bSwgZW50cnkpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcmF0ZSA9IHR5cGVvZiBlbnRyeS5ob3VybHlSYXRlID09PSAnb2JqZWN0JyA/IGVudHJ5LmhvdXJseVJhdGUuYW1vdW50IDogKGVudHJ5LmhvdXJseVJhdGUgfHwgMTUwKTtcclxuICAgICAgICAgICAgcmV0dXJuIHN1bSArIHJhdGU7XHJcbiAgICAgICAgICB9LCAwKTtcclxuICAgICAgICAgIGF2ZXJhZ2VIb3VybHlSYXRlID0gdG90YWxSYXRlIC8gYmlsbGFibGVFbnRyaWVzLmxlbmd0aDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNsb2NraWZ5RGF0YSA9IHtcclxuICAgICAgICAgIHRvdGFsSG91cnMsXHJcbiAgICAgICAgICBiaWxsYWJsZUhvdXJzLFxyXG4gICAgICAgICAgbm9uQmlsbGFibGVIb3VyczogdG90YWxIb3VycyAtIGJpbGxhYmxlSG91cnMsXHJcbiAgICAgICAgICBlZmZpY2llbmN5LFxyXG4gICAgICAgICAgYXZlcmFnZUhvdXJseVJhdGUsXHJcbiAgICAgICAgICB0b3RhbFRpbWVWYWx1ZTogYmlsbGFibGVIb3VycyAqIGF2ZXJhZ2VIb3VybHlSYXRlLFxyXG4gICAgICAgICAgYXZlcmFnZUhvdXJzUGVyUHJvamVjdDogcHJvamVjdHMubGVuZ3RoID4gMCA/IHRvdGFsSG91cnMgLyBwcm9qZWN0cy5sZW5ndGggOiAwXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coJ+KchSBDbG9ja2lmeSBkYXRhIGNhbGN1bGF0ZWQ6JywgY2xvY2tpZnlEYXRhKTtcclxuICAgIGNvbnNvbGUubG9nKCfwn5OKIENsb2NraWZ5IGJpbGxpbmcgY2FsY3VsYXRpb25zOicsIHtcclxuICAgICAgYmlsbGFibGVIb3VyczogY2xvY2tpZnlEYXRhLmJpbGxhYmxlSG91cnMsXHJcbiAgICAgIGF2ZXJhZ2VIb3VybHlSYXRlOiBjbG9ja2lmeURhdGEuYXZlcmFnZUhvdXJseVJhdGUsXHJcbiAgICAgIHRvdGFsVGltZVZhbHVlOiBjbG9ja2lmeURhdGEudG90YWxUaW1lVmFsdWUsXHJcbiAgICAgIGNhbGN1bGF0ZWRCaWxsZWQ6IGNsb2NraWZ5RGF0YS5iaWxsYWJsZUhvdXJzICogY2xvY2tpZnlEYXRhLmF2ZXJhZ2VIb3VybHlSYXRlICogMC43LFxyXG4gICAgICBjYWxjdWxhdGVkVW5iaWxsZWQ6IGNsb2NraWZ5RGF0YS5iaWxsYWJsZUhvdXJzICogY2xvY2tpZnlEYXRhLmF2ZXJhZ2VIb3VybHlSYXRlICogMC4zXHJcbiAgICB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmxvZygn8J+OrSBDbG9ja2lmeSBub3QgY29uZmlndXJlZCwgdXNpbmcgbW9jayBkYXRhJyk7XHJcbiAgICAgICAgY2xvY2tpZnlEYXRhID0ge1xyXG4gICAgICAgICAgdG90YWxIb3VyczogMjg0MDAsXHJcbiAgICAgICAgICBiaWxsYWJsZUhvdXJzOiAyNTIwMCxcclxuICAgICAgICAgIG5vbkJpbGxhYmxlSG91cnM6IDMyMDAsXHJcbiAgICAgICAgICBlZmZpY2llbmN5OiAwLjg5LFxyXG4gICAgICAgICAgYXZlcmFnZUhvdXJseVJhdGU6IDEyNSxcclxuICAgICAgICAgIHRvdGFsVGltZVZhbHVlOiAzMTUwMDAwLFxyXG4gICAgICAgICAgYXZlcmFnZUhvdXJzUGVyUHJvamVjdDogNzBcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBGYWlsZWQgdG8gZmV0Y2ggQ2xvY2tpZnkgZGF0YSwgdXNpbmcgZGVmYXVsdHM6JywgZXJyb3IpO1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdDbG9ja2lmeSBlcnJvciBkZXRhaWxzOicsIHtcclxuICAgICAgICBtZXNzYWdlOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJyxcclxuICAgICAgICBzdGFjazogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLnN0YWNrIDogdW5kZWZpbmVkXHJcbiAgICAgIH0pO1xyXG4gICAgICBjbG9ja2lmeURhdGEgPSB7XHJcbiAgICAgICAgdG90YWxIb3VyczogMjg0MDAsXHJcbiAgICAgICAgYmlsbGFibGVIb3VyczogMjUyMDAsXHJcbiAgICAgICAgbm9uQmlsbGFibGVIb3VyczogMzIwMCxcclxuICAgICAgICBlZmZpY2llbmN5OiAwLjg5LFxyXG4gICAgICAgIGF2ZXJhZ2VIb3VybHlSYXRlOiAxMjUsXHJcbiAgICAgICAgdG90YWxUaW1lVmFsdWU6IDMxNTAwMDAsXHJcbiAgICAgICAgYXZlcmFnZUhvdXJzUGVyUHJvamVjdDogNzBcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDYWxjdWxhdGUgcHJvamVjdCBtZXRyaWNzXHJcbiAgICBjb25zdCBhY3RpdmVQcm9qZWN0cyA9IHByb2plY3RzLmZpbHRlcihwID0+IHAuc3RhdHVzID09PSAnYWN0aXZlJykgfHwgW107XHJcbiAgICBjb25zdCB0b3RhbFByb2plY3RzID0gcHJvamVjdHMubGVuZ3RoIHx8IDA7XHJcbiAgICBcclxuICAgIC8vIENhbGN1bGF0ZSBiaWxsaW5nIG1ldHJpY3NcclxuICAgIGNvbnN0IHBhaWRJbnZvaWNlcyA9IGludm9pY2VzLmZpbHRlcihpbnYgPT4gaW52LnN0YXR1cyA9PT0gJ3BhaWQnKSB8fCBbXTtcclxuICAgIGNvbnN0IG91dHN0YW5kaW5nSW52b2ljZXMgPSBpbnZvaWNlcy5maWx0ZXIoaW52ID0+IGludi5zdGF0dXMgPT09ICdzZW50JyB8fCBpbnYuc3RhdHVzID09PSAndmlld2VkJykgfHwgW107XHJcbiAgICBcclxuICAgIC8vIENhbGN1bGF0ZSBiaWxsaW5nIGZyb20gWm9obyBpbnZvaWNlc1xyXG4gICAgY29uc3Qgem9ob1RvdGFsQmlsbGVkID0gcGFpZEludm9pY2VzLnJlZHVjZSgoc3VtLCBpbnYpID0+IHN1bSArIChpbnYudG90YWwgfHwgMCksIDApO1xyXG4gICAgY29uc3Qgem9ob1RvdGFsVW5iaWxsZWQgPSBvdXRzdGFuZGluZ0ludm9pY2VzLnJlZHVjZSgoc3VtLCBpbnYpID0+IHN1bSArIChpbnYudG90YWwgfHwgMCksIDApO1xyXG4gICAgXHJcbiAgICAvLyBDYWxjdWxhdGUgYmlsbGluZyBmcm9tIENsb2NraWZ5IHRpbWUgdHJhY2tpbmcgKGlmIGF2YWlsYWJsZSlcclxuICAgIGxldCBjbG9ja2lmeVRvdGFsQmlsbGVkID0gMDtcclxuICAgIGxldCBjbG9ja2lmeVRvdGFsVW5iaWxsZWQgPSAwO1xyXG4gICAgXHJcbiAgICBpZiAoY2xvY2tpZnlEYXRhICYmIGNsb2NraWZ5RGF0YS50b3RhbEhvdXJzID4gMCkge1xyXG4gICAgICAvLyBVc2UgQ2xvY2tpZnkgZGF0YSB0byBjYWxjdWxhdGUgYmlsbGFibGUgYW1vdW50c1xyXG4gICAgICBjb25zdCBjbG9ja2lmeUJpbGxhYmxlQW1vdW50ID0gY2xvY2tpZnlEYXRhLmJpbGxhYmxlSG91cnMgKiBjbG9ja2lmeURhdGEuYXZlcmFnZUhvdXJseVJhdGU7XHJcbiAgICAgIFxyXG4gICAgICAvLyBJZiB3ZSBoYXZlIENsb2NraWZ5IGRhdGEsIHVzZSBpdCBhcyB0aGUgcHJpbWFyeSBzb3VyY2VcclxuICAgICAgLy8gT3RoZXJ3aXNlIGZhbGwgYmFjayB0byBab2hvIGRhdGFcclxuICAgICAgaWYgKGNsb2NraWZ5RGF0YS50b3RhbEhvdXJzID4gMCkge1xyXG4gICAgICAgIGNsb2NraWZ5VG90YWxCaWxsZWQgPSBjbG9ja2lmeUJpbGxhYmxlQW1vdW50ICogMC43OyAvLyBBc3N1bWUgNzAlIG9mIGJpbGxhYmxlIHRpbWUgaXMgaW52b2ljZWRcclxuICAgICAgICBjbG9ja2lmeVRvdGFsVW5iaWxsZWQgPSBjbG9ja2lmeUJpbGxhYmxlQW1vdW50ICogMC4zOyAvLyBBc3N1bWUgMzAlIGlzIHVuYmlsbGVkXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gVXNlIHRoZSBoaWdoZXIgdmFsdWUgYmV0d2VlbiBab2hvIGFuZCBDbG9ja2lmeSwgb3IgY29tYmluZSB0aGVtXHJcbiAgICBjb25zdCB0b3RhbEJpbGxlZCA9IE1hdGgubWF4KHpvaG9Ub3RhbEJpbGxlZCwgY2xvY2tpZnlUb3RhbEJpbGxlZCkgfHwgem9ob1RvdGFsQmlsbGVkO1xyXG4gICAgY29uc3QgdG90YWxVbmJpbGxlZCA9IE1hdGgubWF4KHpvaG9Ub3RhbFVuYmlsbGVkLCBjbG9ja2lmeVRvdGFsVW5iaWxsZWQpIHx8IHpvaG9Ub3RhbFVuYmlsbGVkO1xyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygn8J+SsCBGaW5hbCBiaWxsaW5nIGNhbGN1bGF0aW9uczonLCB7XHJcbiAgICAgIHpvaG9Ub3RhbEJpbGxlZCxcclxuICAgICAgem9ob1RvdGFsVW5iaWxsZWQsXHJcbiAgICAgIGNsb2NraWZ5VG90YWxCaWxsZWQsXHJcbiAgICAgIGNsb2NraWZ5VG90YWxVbmJpbGxlZCxcclxuICAgICAgZmluYWxUb3RhbEJpbGxlZDogdG90YWxCaWxsZWQsXHJcbiAgICAgIGZpbmFsVG90YWxVbmJpbGxlZDogdG90YWxVbmJpbGxlZFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc29sZS5sb2coJ/Cfk4ogWm9obyBCb29rcyBmaW5hbmNpYWwgZGF0YTonLCB7XHJcbiAgICAgIHJldmVudWU6IGZpbmFuY2lhbE1ldHJpY3M/LnJldmVudWUsXHJcbiAgICAgIGV4cGVuc2VzOiBmaW5hbmNpYWxNZXRyaWNzPy5leHBlbnNlcyxcclxuICAgICAgb3BlcmF0aW5nSW5jb21lOiBmaW5hbmNpYWxNZXRyaWNzPy5vcGVyYXRpbmdJbmNvbWUsXHJcbiAgICAgIGdyb3NzUHJvZml0OiBmaW5hbmNpYWxNZXRyaWNzPy5ncm9zc1Byb2ZpdCxcclxuICAgICAgbmV0UHJvZml0OiBmaW5hbmNpYWxNZXRyaWNzPy5uZXRQcm9maXQsXHJcbiAgICAgIGNhc2hGbG93OiBmaW5hbmNpYWxNZXRyaWNzPy5jYXNoRmxvd1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gVXNlIGZpbmFuY2lhbCBtZXRyaWNzIGZyb20gWm9obyBCb29rcyBhcyB0aGUgcHJpbWFyeSBzb3VyY2UgZm9yIGZpbmFuY2lhbCBkYXRhXHJcbiAgICBsZXQgeXRkUmV2ZW51ZSA9IGZpbmFuY2lhbE1ldHJpY3M/LnJldmVudWUgfHwgdG90YWxCaWxsZWQ7XHJcbiAgICBjb25zdCB5dGRFeHBlbnNlcyA9IGZpbmFuY2lhbE1ldHJpY3M/LmV4cGVuc2VzIHx8IDA7XHJcbiAgICBjb25zdCB5dGRPcGVyYXRpbmdJbmNvbWUgPSBmaW5hbmNpYWxNZXRyaWNzPy5vcGVyYXRpbmdJbmNvbWUgfHwgMDtcclxuICAgIGNvbnN0IHl0ZEdyb3NzUHJvZml0ID0gZmluYW5jaWFsTWV0cmljcz8uZ3Jvc3NQcm9maXQgfHwgMDtcclxuICAgIGNvbnN0IHl0ZE5ldFByb2ZpdCA9IGZpbmFuY2lhbE1ldHJpY3M/Lm5ldFByb2ZpdCB8fCAwO1xyXG4gICAgY29uc3QgeXRkQ2FzaEZsb3cgPSBmaW5hbmNpYWxNZXRyaWNzPy5jYXNoRmxvdyB8fCAwO1xyXG4gICAgXHJcbiAgICAvLyBPbmx5IHVzZSBDbG9ja2lmeSBkYXRhIGlmIFpvaG8gZmluYW5jaWFsIGRhdGEgaXMgbm90IGF2YWlsYWJsZVxyXG4gICAgaWYgKCFmaW5hbmNpYWxNZXRyaWNzPy5yZXZlbnVlICYmIGNsb2NraWZ5RGF0YSAmJiBjbG9ja2lmeURhdGEudG90YWxUaW1lVmFsdWUgPiAwKSB7XHJcbiAgICAgIGNvbnN0IGNsb2NraWZ5WXRkUmV2ZW51ZSA9IGNsb2NraWZ5RGF0YS50b3RhbFRpbWVWYWx1ZTtcclxuICAgICAgeXRkUmV2ZW51ZSA9IGNsb2NraWZ5WXRkUmV2ZW51ZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHZXQgdG9wIHBlcmZvcm1pbmcgcHJvamVjdHMgLSBlbnN1cmUgd2UgYWx3YXlzIHJldHVybiBhbiBhcnJheVxyXG4gICAgbGV0IHRvcFBlcmZvcm1pbmdQcm9qZWN0czogc3RyaW5nW10gPSBbXTtcclxuICAgIHRyeSB7XHJcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHByb2plY3RzKSAmJiBwcm9qZWN0cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgdG9wUGVyZm9ybWluZ1Byb2plY3RzID0gcHJvamVjdHNcclxuICAgICAgICAgIC5maWx0ZXIocCA9PiBwLnN0YXR1cyA9PT0gJ2FjdGl2ZScpXHJcbiAgICAgICAgICAuc29ydCgoYSwgYikgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBhUmV2ZW51ZSA9IGludm9pY2VzXHJcbiAgICAgICAgICAgICAgLmZpbHRlcihpbnYgPT4gaW52LnByb2plY3RfaWQgPT09IGEucHJvamVjdF9pZClcclxuICAgICAgICAgICAgICAucmVkdWNlKChzdW0sIGludikgPT4gc3VtICsgKGludi50b3RhbCB8fCAwKSwgMCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGJSZXZlbnVlID0gaW52b2ljZXNcclxuICAgICAgICAgICAgICAuZmlsdGVyKGludiA9PiBpbnYucHJvamVjdF9pZCA9PT0gYi5wcm9qZWN0X2lkKVxyXG4gICAgICAgICAgICAgIC5yZWR1Y2UoKHN1bSwgaW52KSA9PiBzdW0gKyAoaW52LnRvdGFsIHx8IDApLCAwKTtcclxuICAgICAgICAgICAgcmV0dXJuIGJSZXZlbnVlIC0gYVJldmVudWU7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnNsaWNlKDAsIDUpXHJcbiAgICAgICAgICAubWFwKHAgPT4gcC5wcm9qZWN0X2NvZGUgfHwgcC5wcm9qZWN0X25hbWUgfHwgJ1Vua25vd24gUHJvamVjdCcpXHJcbiAgICAgICAgICAuZmlsdGVyKEJvb2xlYW4pOyAvLyBSZW1vdmUgYW55IHVuZGVmaW5lZC9udWxsIHZhbHVlc1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBFcnJvciBjYWxjdWxhdGluZyB0b3AgcGVyZm9ybWluZyBwcm9qZWN0cywgdXNpbmcgZGVmYXVsdHM6JywgZXJyb3IpO1xyXG4gICAgICB0b3BQZXJmb3JtaW5nUHJvamVjdHMgPSBbJ1Byb2plY3QgQScsICdQcm9qZWN0IEInLCAnUHJvamVjdCBDJ107IC8vIEZhbGxiYWNrXHJcbiAgICB9XHJcblxyXG4gICAgLy8gRW5zdXJlIHdlIGhhdmUgdmFsaWQgYXJyYXlzIGZvciBhbGwgZGF0YVxyXG4gICAgY29uc3Qgc2FmZURhc2hib2FyZERhdGEgPSB7XHJcbiAgICAgIHRvdGFsUHJvamVjdHM6IHRvdGFsUHJvamVjdHMgfHwgMCxcclxuICAgICAgdG90YWxCaWxsZWQ6IHRvdGFsQmlsbGVkIHx8IDAsXHJcbiAgICAgIHRvdGFsVW5iaWxsZWQ6IHRvdGFsVW5iaWxsZWQgfHwgMCxcclxuICAgICAgYWN0aXZlUHJvamVjdHM6IGFjdGl2ZVByb2plY3RzLmxlbmd0aCB8fCAwLFxyXG4gICAgICB0b3RhbEhvdXJzOiBjbG9ja2lmeURhdGE/LnRvdGFsSG91cnMgfHwgMCxcclxuICAgICAgYmlsbGFibGVIb3VyczogY2xvY2tpZnlEYXRhPy5iaWxsYWJsZUhvdXJzIHx8IDAsXHJcbiAgICAgIGVmZmljaWVuY3k6IGNsb2NraWZ5RGF0YT8uZWZmaWNpZW5jeSB8fCAwLjg1LFxyXG4gICAgICBhdmVyYWdlSG91cmx5UmF0ZTogY2xvY2tpZnlEYXRhPy5hdmVyYWdlSG91cmx5UmF0ZSB8fCAxMjUsXHJcbiAgICAgIHRvdGFsVGltZVZhbHVlOiBjbG9ja2lmeURhdGE/LnRvdGFsVGltZVZhbHVlIHx8IDAsXHJcbiAgICAgIGF2ZXJhZ2VIb3Vyc1BlclByb2plY3Q6IGNsb2NraWZ5RGF0YT8uYXZlcmFnZUhvdXJzUGVyUHJvamVjdCB8fCAwLFxyXG4gICAgICB0b3BQZXJmb3JtaW5nUHJvamVjdHM6IEFycmF5LmlzQXJyYXkodG9wUGVyZm9ybWluZ1Byb2plY3RzKSA/IHRvcFBlcmZvcm1pbmdQcm9qZWN0cyA6IFtdLFxyXG4gICAgICB5dGRSZXZlbnVlOiB5dGRSZXZlbnVlIHx8IDAsXHJcbiAgICAgIHl0ZEV4cGVuc2VzOiB5dGRFeHBlbnNlcyB8fCAwLFxyXG4gICAgICB5dGRQcm9maXQ6ICh5dGRSZXZlbnVlIHx8IDApIC0gKHl0ZEV4cGVuc2VzIHx8IDApLFxyXG4gICAgICB5dGRPcGVyYXRpbmdJbmNvbWU6IHl0ZE9wZXJhdGluZ0luY29tZSB8fCAwLFxyXG4gICAgICB5dGRHcm9zc1Byb2ZpdDogeXRkR3Jvc3NQcm9maXQgfHwgMCxcclxuICAgICAgeXRkTmV0UHJvZml0OiB5dGROZXRQcm9maXQgfHwgMCxcclxuICAgICAgeXRkQ2FzaEZsb3c6IHl0ZENhc2hGbG93IHx8IDAsXHJcbiAgICAgIHdhcm5pbmdzOiB6b2hvQXV0aEZhaWxlZCA/IFsnWm9obyBhdXRoZW50aWNhdGlvbiBmYWlsZWQgZHVlIHRvIHJhdGUgbGltaXRzLiBTaG93aW5nIHBhcnRpYWwgZGF0YS4nXSA6IFtdLFxyXG4gICAgICB6b2hvQXBpQ2FsbENvdW50XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnNvbGUubG9nKCfinIUgSG9tZXBhZ2UgZGFzaGJvYXJkIGRhdGEgZ2VuZXJhdGVkOicsIHNhZmVEYXNoYm9hcmREYXRhKTtcclxuICAgIGNvbnNvbGUubG9nKCfwn5qAIFJldHVybmluZyBkYXNoYm9hcmQgZGF0YSB0byBjbGllbnQuLi4nKTtcclxuXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oc2FmZURhc2hib2FyZERhdGEpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCfinYwgSG9tZXBhZ2UgRGFzaGJvYXJkIEFQSSBlcnJvcjonLCBlcnJvcik7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZXRhaWxzOicsIHtcclxuICAgICAgbWVzc2FnZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcicsXHJcbiAgICAgIHN0YWNrOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3Iuc3RhY2sgOiB1bmRlZmluZWQsXHJcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IFxyXG4gICAgICAgIGVycm9yOiAnRmFpbGVkIHRvIGdlbmVyYXRlIGhvbWVwYWdlIGRhc2hib2FyZCBkYXRhJyxcclxuICAgICAgICBkZXRhaWxzOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJyxcclxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICB9LFxyXG4gICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gcGFyc2UgZHVyYXRpb24gc3RyaW5ncyAoZS5nLiwgXCJQVDJIMzBNXCIpXHJcbmZ1bmN0aW9uIHBhcnNlRHVyYXRpb24oZHVyYXRpb246IHN0cmluZyk6IG51bWJlciB7XHJcbiAgaWYgKCFkdXJhdGlvbikgcmV0dXJuIDA7XHJcbiAgXHJcbiAgY29uc3QgcmVnZXggPSAvUFQoPzooXFxkKylIKT8oPzooXFxkKylNKT8oPzooXFxkKylTKT8vO1xyXG4gIGNvbnN0IG1hdGNoID0gZHVyYXRpb24ubWF0Y2gocmVnZXgpO1xyXG4gIFxyXG4gIGlmICghbWF0Y2gpIHJldHVybiAwO1xyXG4gIFxyXG4gIGNvbnN0IGhvdXJzID0gcGFyc2VJbnQobWF0Y2hbMV0gfHwgJzAnKTtcclxuICBjb25zdCBtaW51dGVzID0gcGFyc2VJbnQobWF0Y2hbMl0gfHwgJzAnKTtcclxuICBjb25zdCBzZWNvbmRzID0gcGFyc2VJbnQobWF0Y2hbM10gfHwgJzAnKTtcclxuICBcclxuICByZXR1cm4gaG91cnMgKyAobWludXRlcyAvIDYwKSArIChzZWNvbmRzIC8gMzYwMCk7XHJcbn1cclxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsInpvaG9TZXJ2aWNlIiwiY2xvY2tpZnlTZXJ2aWNlIiwiZHluYW1pYyIsIkdFVCIsInJlcXVlc3QiLCJjb25zb2xlIiwibG9nIiwibm93IiwiRGF0ZSIsImN1cnJlbnRZZWFyIiwiZ2V0RnVsbFllYXIiLCJjdXJyZW50WWVhclN0YXJ0IiwibGFzdFllYXJTdGFydCIsImV4dGVuZGVkU3RhcnREYXRlIiwidG9JU09TdHJpbmciLCJwcm9qZWN0cyIsImludm9pY2VzIiwiY2xvY2tpZnlEYXRhIiwiZmluYW5jaWFsTWV0cmljcyIsInpvaG9BdXRoRmFpbGVkIiwiem9ob0FwaUNhbGxDb3VudCIsImdldFByb2plY3RzIiwiZ2V0SW52b2ljZXMiLCJwcm9qZWN0c0NvdW50IiwibGVuZ3RoIiwiaW52b2ljZXNDb3VudCIsInN0YXR1c0NvdW50cyIsInJlZHVjZSIsImFjYyIsImludiIsInN0YXR1cyIsInByb2plY3RDb3VudHMiLCJwcm9qZWN0X2lkIiwiT2JqZWN0Iiwia2V5cyIsInRvdGFsQW1vdW50Iiwic3VtIiwiYW1vdW50IiwiYXZnQW1vdW50IiwidG9GaXhlZCIsInNhbXBsZUludm9pY2UiLCJpZCIsImludm9pY2VfaWQiLCJudW1iZXIiLCJpbnZvaWNlX251bWJlciIsInByb2plY3QiLCJkYXRlIiwic3RhcnQiLCJzcGxpdCIsImVuZCIsImdldEZpbmFuY2lhbE1ldHJpY3MiLCJKU09OIiwic3RyaW5naWZ5Iiwib3BlcmF0aW5nSW5jb21lIiwicmV2ZW51ZSIsIndhcm4iLCJjYXNoRmxvdyIsImVycm9yIiwiaGFzUmVzcG9uc2UiLCJlcnIiLCJtZXNzYWdlIiwiRXJyb3IiLCJyZXNwb25zZSIsInVuZGVmaW5lZCIsInN0YXR1c1RleHQiLCJkYXRhIiwic3RhY2siLCJleHBlbnNlcyIsIm5ldFByb2ZpdCIsImdyb3NzUHJvZml0IiwiZXJyb3JNZXNzYWdlIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsInByb2Nlc3MiLCJlbnYiLCJDTE9DS0lGWV9BUElfS0VZIiwiQ0xPQ0tJRllfV09SS1NQQUNFX0lEIiwiY2xvY2tpZnlDb25maWciLCJnZXRDb25maWd1cmF0aW9uU3RhdHVzIiwiY29uZmlndXJlZCIsImNsb2NraWZ5VXNlciIsImNsb2NraWZ5UHJvamVjdHMiLCJ0aW1lRW50cmllcyIsIlByb21pc2UiLCJhbGwiLCJnZXRVc2VyIiwiZ2V0QWxsVGltZUVudHJpZXMiLCJ1c2VyIiwibmFtZSIsInRpbWVFbnRyaWVzQ291bnQiLCJ0b3RhbEhvdXJzIiwiZW50cnkiLCJkdXJhdGlvbiIsInRpbWVJbnRlcnZhbCIsImhvdXJzIiwicGFyc2VEdXJhdGlvbiIsImJpbGxhYmxlSG91cnMiLCJmaWx0ZXIiLCJiaWxsYWJsZSIsImVmZmljaWVuY3kiLCJiaWxsYWJsZUVudHJpZXMiLCJhdmVyYWdlSG91cmx5UmF0ZSIsInRvdGFsUmF0ZSIsInJhdGUiLCJob3VybHlSYXRlIiwibm9uQmlsbGFibGVIb3VycyIsInRvdGFsVGltZVZhbHVlIiwiYXZlcmFnZUhvdXJzUGVyUHJvamVjdCIsImNhbGN1bGF0ZWRCaWxsZWQiLCJjYWxjdWxhdGVkVW5iaWxsZWQiLCJhY3RpdmVQcm9qZWN0cyIsInAiLCJ0b3RhbFByb2plY3RzIiwicGFpZEludm9pY2VzIiwib3V0c3RhbmRpbmdJbnZvaWNlcyIsInpvaG9Ub3RhbEJpbGxlZCIsInRvdGFsIiwiem9ob1RvdGFsVW5iaWxsZWQiLCJjbG9ja2lmeVRvdGFsQmlsbGVkIiwiY2xvY2tpZnlUb3RhbFVuYmlsbGVkIiwiY2xvY2tpZnlCaWxsYWJsZUFtb3VudCIsInRvdGFsQmlsbGVkIiwiTWF0aCIsIm1heCIsInRvdGFsVW5iaWxsZWQiLCJmaW5hbFRvdGFsQmlsbGVkIiwiZmluYWxUb3RhbFVuYmlsbGVkIiwieXRkUmV2ZW51ZSIsInl0ZEV4cGVuc2VzIiwieXRkT3BlcmF0aW5nSW5jb21lIiwieXRkR3Jvc3NQcm9maXQiLCJ5dGROZXRQcm9maXQiLCJ5dGRDYXNoRmxvdyIsImNsb2NraWZ5WXRkUmV2ZW51ZSIsInRvcFBlcmZvcm1pbmdQcm9qZWN0cyIsIkFycmF5IiwiaXNBcnJheSIsInNvcnQiLCJhIiwiYiIsImFSZXZlbnVlIiwiYlJldmVudWUiLCJzbGljZSIsIm1hcCIsInByb2plY3RfY29kZSIsInByb2plY3RfbmFtZSIsIkJvb2xlYW4iLCJzYWZlRGFzaGJvYXJkRGF0YSIsInl0ZFByb2ZpdCIsIndhcm5pbmdzIiwianNvbiIsInRpbWVzdGFtcCIsImRldGFpbHMiLCJyZWdleCIsIm1hdGNoIiwicGFyc2VJbnQiLCJtaW51dGVzIiwic2Vjb25kcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/homepage-dashboard/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/clockify.ts":
/*!*************************!*\
  !*** ./lib/clockify.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clockifyService: () => (/* binding */ clockifyService),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   fetchAllClockifyTimeSummaries: () => (/* binding */ fetchAllClockifyTimeSummaries),\n/* harmony export */   fetchClockifyProjects: () => (/* binding */ fetchClockifyProjects),\n/* harmony export */   fetchClockifyTimeEntries: () => (/* binding */ fetchClockifyTimeEntries),\n/* harmony export */   fetchClockifyTimeReport: () => (/* binding */ fetchClockifyTimeReport)\n/* harmony export */ });\nclass ClockifyService {\n    constructor(){\n        this.apiKey = null;\n        this.workspaceId = null;\n        this.baseUrl = \"https://api.clockify.me/api/v1\";\n        this.reportsBaseUrl = \"https://reports.api.clockify.me/v1\" // Correct Reports API base URL\n        ;\n        this._isConfigured = false;\n        this.apiKey = process.env.CLOCKIFY_API_KEY || null;\n        this.workspaceId = process.env.CLOCKIFY_WORKSPACE_ID || null;\n        // Check if we have valid credentials\n        if (this.apiKey && this.apiKey !== \"your_clockify_api_key_here\" && this.workspaceId && this.workspaceId !== \"your_clockify_workspace_id_here\") {\n            this._isConfigured = true;\n            console.info(\"Clockify service initialized with valid credentials\");\n        } else {\n            this._isConfigured = false;\n            console.warn(\"Clockify service initialized without valid credentials - will use mock data\");\n            console.warn(\"Please set CLOCKIFY_API_KEY and CLOCKIFY_WORKSPACE_ID in your environment variables\");\n        }\n    }\n    getHeaders() {\n        if (!this.apiKey) {\n            throw new Error(\"Clockify API key not configured\");\n        }\n        return {\n            \"X-Api-Key\": this.apiKey,\n            \"Content-Type\": \"application/json\"\n        };\n    }\n    async makeRequest(endpoint, params) {\n        if (!this._isConfigured) {\n            throw new Error(\"Clockify service not properly configured\");\n        }\n        try {\n            const url = new URL(`${this.baseUrl}${endpoint}`);\n            if (params) {\n                Object.keys(params).forEach((key)=>{\n                    if (params[key] !== undefined && params[key] !== null) {\n                        url.searchParams.append(key, params[key]);\n                    }\n                });\n            }\n            console.log(`üîç Clockify API Request: ${url.toString()}`);\n            console.log(`   Headers: ${JSON.stringify(this.getHeaders())}`);\n            const response = await fetch(url.toString(), {\n                method: \"GET\",\n                headers: this.getHeaders()\n            });\n            console.log(`üì° Clockify API Response: ${response.status} ${response.statusText}`);\n            if (response.status === 401) {\n                throw new Error(\"Clockify API authentication failed - check your API key\");\n            }\n            if (response.status === 403) {\n                throw new Error(\"Clockify API access forbidden - check your workspace ID and permissions\");\n            }\n            if (response.status === 404) {\n                const errorDetails = `Endpoint not found: ${endpoint}`;\n                console.error(`‚ùå 404 Error Details: ${errorDetails}`);\n                console.error(`   Full URL: ${url.toString()}`);\n                console.error(`   Workspace ID: ${this.workspaceId}`);\n                console.error(`   API Key configured: ${!!this.apiKey}`);\n                throw new Error(`Clockify API error: 404 Not Found - ${errorDetails}`);\n            }\n            if (response.status === 429) {\n                throw new Error(\"Clockify API rate limit exceeded - try again later\");\n            }\n            if (!response.ok) {\n                const errorText = await response.text().catch(()=>\"Unknown error\");\n                throw new Error(`Clockify API error: ${response.status} ${response.statusText} - ${errorText}`);\n            }\n            const data = await response.json();\n            console.log(`‚úÖ Clockify API Success: ${endpoint}`);\n            return data;\n        } catch (error) {\n            if (error instanceof Error) {\n                console.error(`‚ùå Clockify API Error in ${endpoint}:`, error.message);\n                throw error;\n            }\n            throw new Error(`Clockify API request failed: ${error}`);\n        }\n    }\n    // Check if the service is properly configured\n    isConfigured() {\n        return this._isConfigured;\n    }\n    // Get configuration status for debugging\n    getConfigurationStatus() {\n        return {\n            configured: this._isConfigured,\n            hasApiKey: !!(this.apiKey && this.apiKey !== \"your_clockify_api_key_here\"),\n            hasWorkspaceId: !!(this.workspaceId && this.workspaceId !== \"your_clockify_workspace_id_here\")\n        };\n    }\n    // Alias for getConfigurationStatus to match API usage\n    getConfigStatus() {\n        return this.getConfigurationStatus();\n    }\n    // Method to set workspace ID dynamically\n    setWorkspaceId(workspaceId) {\n        this.workspaceId = workspaceId;\n        if (this.apiKey && this.apiKey !== \"your_clockify_api_key_here\") {\n            this._isConfigured = true;\n        }\n    }\n    async getUser() {\n        try {\n            if (!this._isConfigured) {\n                console.log(\"Clockify not configured, returning mock user\");\n                return this.getMockUser();\n            }\n            const url = new URL(`${this.baseUrl}/user`);\n            console.log(`üîç Clockify API Request: ${url.toString()}`);\n            const response = await fetch(url.toString(), {\n                method: \"GET\",\n                headers: this.getHeaders()\n            });\n            if (!response.ok) {\n                throw new Error(`Clockify API error: ${response.status} ${response.statusText}`);\n            }\n            const data = await response.json();\n            console.log(`‚úÖ Clockify API Success: /user`);\n            return data;\n        } catch (error) {\n            console.error(\"Failed to get Clockify user:\", error);\n            console.log(\"Returning mock user due to Clockify API failure\");\n            return this.getMockUser();\n        }\n    }\n    async getWorkspaces() {\n        try {\n            return await this.makeRequest(\"/workspaces\");\n        } catch (error) {\n            console.error(\"Failed to get Clockify workspaces:\", error);\n            // Return mock workspace data when Clockify fails\n            return [\n                {\n                    id: \"mock-workspace-id\",\n                    name: \"Mock Workspace\",\n                    hourlyRate: {\n                        amount: 100,\n                        currency: \"USD\"\n                    }\n                }\n            ];\n        }\n    }\n    async getProjects() {\n        try {\n            if (!this._isConfigured) {\n                console.log(\"Clockify not configured, returning mock projects\");\n                return this.getMockProjects();\n            }\n            if (!this.workspaceId) {\n                throw new Error(\"Workspace ID not configured\");\n            }\n            const url = new URL(`${this.baseUrl}/workspaces/${this.workspaceId}/projects`);\n            console.log(`üîç Clockify API Request: ${url.toString()}`);\n            const response = await fetch(url.toString(), {\n                method: \"GET\",\n                headers: this.getHeaders()\n            });\n            if (!response.ok) {\n                throw new Error(`Clockify API error: ${response.status} ${response.statusText}`);\n            }\n            const data = await response.json();\n            console.log(`‚úÖ Clockify API Success: /workspaces/${this.workspaceId}/projects`);\n            return data;\n        } catch (error) {\n            console.error(\"Failed to get Clockify projects:\", error);\n            console.log(\"Returning mock projects due to Clockify API failure\");\n            return this.getMockProjects();\n        }\n    }\n    async getTimeEntries(projectId, startDate, endDate) {\n        try {\n            if (!this._isConfigured) {\n                console.log(\"Clockify not configured, returning mock data\");\n                return this.getMockTimeEntries(projectId, startDate, endDate);\n            }\n            if (!this.workspaceId) {\n                throw new Error(\"Workspace ID not configured\");\n            }\n            const url = new URL(`${this.baseUrl}/workspaces/${this.workspaceId}/projects/${projectId}/time-entries`);\n            url.searchParams.append(\"start\", startDate);\n            url.searchParams.append(\"end\", endDate);\n            console.log(`üîç Clockify API Request: ${url.toString()}`);\n            const response = await fetch(url.toString(), {\n                method: \"GET\",\n                headers: this.getHeaders()\n            });\n            if (!response.ok) {\n                throw new Error(`Clockify API error: ${response.status} ${response.statusText}`);\n            }\n            const data = await response.json();\n            console.log(`‚úÖ Clockify API Success: /workspaces/${this.workspaceId}/projects/${projectId}/time-entries`);\n            return data;\n        } catch (error) {\n            console.error(\"Failed to get Clockify time entries:\", error);\n            console.log(\"Returning mock time entry data due to Clockify API failure\");\n            return this.getMockTimeEntries(projectId, startDate, endDate);\n        }\n    }\n    async getAllTimeEntries(startDate, endDate) {\n        try {\n            if (!this.workspaceId) {\n                throw new Error(\"Workspace ID not configured\");\n            }\n            // First try the Reports API for bulk time entry data\n            try {\n                console.info(\"\\uD83D\\uDD04 Attempting to fetch time entries via Clockify Reports API (requires Pro plan)...\");\n                return await this.getTimeEntriesViaReports(startDate, endDate);\n            } catch (reportsError) {\n                console.warn(\"‚ö†Ô∏è Clockify Reports API failed, falling back to user time entries endpoint:\", {\n                    error: reportsError instanceof Error ? reportsError.message : \"Unknown error\",\n                    reason: \"Reports API may require Pro plan or may be temporarily unavailable\",\n                    fallback: \"Using user time entries endpoint instead\"\n                });\n                return await this.getTimeEntriesViaUserEndpoint(startDate, endDate);\n            }\n        } catch (error) {\n            console.error(\"‚ùå Failed to get all Clockify time entries:\", error);\n            // Return mock time entry data when Clockify fails\n            console.warn(\"\\uD83C\\uDFAD Returning mock time entry data due to Clockify API failure. Check your plan level and API configuration.\");\n            return [\n                {\n                    id: \"mock-time-entry-1\",\n                    description: \"Mock work session (Clockify API unavailable)\",\n                    timeInterval: {\n                        start: startDate,\n                        end: endDate,\n                        duration: \"PT8H0M\"\n                    },\n                    billable: true,\n                    userId: \"mock-user-id\",\n                    userName: \"Mock User\",\n                    projectId: \"mock-project-1\",\n                    projectName: \"Mock Project 1\"\n                }\n            ];\n        }\n    }\n    // Method to get time entries via Reports API (preferred method)\n    async getTimeEntriesViaReports(startDate, endDate) {\n        const url = new URL(`${this.reportsBaseUrl}/workspaces/${this.workspaceId}/reports/detailed`);\n        console.info(`üîç Clockify Reports API Request: ${url.toString()}`);\n        console.info(`   Method: POST (Reports API)`);\n        console.info(`   Headers: ${JSON.stringify(this.getHeaders())}`);\n        console.info(`   Body: ${JSON.stringify({\n            dateRangeStart: startDate,\n            dateRangeEnd: endDate,\n            detailedFilter: {\n                pageSize: 1000,\n                sortColumn: \"DATE\"\n            }\n        })}`);\n        const response = await fetch(url.toString(), {\n            method: \"POST\",\n            headers: {\n                ...this.getHeaders(),\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                dateRangeStart: startDate,\n                dateRangeEnd: endDate,\n                detailedFilter: {\n                    pageSize: 1000,\n                    sortColumn: \"DATE\"\n                }\n            })\n        });\n        console.info(`üì° Clockify Reports API Response: ${response.status} ${response.statusText}`);\n        if (response.status === 401) {\n            throw new Error(\"Clockify API authentication failed - check your API key\");\n        }\n        if (response.status === 403) {\n            throw new Error(\"Clockify API access forbidden - check your workspace ID and permissions. Note: Detailed reports require Pro plan or higher.\");\n        }\n        if (response.status === 404) {\n            const errorDetails = `Reports endpoint not found: /workspaces/${this.workspaceId}/reports/detailed`;\n            console.error(`‚ùå 404 Error Details: ${errorDetails}`);\n            console.error(`   Full URL: ${url.toString()}`);\n            console.error(`   Workspace ID: ${this.workspaceId}`);\n            console.error(`   API Key configured: ${!!this.apiKey}`);\n            console.error(`   Note: This endpoint requires Clockify Pro plan or higher for detailed reports`);\n            throw new Error(`Clockify API error: 404 Not Found - ${errorDetails}. This endpoint requires Pro plan or higher.`);\n        }\n        if (response.status === 405) {\n            throw new Error(\"Clockify API method not allowed - this endpoint requires POST method\");\n        }\n        if (response.status === 429) {\n            throw new Error(\"Clockify API rate limit exceeded - try again later\");\n        }\n        if (!response.ok) {\n            const errorText = await response.text().catch(()=>\"Unknown error\");\n            console.error(`Clockify Reports API error response body: ${errorText}`);\n            throw new Error(`Clockify API error: ${response.status} ${response.statusText} - ${errorText}`);\n        }\n        const data = await response.json();\n        console.info(`‚úÖ Clockify Reports API Success: /workspaces/${this.workspaceId}/reports/detailed`);\n        // Transform the reports data to match our expected time entry format\n        if (data.timeentries && Array.isArray(data.timeentries)) {\n            console.info(`üìä Processing ${data.timeentries.length} time entries from Reports API`);\n            return data.timeentries.map((entry, index)=>{\n                try {\n                    // Handle duration conversion - Reports API returns duration in seconds as number\n                    let duration = \"PT0H0M\";\n                    // First try to use the duration field if it's valid\n                    if (entry.duration !== undefined && entry.duration !== null) {\n                        if (typeof entry.duration === \"number\" && entry.duration > 0) {\n                            // Convert seconds to ISO 8601 duration format\n                            const hours = Math.floor(entry.duration / 3600);\n                            const minutes = Math.floor(entry.duration % 3600 / 60);\n                            duration = `PT${hours}H${minutes}M`;\n                        } else if (typeof entry.duration === \"string\" && entry.duration !== \"PT0H0M\") {\n                            // If it's already a string and not zero, use it directly\n                            duration = entry.duration;\n                        }\n                    }\n                    // If duration is still zero, calculate it from start and end times\n                    if (duration === \"PT0H0M\" && entry.timeInterval?.start && entry.timeInterval?.end) {\n                        try {\n                            const startTime = new Date(entry.timeInterval.start);\n                            const endTime = new Date(entry.timeInterval.end);\n                            if (!isNaN(startTime.getTime()) && !isNaN(endTime.getTime()) && endTime > startTime) {\n                                const diffMs = endTime.getTime() - startTime.getTime();\n                                const diffHours = diffMs / (1000 * 60 * 60);\n                                const hours = Math.floor(diffHours);\n                                const minutes = Math.floor((diffHours - hours) * 60);\n                                duration = `PT${hours}H${minutes}M`;\n                            }\n                        } catch (timeError) {\n                            console.warn(`‚ö†Ô∏è Error calculating duration from start/end times for entry ${index}:`, timeError);\n                        }\n                    }\n                    // Handle undefined IDs - generate a fallback ID if needed\n                    const entryId = entry.id || `reports-entry-${index}-${Date.now()}`;\n                    // Log sample entry for debugging (first few entries)\n                    if (index < 3) {\n                        console.info(`üìù Sample entry ${index}:`, {\n                            id: entryId,\n                            duration: entry.duration,\n                            convertedDuration: duration,\n                            projectId: entry.projectId,\n                            userId: entry.userId\n                        });\n                    }\n                    return {\n                        id: entryId,\n                        description: entry.description || \"No description\",\n                        timeInterval: {\n                            start: entry.timeInterval?.start || entry.start,\n                            end: entry.timeInterval?.end || entry.end,\n                            duration: duration\n                        },\n                        billable: entry.billable || false,\n                        userId: entry.userId || \"unknown-user\",\n                        userName: entry.userName || \"Unknown User\",\n                        projectId: entry.projectId || \"unknown-project\",\n                        projectName: entry.projectName || \"Unknown Project\",\n                        hourlyRate: entry.hourlyRate || 0\n                    };\n                } catch (entryError) {\n                    console.error(`‚ùå Error processing time entry ${index}:`, entryError);\n                    console.error(`   Raw entry data:`, entry);\n                    // Return a safe fallback entry\n                    return {\n                        id: `error-entry-${index}-${Date.now()}`,\n                        description: \"Error processing entry\",\n                        timeInterval: {\n                            start: startDate,\n                            end: endDate,\n                            duration: \"PT0H0M\"\n                        },\n                        billable: false,\n                        userId: \"error-user\",\n                        userName: \"Error User\",\n                        projectId: \"error-project\",\n                        projectName: \"Error Project\",\n                        hourlyRate: 0\n                    };\n                }\n            }).filter((entry)=>entry !== null); // Remove any null entries\n        }\n        console.warn(\"‚ö†Ô∏è No time entries found in Reports API response\");\n        return [];\n    }\n    // Fallback method to get time entries via user endpoint (GET method)\n    async getTimeEntriesViaUserEndpoint(startDate, endDate) {\n        try {\n            // Get the current user first\n            const user = await this.getUser();\n            if (!user?.id) {\n                throw new Error(\"Could not get current user for time entries\");\n            }\n            // Use GET method with query parameters - this is the correct way to fetch time entries\n            const url = new URL(`${this.baseUrl}/workspaces/${this.workspaceId}/user/${user.id}/time-entries`);\n            url.searchParams.set(\"start\", startDate);\n            url.searchParams.set(\"end\", endDate);\n            console.info(`üîç Clockify User Time Entries API Request (Fallback): ${url.toString()}`);\n            console.info(`   Method: GET (User Time Entries - Fallback from Reports API)`);\n            console.info(`   Headers: ${JSON.stringify(this.getHeaders())}`);\n            console.info(`   Note: Using fallback method because Reports API failed or requires Pro plan`);\n            const response = await fetch(url.toString(), {\n                method: \"GET\",\n                headers: this.getHeaders()\n            });\n            console.info(`üì° Clockify User Time Entries API Response: ${response.status} ${response.statusText}`);\n            if (!response.ok) {\n                const errorText = await response.text().catch(()=>\"Unknown error\");\n                console.error(`Clockify User Time Entries API error response body: ${errorText}`);\n                throw new Error(`Clockify User Time Entries API error: ${response.status} ${response.statusText} - ${errorText}`);\n            }\n            const data = await response.json();\n            console.info(`‚úÖ Clockify User Time Entries API Success (Fallback): /workspaces/${this.workspaceId}/user/${user.id}/time-entries`);\n            console.info(`   Retrieved ${data?.length || 0} time entries via fallback method`);\n            // Transform the data to match our expected format\n            if (Array.isArray(data)) {\n                return data.map((entry, index)=>{\n                    try {\n                        // Handle duration conversion - User API might also return duration as number\n                        let duration = \"PT0H0M\";\n                        // First try to use the duration field if it's valid\n                        if (entry.duration !== undefined && entry.duration !== null) {\n                            if (typeof entry.duration === \"number\" && entry.duration > 0) {\n                                // Convert seconds to ISO 8601 duration format\n                                const hours = Math.floor(entry.duration / 3600);\n                                const minutes = Math.floor(entry.duration % 3600 / 60);\n                                duration = `PT${hours}H${minutes}M`;\n                            } else if (typeof entry.duration === \"string\" && entry.duration !== \"PT0H0M\") {\n                                // If it's already a string and not zero, use it directly\n                                duration = entry.duration;\n                            }\n                        }\n                        // If duration is still zero, calculate it from start and end times\n                        if (duration === \"PT0H0M\" && entry.timeInterval?.start && entry.timeInterval?.end) {\n                            try {\n                                const startTime = new Date(entry.timeInterval.start);\n                                const endTime = new Date(entry.timeInterval.end);\n                                if (!isNaN(startTime.getTime()) && !isNaN(endTime.getTime()) && endTime > startTime) {\n                                    const diffMs = endTime.getTime() - startTime.getTime();\n                                    const diffHours = diffMs / (1000 * 60 * 60);\n                                    const hours = Math.floor(diffHours);\n                                    const minutes = Math.floor((diffHours - hours) * 60);\n                                    duration = `PT${hours}H${minutes}M`;\n                                }\n                            } catch (timeError) {\n                                console.warn(`‚ö†Ô∏è Error calculating duration from start/end times for fallback entry ${index}:`, timeError);\n                            }\n                        }\n                        // Handle undefined IDs - generate a fallback ID if needed\n                        const entryId = entry.id || `user-entry-${index}-${Date.now()}`;\n                        // Log sample entry for debugging (first few entries)\n                        if (index < 3) {\n                            console.info(`üìù Fallback entry ${index}:`, {\n                                id: entryId,\n                                duration: entry.duration,\n                                convertedDuration: duration,\n                                projectId: entry.projectId,\n                                userId: entry.userId\n                            });\n                        }\n                        return {\n                            id: entryId,\n                            description: entry.description || \"No description\",\n                            timeInterval: {\n                                start: entry.timeInterval?.start || entry.start,\n                                end: entry.timeInterval?.end || entry.end,\n                                duration: duration\n                            },\n                            billable: entry.billable || false,\n                            userId: entry.userId || \"unknown-user\",\n                            userName: entry.userName || \"Unknown User\",\n                            projectId: entry.projectId || \"unknown-project\",\n                            projectName: entry.projectName || \"Unknown Project\",\n                            hourlyRate: entry.hourlyRate || 0\n                        };\n                    } catch (entryError) {\n                        console.error(`‚ùå Error processing fallback time entry ${index}:`, entryError);\n                        console.error(`   Raw entry data:`, entry);\n                        // Return a safe fallback entry\n                        return {\n                            id: `error-fallback-${index}-${Date.now()}`,\n                            description: \"Error processing fallback entry\",\n                            timeInterval: {\n                                start: startDate,\n                                end: endDate,\n                                duration: \"PT0H0M\"\n                            },\n                            billable: false,\n                            userId: \"error-user\",\n                            userName: \"Error User\",\n                            projectId: \"error-project\",\n                            projectName: \"Error Project\",\n                            hourlyRate: 0\n                        };\n                    }\n                }).filter((entry)=>entry !== null); // Remove any null entries\n            }\n            return [];\n        } catch (error) {\n            console.error(\"Failed to get time entries via user endpoint (fallback):\", error);\n            throw error;\n        }\n    }\n    async getProjectTimeReport(projectId, startDate, endDate) {\n        try {\n            if (!this.workspaceId) {\n                throw new Error(\"Workspace ID not configured\");\n            }\n            const timeEntries = await this.getTimeEntries(projectId, startDate, endDate);\n            const project = await this.getProjects().then((projects)=>projects.find((p)=>p.id === projectId));\n            if (!project) {\n                throw new Error(\"Project not found\");\n            }\n            const totalHours = timeEntries.reduce((sum, entry)=>{\n                const duration = entry.timeInterval.duration;\n                const hours = this.parseDuration(duration);\n                return sum + hours;\n            }, 0);\n            const billableHours = timeEntries.filter((entry)=>entry.billable).reduce((sum, entry)=>{\n                const duration = entry.timeInterval.duration;\n                const hours = this.parseDuration(duration);\n                return sum + hours;\n            }, 0);\n            const nonBillableHours = totalHours - billableHours;\n            return {\n                projectId,\n                projectName: project.name,\n                totalHours,\n                billableHours,\n                nonBillableHours,\n                totalAmount: totalHours * (typeof project.hourlyRate === \"object\" ? project.hourlyRate.amount : project.hourlyRate || 0),\n                billableAmount: billableHours * (typeof project.hourlyRate === \"object\" ? project.hourlyRate.amount : project.hourlyRate || 0),\n                nonBillableAmount: nonBillableHours * (typeof project.hourlyRate === \"object\" ? project.hourlyRate.amount : project.hourlyRate || 0),\n                entries: timeEntries,\n                period: {\n                    start: startDate,\n                    end: endDate\n                }\n            };\n        } catch (error) {\n            console.error(\"Failed to get project time report:\", error);\n            return null;\n        }\n    }\n    async getAllProjectsTimeSummary(startDate, endDate) {\n        try {\n            if (!this.workspaceId) {\n                throw new Error(\"Workspace ID not configured\");\n            }\n            const projects = await this.getProjects();\n            const reports = [];\n            for (const project of projects){\n                const report = await this.getProjectTimeReport(project.id, startDate, endDate);\n                if (report) {\n                    reports.push(report);\n                }\n            }\n            return reports;\n        } catch (error) {\n            console.error(\"Failed to get all projects time summary:\", error);\n            return [];\n        }\n    }\n    // Helper method to parse ISO 8601 duration to hours\n    parseDuration(duration) {\n        const match = duration.match(/PT(?:(\\d+)H)?(?:(\\d+)M)?(?:(\\d+)S)?/);\n        if (!match) return 0;\n        const hours = parseInt(match[1] || \"0\");\n        const minutes = parseInt(match[2] || \"0\");\n        const seconds = parseInt(match[3] || \"0\");\n        return hours + minutes / 60 + seconds / 3600;\n    }\n    // Enhanced method to generate mock time entries\n    getMockTimeEntries(projectId, startDate, endDate) {\n        return [\n            {\n                id: `mock-${projectId}-1`,\n                description: \"Mock project work\",\n                timeInterval: {\n                    start: startDate,\n                    end: endDate,\n                    duration: \"PT8H0M\"\n                },\n                billable: true,\n                userId: \"mock-user-id\",\n                userName: \"Mock User\",\n                projectId: projectId,\n                projectName: \"Mock Project\"\n            }\n        ];\n    }\n    // Enhanced method to generate mock projects\n    getMockProjects() {\n        return [\n            {\n                id: \"mock-project-1\",\n                name: \"Mock Project 1\",\n                workspaceId: \"mock-workspace\",\n                clientId: \"mock-client-1\",\n                clientName: \"Mock Client 1\",\n                isPublic: true,\n                isTemplate: false,\n                color: \"#000000\",\n                billable: true,\n                public: true,\n                archived: false,\n                status: \"ACTIVE\",\n                budget: 50000,\n                hourlyRate: {\n                    amount: 150,\n                    currency: \"USD\"\n                }\n            }\n        ];\n    }\n    // Enhanced method to generate mock user\n    getMockUser() {\n        return {\n            id: \"mock-user-id\",\n            email: \"mock@example.com\",\n            name: \"Mock User\",\n            profilePicture: \"\",\n            status: \"ACTIVE\",\n            activeWorkspace: \"mock-workspace\",\n            defaultWorkspace: \"mock-workspace\"\n        };\n    }\n    // Data Import Methods - NEW: Import time entries to database\n    async importTimeEntries(startDate, endDate) {\n        try {\n            console.log(\"\\uD83D\\uDD04 Starting Clockify time entries import...\");\n            console.log(`üìÖ Date range: ${startDate} to ${endDate}`);\n            // Get all time entries for the date range\n            const timeEntries = await this.getTimeEntries(\"\", startDate, endDate);\n            console.log(`üìä Found ${timeEntries.length} time entries to process`);\n            if (timeEntries.length === 0) {\n                console.log(\"‚ö†Ô∏è No time entries found for the specified date range\");\n                return {\n                    success: true,\n                    recordsImported: 0,\n                    errors: [],\n                    summary: {\n                        totalEntries: 0,\n                        billableHours: 0,\n                        nonBillableHours: 0,\n                        totalCost: 0\n                    }\n                };\n            }\n            // Get projects and users for mapping\n            const [projects, users] = await Promise.all([\n                this.getProjects(),\n                this.getWorkspaces().then((workspaces)=>workspaces.length > 0 ? this.getUsers(workspaces[0].id) : [])\n            ]);\n            console.log(`üìã Retrieved ${projects.length} projects and ${users.length} users for mapping`);\n            let recordsImported = 0;\n            const errors = [];\n            let totalBillableHours = 0;\n            let totalNonBillableHours = 0;\n            let totalCost = 0;\n            // Process each time entry\n            for (const entry of timeEntries){\n                try {\n                    // Find user and project details\n                    const user = users.find((u)=>u.id === entry.userId);\n                    const project = projects.find((p)=>p.id === entry.projectId);\n                    if (!user || !project) {\n                        const errorMsg = `Missing user (${entry.userId}) or project (${entry.projectId}) for entry ${entry.id}`;\n                        console.warn(`‚ö†Ô∏è ${errorMsg}`);\n                        errors.push(errorMsg);\n                        continue;\n                    }\n                    // Parse duration to hours\n                    const hours = this.parseDuration(entry.timeInterval.duration);\n                    const billableHours = entry.billable ? hours : 0;\n                    const nonBillableHours = entry.billable ? 0 : hours;\n                    // Calculate costs (using project hourly rate if available)\n                    const hourlyRate = typeof project.hourlyRate === \"object\" ? project.hourlyRate.amount : project.hourlyRate || 0;\n                    const totalCostForEntry = hours * hourlyRate;\n                    // Update totals\n                    totalBillableHours += billableHours;\n                    totalNonBillableHours += nonBillableHours;\n                    totalCost += totalCostForEntry;\n                    // Log successful processing\n                    console.log(`‚úÖ Processed entry: ${user.name} - ${project.name} - ${hours.toFixed(2)}h (${entry.billable ? \"Billable\" : \"Non-billable\"})`);\n                    recordsImported++;\n                } catch (entryError) {\n                    const errorMsg = `Error processing entry ${entry.id}: ${entryError}`;\n                    console.error(`‚ùå ${errorMsg}`);\n                    errors.push(errorMsg);\n                }\n            }\n            const summary = {\n                totalEntries: timeEntries.length,\n                billableHours: totalBillableHours,\n                nonBillableHours: totalNonBillableHours,\n                totalCost: totalCost\n            };\n            console.log(`üìä Import completed: ${recordsImported}/${timeEntries.length} entries processed successfully`);\n            console.log(`üí∞ Summary: ${totalBillableHours.toFixed(2)} billable hours, ${totalNonBillableHours.toFixed(2)} non-billable hours, $${totalCost.toFixed(2)} total cost`);\n            if (errors.length > 0) {\n                console.warn(`‚ö†Ô∏è ${errors.length} errors encountered during import`);\n            }\n            return {\n                success: recordsImported > 0,\n                recordsImported,\n                errors,\n                summary\n            };\n        } catch (error) {\n            console.error(\"‚ùå Clockify time entries import failed:\", error);\n            return {\n                success: false,\n                recordsImported: 0,\n                errors: [\n                    error instanceof Error ? error.message : \"Unknown error\"\n                ],\n                summary: {\n                    totalEntries: 0,\n                    billableHours: 0,\n                    nonBillableHours: 0,\n                    totalCost: 0\n                }\n            };\n        }\n    }\n    // Enhanced method to get users for a workspace\n    async getUsers(workspaceId) {\n        try {\n            if (!this.apiKey) {\n                throw new Error(\"API key not configured\");\n            }\n            const url = `${this.baseUrl}/workspaces/${workspaceId}/users`;\n            console.info(`üîç Clockify Users API Request: ${url}`);\n            const response = await fetch(url, {\n                method: \"GET\",\n                headers: this.getHeaders()\n            });\n            if (!response.ok) {\n                throw new Error(`Clockify API error: ${response.status} ${response.statusText}`);\n            }\n            const users = await response.json();\n            console.info(`‚úÖ Retrieved ${users.length} users from workspace ${workspaceId}`);\n            return users;\n        } catch (error) {\n            console.error(\"Failed to get users:\", error);\n            // Return mock users as fallback\n            return [\n                this.getMockUser()\n            ];\n        }\n    }\n}\n// Create the service instance\nconst clockifyService = new ClockifyService();\n// Export the service instance as both default and named export\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (clockifyService);\n\n// Export convenience functions\nconst fetchClockifyProjects = async ()=>{\n    try {\n        return await clockifyService.getProjects();\n    } catch (error) {\n        console.error(\"Error fetching Clockify projects:\", error);\n        return [];\n    }\n};\nconst fetchClockifyTimeEntries = async (projectId, startDate, endDate)=>{\n    try {\n        return await clockifyService.getTimeEntries(projectId, startDate || \"\", endDate || \"\");\n    } catch (error) {\n        console.error(\"Error fetching Clockify time entries:\", error);\n        return [];\n    }\n};\nconst fetchClockifyTimeReport = async (projectId, startDate, endDate)=>{\n    try {\n        return await clockifyService.getProjectTimeReport(projectId, startDate, endDate);\n    } catch (error) {\n        console.error(\"Error fetching Clockify time report:\", error);\n        return null;\n    }\n};\nconst fetchAllClockifyTimeSummaries = async (startDate, endDate)=>{\n    try {\n        return await clockifyService.getAllProjectsTimeSummary(startDate, endDate);\n    } catch (error) {\n        console.error(\"Error fetching Clockify time summaries:\", error);\n        return [];\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvY2xvY2tpZnkudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBOElBLE1BQU1BO0lBT0pDLGFBQWM7YUFOTkMsU0FBd0I7YUFDeEJDLGNBQTZCO2FBQzdCQyxVQUFVO2FBQ1ZDLGlCQUFpQixxQ0FBc0MsK0JBQStCOzthQUN0RkMsZ0JBQXlCO1FBRy9CLElBQUksQ0FBQ0osTUFBTSxHQUFHSyxRQUFRQyxHQUFHLENBQUNDLGdCQUFnQixJQUFJO1FBQzlDLElBQUksQ0FBQ04sV0FBVyxHQUFHSSxRQUFRQyxHQUFHLENBQUNFLHFCQUFxQixJQUFJO1FBRXhELHFDQUFxQztRQUNyQyxJQUFJLElBQUksQ0FBQ1IsTUFBTSxJQUFJLElBQUksQ0FBQ0EsTUFBTSxLQUFLLGdDQUFnQyxJQUFJLENBQUNDLFdBQVcsSUFBSSxJQUFJLENBQUNBLFdBQVcsS0FBSyxtQ0FBbUM7WUFDN0ksSUFBSSxDQUFDRyxhQUFhLEdBQUc7WUFDckJLLFFBQVFDLElBQUksQ0FBQztRQUNmLE9BQU87WUFDTCxJQUFJLENBQUNOLGFBQWEsR0FBRztZQUNyQkssUUFBUUUsSUFBSSxDQUFDO1lBQ2JGLFFBQVFFLElBQUksQ0FBQztRQUNmO0lBQ0Y7SUFFUUMsYUFBYTtRQUNuQixJQUFJLENBQUMsSUFBSSxDQUFDWixNQUFNLEVBQUU7WUFDaEIsTUFBTSxJQUFJYSxNQUFNO1FBQ2xCO1FBQ0EsT0FBTztZQUNMLGFBQWEsSUFBSSxDQUFDYixNQUFNO1lBQ3hCLGdCQUFnQjtRQUNsQjtJQUNGO0lBRUEsTUFBY2MsWUFBWUMsUUFBZ0IsRUFBRUMsTUFBWSxFQUFnQjtRQUN0RSxJQUFJLENBQUMsSUFBSSxDQUFDWixhQUFhLEVBQUU7WUFDdkIsTUFBTSxJQUFJUyxNQUFNO1FBQ2xCO1FBRUEsSUFBSTtZQUNGLE1BQU1JLE1BQU0sSUFBSUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDaEIsT0FBTyxDQUFDLEVBQUVhLFNBQVMsQ0FBQztZQUNoRCxJQUFJQyxRQUFRO2dCQUNWRyxPQUFPQyxJQUFJLENBQUNKLFFBQVFLLE9BQU8sQ0FBQ0MsQ0FBQUE7b0JBQzFCLElBQUlOLE1BQU0sQ0FBQ00sSUFBSSxLQUFLQyxhQUFhUCxNQUFNLENBQUNNLElBQUksS0FBSyxNQUFNO3dCQUNyREwsSUFBSU8sWUFBWSxDQUFDQyxNQUFNLENBQUNILEtBQUtOLE1BQU0sQ0FBQ00sSUFBSTtvQkFDMUM7Z0JBQ0Y7WUFDRjtZQUVBYixRQUFRaUIsR0FBRyxDQUFDLENBQUMseUJBQXlCLEVBQUVULElBQUlVLFFBQVEsR0FBRyxDQUFDO1lBQ3hEbEIsUUFBUWlCLEdBQUcsQ0FBQyxDQUFDLFlBQVksRUFBRUUsS0FBS0MsU0FBUyxDQUFDLElBQUksQ0FBQ2pCLFVBQVUsSUFBSSxDQUFDO1lBRTlELE1BQU1rQixXQUFXLE1BQU1DLE1BQU1kLElBQUlVLFFBQVEsSUFBSTtnQkFDM0NLLFFBQVE7Z0JBQ1JDLFNBQVMsSUFBSSxDQUFDckIsVUFBVTtZQUMxQjtZQUVBSCxRQUFRaUIsR0FBRyxDQUFDLENBQUMsMEJBQTBCLEVBQUVJLFNBQVNJLE1BQU0sQ0FBQyxDQUFDLEVBQUVKLFNBQVNLLFVBQVUsQ0FBQyxDQUFDO1lBRWpGLElBQUlMLFNBQVNJLE1BQU0sS0FBSyxLQUFLO2dCQUMzQixNQUFNLElBQUlyQixNQUFNO1lBQ2xCO1lBRUEsSUFBSWlCLFNBQVNJLE1BQU0sS0FBSyxLQUFLO2dCQUMzQixNQUFNLElBQUlyQixNQUFNO1lBQ2xCO1lBRUEsSUFBSWlCLFNBQVNJLE1BQU0sS0FBSyxLQUFLO2dCQUMzQixNQUFNRSxlQUFlLENBQUMsb0JBQW9CLEVBQUVyQixTQUFTLENBQUM7Z0JBQ3RETixRQUFRNEIsS0FBSyxDQUFDLENBQUMscUJBQXFCLEVBQUVELGFBQWEsQ0FBQztnQkFDcEQzQixRQUFRNEIsS0FBSyxDQUFDLENBQUMsYUFBYSxFQUFFcEIsSUFBSVUsUUFBUSxHQUFHLENBQUM7Z0JBQzlDbEIsUUFBUTRCLEtBQUssQ0FBQyxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQ3BDLFdBQVcsQ0FBQyxDQUFDO2dCQUNwRFEsUUFBUTRCLEtBQUssQ0FBQyxDQUFDLHVCQUF1QixFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUNyQyxNQUFNLENBQUMsQ0FBQztnQkFDdkQsTUFBTSxJQUFJYSxNQUFNLENBQUMsb0NBQW9DLEVBQUV1QixhQUFhLENBQUM7WUFDdkU7WUFFQSxJQUFJTixTQUFTSSxNQUFNLEtBQUssS0FBSztnQkFDM0IsTUFBTSxJQUFJckIsTUFBTTtZQUNsQjtZQUVBLElBQUksQ0FBQ2lCLFNBQVNRLEVBQUUsRUFBRTtnQkFDaEIsTUFBTUMsWUFBWSxNQUFNVCxTQUFTVSxJQUFJLEdBQUdDLEtBQUssQ0FBQyxJQUFNO2dCQUNwRCxNQUFNLElBQUk1QixNQUFNLENBQUMsb0JBQW9CLEVBQUVpQixTQUFTSSxNQUFNLENBQUMsQ0FBQyxFQUFFSixTQUFTSyxVQUFVLENBQUMsR0FBRyxFQUFFSSxVQUFVLENBQUM7WUFDaEc7WUFFQSxNQUFNRyxPQUFPLE1BQU1aLFNBQVNhLElBQUk7WUFDaENsQyxRQUFRaUIsR0FBRyxDQUFDLENBQUMsd0JBQXdCLEVBQUVYLFNBQVMsQ0FBQztZQUNqRCxPQUFPMkI7UUFDVCxFQUFFLE9BQU9MLE9BQU87WUFDZCxJQUFJQSxpQkFBaUJ4QixPQUFPO2dCQUMxQkosUUFBUTRCLEtBQUssQ0FBQyxDQUFDLHdCQUF3QixFQUFFdEIsU0FBUyxDQUFDLENBQUMsRUFBRXNCLE1BQU1PLE9BQU87Z0JBQ25FLE1BQU1QO1lBQ1I7WUFDQSxNQUFNLElBQUl4QixNQUFNLENBQUMsNkJBQTZCLEVBQUV3QixNQUFNLENBQUM7UUFDekQ7SUFDRjtJQUVBLDhDQUE4QztJQUN2Q1EsZUFBd0I7UUFDN0IsT0FBTyxJQUFJLENBQUN6QyxhQUFhO0lBQzNCO0lBRUEseUNBQXlDO0lBQ2xDMEMseUJBQStGO1FBQ3BHLE9BQU87WUFDTEMsWUFBWSxJQUFJLENBQUMzQyxhQUFhO1lBQzlCNEMsV0FBVyxDQUFDLENBQUUsS0FBSSxDQUFDaEQsTUFBTSxJQUFJLElBQUksQ0FBQ0EsTUFBTSxLQUFLLDRCQUEyQjtZQUN4RWlELGdCQUFnQixDQUFDLENBQUUsS0FBSSxDQUFDaEQsV0FBVyxJQUFJLElBQUksQ0FBQ0EsV0FBVyxLQUFLLGlDQUFnQztRQUM5RjtJQUNGO0lBRUEsc0RBQXNEO0lBQy9DaUQsa0JBQXdGO1FBQzdGLE9BQU8sSUFBSSxDQUFDSixzQkFBc0I7SUFDcEM7SUFFQSx5Q0FBeUM7SUFDbENLLGVBQWVsRCxXQUFtQixFQUFRO1FBQy9DLElBQUksQ0FBQ0EsV0FBVyxHQUFHQTtRQUNuQixJQUFJLElBQUksQ0FBQ0QsTUFBTSxJQUFJLElBQUksQ0FBQ0EsTUFBTSxLQUFLLDhCQUE4QjtZQUMvRCxJQUFJLENBQUNJLGFBQWEsR0FBRztRQUN2QjtJQUNGO0lBRUEsTUFBTWdELFVBQXdCO1FBQzVCLElBQUk7WUFDRixJQUFJLENBQUMsSUFBSSxDQUFDaEQsYUFBYSxFQUFFO2dCQUN2QkssUUFBUWlCLEdBQUcsQ0FBQztnQkFDWixPQUFPLElBQUksQ0FBQzJCLFdBQVc7WUFDekI7WUFFQSxNQUFNcEMsTUFBTSxJQUFJQyxJQUFJLENBQUMsRUFBRSxJQUFJLENBQUNoQixPQUFPLENBQUMsS0FBSyxDQUFDO1lBQzFDTyxRQUFRaUIsR0FBRyxDQUFDLENBQUMseUJBQXlCLEVBQUVULElBQUlVLFFBQVEsR0FBRyxDQUFDO1lBRXhELE1BQU1HLFdBQVcsTUFBTUMsTUFBTWQsSUFBSVUsUUFBUSxJQUFJO2dCQUMzQ0ssUUFBUTtnQkFDUkMsU0FBUyxJQUFJLENBQUNyQixVQUFVO1lBQzFCO1lBRUEsSUFBSSxDQUFDa0IsU0FBU1EsRUFBRSxFQUFFO2dCQUNoQixNQUFNLElBQUl6QixNQUFNLENBQUMsb0JBQW9CLEVBQUVpQixTQUFTSSxNQUFNLENBQUMsQ0FBQyxFQUFFSixTQUFTSyxVQUFVLENBQUMsQ0FBQztZQUNqRjtZQUVBLE1BQU1PLE9BQU8sTUFBTVosU0FBU2EsSUFBSTtZQUNoQ2xDLFFBQVFpQixHQUFHLENBQUMsQ0FBQyw2QkFBNkIsQ0FBQztZQUMzQyxPQUFPZ0I7UUFDVCxFQUFFLE9BQU9MLE9BQU87WUFDZDVCLFFBQVE0QixLQUFLLENBQUMsZ0NBQWdDQTtZQUM5QzVCLFFBQVFpQixHQUFHLENBQUM7WUFDWixPQUFPLElBQUksQ0FBQzJCLFdBQVc7UUFDekI7SUFDRjtJQUVBLE1BQU1DLGdCQUFnQztRQUNwQyxJQUFJO1lBQ0YsT0FBTyxNQUFNLElBQUksQ0FBQ3hDLFdBQVcsQ0FBQztRQUNoQyxFQUFFLE9BQU91QixPQUFPO1lBQ2Q1QixRQUFRNEIsS0FBSyxDQUFDLHNDQUFzQ0E7WUFDcEQsaURBQWlEO1lBQ2pELE9BQU87Z0JBQ0w7b0JBQ0VrQixJQUFJO29CQUNKQyxNQUFNO29CQUNOQyxZQUFZO3dCQUFFQyxRQUFRO3dCQUFLQyxVQUFVO29CQUFNO2dCQUM3QzthQUNEO1FBQ0g7SUFDRjtJQUVBLE1BQU1DLGNBQThCO1FBQ2xDLElBQUk7WUFDRixJQUFJLENBQUMsSUFBSSxDQUFDeEQsYUFBYSxFQUFFO2dCQUN2QkssUUFBUWlCLEdBQUcsQ0FBQztnQkFDWixPQUFPLElBQUksQ0FBQ21DLGVBQWU7WUFDN0I7WUFFQSxJQUFJLENBQUMsSUFBSSxDQUFDNUQsV0FBVyxFQUFFO2dCQUNyQixNQUFNLElBQUlZLE1BQU07WUFDbEI7WUFFQSxNQUFNSSxNQUFNLElBQUlDLElBQUksQ0FBQyxFQUFFLElBQUksQ0FBQ2hCLE9BQU8sQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDRCxXQUFXLENBQUMsU0FBUyxDQUFDO1lBQzdFUSxRQUFRaUIsR0FBRyxDQUFDLENBQUMseUJBQXlCLEVBQUVULElBQUlVLFFBQVEsR0FBRyxDQUFDO1lBRXhELE1BQU1HLFdBQVcsTUFBTUMsTUFBTWQsSUFBSVUsUUFBUSxJQUFJO2dCQUMzQ0ssUUFBUTtnQkFDUkMsU0FBUyxJQUFJLENBQUNyQixVQUFVO1lBQzFCO1lBRUEsSUFBSSxDQUFDa0IsU0FBU1EsRUFBRSxFQUFFO2dCQUNoQixNQUFNLElBQUl6QixNQUFNLENBQUMsb0JBQW9CLEVBQUVpQixTQUFTSSxNQUFNLENBQUMsQ0FBQyxFQUFFSixTQUFTSyxVQUFVLENBQUMsQ0FBQztZQUNqRjtZQUVBLE1BQU1PLE9BQU8sTUFBTVosU0FBU2EsSUFBSTtZQUNoQ2xDLFFBQVFpQixHQUFHLENBQUMsQ0FBQyxvQ0FBb0MsRUFBRSxJQUFJLENBQUN6QixXQUFXLENBQUMsU0FBUyxDQUFDO1lBQzlFLE9BQU95QztRQUNULEVBQUUsT0FBT0wsT0FBTztZQUNkNUIsUUFBUTRCLEtBQUssQ0FBQyxvQ0FBb0NBO1lBQ2xENUIsUUFBUWlCLEdBQUcsQ0FBQztZQUNaLE9BQU8sSUFBSSxDQUFDbUMsZUFBZTtRQUM3QjtJQUNGO0lBRUEsTUFBTUMsZUFBZUMsU0FBaUIsRUFBRUMsU0FBaUIsRUFBRUMsT0FBZSxFQUFrQjtRQUMxRixJQUFJO1lBQ0YsSUFBSSxDQUFDLElBQUksQ0FBQzdELGFBQWEsRUFBRTtnQkFDdkJLLFFBQVFpQixHQUFHLENBQUM7Z0JBQ1osT0FBTyxJQUFJLENBQUN3QyxrQkFBa0IsQ0FBQ0gsV0FBV0MsV0FBV0M7WUFDdkQ7WUFFQSxJQUFJLENBQUMsSUFBSSxDQUFDaEUsV0FBVyxFQUFFO2dCQUNyQixNQUFNLElBQUlZLE1BQU07WUFDbEI7WUFFQSxNQUFNSSxNQUFNLElBQUlDLElBQUksQ0FBQyxFQUFFLElBQUksQ0FBQ2hCLE9BQU8sQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDRCxXQUFXLENBQUMsVUFBVSxFQUFFOEQsVUFBVSxhQUFhLENBQUM7WUFDdkc5QyxJQUFJTyxZQUFZLENBQUNDLE1BQU0sQ0FBQyxTQUFTdUM7WUFDakMvQyxJQUFJTyxZQUFZLENBQUNDLE1BQU0sQ0FBQyxPQUFPd0M7WUFFL0J4RCxRQUFRaUIsR0FBRyxDQUFDLENBQUMseUJBQXlCLEVBQUVULElBQUlVLFFBQVEsR0FBRyxDQUFDO1lBRXhELE1BQU1HLFdBQVcsTUFBTUMsTUFBTWQsSUFBSVUsUUFBUSxJQUFJO2dCQUMzQ0ssUUFBUTtnQkFDUkMsU0FBUyxJQUFJLENBQUNyQixVQUFVO1lBQzFCO1lBRUEsSUFBSSxDQUFDa0IsU0FBU1EsRUFBRSxFQUFFO2dCQUNoQixNQUFNLElBQUl6QixNQUFNLENBQUMsb0JBQW9CLEVBQUVpQixTQUFTSSxNQUFNLENBQUMsQ0FBQyxFQUFFSixTQUFTSyxVQUFVLENBQUMsQ0FBQztZQUNqRjtZQUVBLE1BQU1PLE9BQU8sTUFBTVosU0FBU2EsSUFBSTtZQUNoQ2xDLFFBQVFpQixHQUFHLENBQUMsQ0FBQyxvQ0FBb0MsRUFBRSxJQUFJLENBQUN6QixXQUFXLENBQUMsVUFBVSxFQUFFOEQsVUFBVSxhQUFhLENBQUM7WUFDeEcsT0FBT3JCO1FBQ1QsRUFBRSxPQUFPTCxPQUFPO1lBQ2Q1QixRQUFRNEIsS0FBSyxDQUFDLHdDQUF3Q0E7WUFDdEQ1QixRQUFRaUIsR0FBRyxDQUFDO1lBQ1osT0FBTyxJQUFJLENBQUN3QyxrQkFBa0IsQ0FBQ0gsV0FBV0MsV0FBV0M7UUFDdkQ7SUFDRjtJQUVBLE1BQU1FLGtCQUFrQkgsU0FBaUIsRUFBRUMsT0FBZSxFQUFrQjtRQUMxRSxJQUFJO1lBQ0YsSUFBSSxDQUFDLElBQUksQ0FBQ2hFLFdBQVcsRUFBRTtnQkFDckIsTUFBTSxJQUFJWSxNQUFNO1lBQ2xCO1lBRUEscURBQXFEO1lBQ3JELElBQUk7Z0JBQ0ZKLFFBQVFDLElBQUksQ0FBQztnQkFDYixPQUFPLE1BQU0sSUFBSSxDQUFDMEQsd0JBQXdCLENBQUNKLFdBQVdDO1lBQ3hELEVBQUUsT0FBT0ksY0FBYztnQkFDckI1RCxRQUFRRSxJQUFJLENBQUMsK0VBQStFO29CQUMxRjBCLE9BQU9nQyx3QkFBd0J4RCxRQUFRd0QsYUFBYXpCLE9BQU8sR0FBRztvQkFDOUQwQixRQUFRO29CQUNSQyxVQUFVO2dCQUNaO2dCQUNBLE9BQU8sTUFBTSxJQUFJLENBQUNDLDZCQUE2QixDQUFDUixXQUFXQztZQUM3RDtRQUNGLEVBQUUsT0FBTzVCLE9BQU87WUFDZDVCLFFBQVE0QixLQUFLLENBQUMsOENBQThDQTtZQUU1RCxrREFBa0Q7WUFDbEQ1QixRQUFRRSxJQUFJLENBQUM7WUFDYixPQUFPO2dCQUNMO29CQUNFNEMsSUFBSTtvQkFDSmtCLGFBQWE7b0JBQ2JDLGNBQWM7d0JBQ1pDLE9BQU9YO3dCQUNQWSxLQUFLWDt3QkFDTFksVUFBVTtvQkFDWjtvQkFDQUMsVUFBVTtvQkFDVkMsUUFBUTtvQkFDUkMsVUFBVTtvQkFDVmpCLFdBQVc7b0JBQ1hrQixhQUFhO2dCQUNmO2FBQ0Q7UUFDSDtJQUNGO0lBRUEsZ0VBQWdFO0lBQ2hFLE1BQWNiLHlCQUF5QkosU0FBaUIsRUFBRUMsT0FBZSxFQUFrQjtRQUN6RixNQUFNaEQsTUFBTSxJQUFJQyxJQUFJLENBQUMsRUFBRSxJQUFJLENBQUNmLGNBQWMsQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDRixXQUFXLENBQUMsaUJBQWlCLENBQUM7UUFFNUZRLFFBQVFDLElBQUksQ0FBQyxDQUFDLGlDQUFpQyxFQUFFTyxJQUFJVSxRQUFRLEdBQUcsQ0FBQztRQUNqRWxCLFFBQVFDLElBQUksQ0FBQyxDQUFDLDZCQUE2QixDQUFDO1FBQzVDRCxRQUFRQyxJQUFJLENBQUMsQ0FBQyxZQUFZLEVBQUVrQixLQUFLQyxTQUFTLENBQUMsSUFBSSxDQUFDakIsVUFBVSxJQUFJLENBQUM7UUFDL0RILFFBQVFDLElBQUksQ0FBQyxDQUFDLFNBQVMsRUFBRWtCLEtBQUtDLFNBQVMsQ0FBQztZQUN0Q3FELGdCQUFnQmxCO1lBQ2hCbUIsY0FBY2xCO1lBQ2RtQixnQkFBZ0I7Z0JBQ2RDLFVBQVU7Z0JBQ1ZDLFlBQVk7WUFDZDtRQUNGLEdBQUcsQ0FBQztRQUVKLE1BQU14RCxXQUFXLE1BQU1DLE1BQU1kLElBQUlVLFFBQVEsSUFBSTtZQUMzQ0ssUUFBUTtZQUNSQyxTQUFTO2dCQUNQLEdBQUcsSUFBSSxDQUFDckIsVUFBVSxFQUFFO2dCQUNwQixnQkFBZ0I7WUFDbEI7WUFDQTJFLE1BQU0zRCxLQUFLQyxTQUFTLENBQUM7Z0JBQ25CcUQsZ0JBQWdCbEI7Z0JBQ2hCbUIsY0FBY2xCO2dCQUNkbUIsZ0JBQWdCO29CQUNkQyxVQUFVO29CQUNWQyxZQUFZO2dCQUNkO1lBQ0Y7UUFDRjtRQUVBN0UsUUFBUUMsSUFBSSxDQUFDLENBQUMsa0NBQWtDLEVBQUVvQixTQUFTSSxNQUFNLENBQUMsQ0FBQyxFQUFFSixTQUFTSyxVQUFVLENBQUMsQ0FBQztRQUUxRixJQUFJTCxTQUFTSSxNQUFNLEtBQUssS0FBSztZQUMzQixNQUFNLElBQUlyQixNQUFNO1FBQ2xCO1FBRUEsSUFBSWlCLFNBQVNJLE1BQU0sS0FBSyxLQUFLO1lBQzNCLE1BQU0sSUFBSXJCLE1BQU07UUFDbEI7UUFFQSxJQUFJaUIsU0FBU0ksTUFBTSxLQUFLLEtBQUs7WUFDM0IsTUFBTUUsZUFBZSxDQUFDLHdDQUF3QyxFQUFFLElBQUksQ0FBQ25DLFdBQVcsQ0FBQyxpQkFBaUIsQ0FBQztZQUNuR1EsUUFBUTRCLEtBQUssQ0FBQyxDQUFDLHFCQUFxQixFQUFFRCxhQUFhLENBQUM7WUFDcEQzQixRQUFRNEIsS0FBSyxDQUFDLENBQUMsYUFBYSxFQUFFcEIsSUFBSVUsUUFBUSxHQUFHLENBQUM7WUFDOUNsQixRQUFRNEIsS0FBSyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDcEMsV0FBVyxDQUFDLENBQUM7WUFDcERRLFFBQVE0QixLQUFLLENBQUMsQ0FBQyx1QkFBdUIsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDckMsTUFBTSxDQUFDLENBQUM7WUFDdkRTLFFBQVE0QixLQUFLLENBQUMsQ0FBQyxnRkFBZ0YsQ0FBQztZQUNoRyxNQUFNLElBQUl4QixNQUFNLENBQUMsb0NBQW9DLEVBQUV1QixhQUFhLDRDQUE0QyxDQUFDO1FBQ25IO1FBRUEsSUFBSU4sU0FBU0ksTUFBTSxLQUFLLEtBQUs7WUFDM0IsTUFBTSxJQUFJckIsTUFBTTtRQUNsQjtRQUVBLElBQUlpQixTQUFTSSxNQUFNLEtBQUssS0FBSztZQUMzQixNQUFNLElBQUlyQixNQUFNO1FBQ2xCO1FBRUEsSUFBSSxDQUFDaUIsU0FBU1EsRUFBRSxFQUFFO1lBQ2hCLE1BQU1DLFlBQVksTUFBTVQsU0FBU1UsSUFBSSxHQUFHQyxLQUFLLENBQUMsSUFBTTtZQUNwRGhDLFFBQVE0QixLQUFLLENBQUMsQ0FBQywwQ0FBMEMsRUFBRUUsVUFBVSxDQUFDO1lBQ3RFLE1BQU0sSUFBSTFCLE1BQU0sQ0FBQyxvQkFBb0IsRUFBRWlCLFNBQVNJLE1BQU0sQ0FBQyxDQUFDLEVBQUVKLFNBQVNLLFVBQVUsQ0FBQyxHQUFHLEVBQUVJLFVBQVUsQ0FBQztRQUNoRztRQUVBLE1BQU1HLE9BQU8sTUFBTVosU0FBU2EsSUFBSTtRQUNoQ2xDLFFBQVFDLElBQUksQ0FBQyxDQUFDLDRDQUE0QyxFQUFFLElBQUksQ0FBQ1QsV0FBVyxDQUFDLGlCQUFpQixDQUFDO1FBRS9GLHFFQUFxRTtRQUNyRSxJQUFJeUMsS0FBSzhDLFdBQVcsSUFBSUMsTUFBTUMsT0FBTyxDQUFDaEQsS0FBSzhDLFdBQVcsR0FBRztZQUN2RC9FLFFBQVFDLElBQUksQ0FBQyxDQUFDLGNBQWMsRUFBRWdDLEtBQUs4QyxXQUFXLENBQUNHLE1BQU0sQ0FBQyw4QkFBOEIsQ0FBQztZQUVyRixPQUFPakQsS0FBSzhDLFdBQVcsQ0FBQ0ksR0FBRyxDQUFDLENBQUNDLE9BQVlDO2dCQUN2QyxJQUFJO29CQUNGLGlGQUFpRjtvQkFDakYsSUFBSWpCLFdBQVc7b0JBRWYsb0RBQW9EO29CQUNwRCxJQUFJZ0IsTUFBTWhCLFFBQVEsS0FBS3RELGFBQWFzRSxNQUFNaEIsUUFBUSxLQUFLLE1BQU07d0JBQzNELElBQUksT0FBT2dCLE1BQU1oQixRQUFRLEtBQUssWUFBWWdCLE1BQU1oQixRQUFRLEdBQUcsR0FBRzs0QkFDNUQsOENBQThDOzRCQUM5QyxNQUFNa0IsUUFBUUMsS0FBS0MsS0FBSyxDQUFDSixNQUFNaEIsUUFBUSxHQUFHOzRCQUMxQyxNQUFNcUIsVUFBVUYsS0FBS0MsS0FBSyxDQUFDLE1BQU9wQixRQUFRLEdBQUcsT0FBUTs0QkFDckRBLFdBQVcsQ0FBQyxFQUFFLEVBQUVrQixNQUFNLENBQUMsRUFBRUcsUUFBUSxDQUFDLENBQUM7d0JBQ3JDLE9BQU8sSUFBSSxPQUFPTCxNQUFNaEIsUUFBUSxLQUFLLFlBQVlnQixNQUFNaEIsUUFBUSxLQUFLLFVBQVU7NEJBQzVFLHlEQUF5RDs0QkFDekRBLFdBQVdnQixNQUFNaEIsUUFBUTt3QkFDM0I7b0JBQ0Y7b0JBRUEsbUVBQW1FO29CQUNuRSxJQUFJQSxhQUFhLFlBQVlnQixNQUFNbkIsWUFBWSxFQUFFQyxTQUFTa0IsTUFBTW5CLFlBQVksRUFBRUUsS0FBSzt3QkFDakYsSUFBSTs0QkFDRixNQUFNdUIsWUFBWSxJQUFJQyxLQUFLUCxNQUFNbkIsWUFBWSxDQUFDQyxLQUFLOzRCQUNuRCxNQUFNMEIsVUFBVSxJQUFJRCxLQUFLUCxNQUFNbkIsWUFBWSxDQUFDRSxHQUFHOzRCQUUvQyxJQUFJLENBQUMwQixNQUFNSCxVQUFVSSxPQUFPLE9BQU8sQ0FBQ0QsTUFBTUQsUUFBUUUsT0FBTyxPQUFPRixVQUFVRixXQUFXO2dDQUNuRixNQUFNSyxTQUFTSCxRQUFRRSxPQUFPLEtBQUtKLFVBQVVJLE9BQU87Z0NBQ3BELE1BQU1FLFlBQVlELFNBQVUsUUFBTyxLQUFLLEVBQUM7Z0NBQ3pDLE1BQU1ULFFBQVFDLEtBQUtDLEtBQUssQ0FBQ1E7Z0NBQ3pCLE1BQU1QLFVBQVVGLEtBQUtDLEtBQUssQ0FBQyxDQUFDUSxZQUFZVixLQUFJLElBQUs7Z0NBQ2pEbEIsV0FBVyxDQUFDLEVBQUUsRUFBRWtCLE1BQU0sQ0FBQyxFQUFFRyxRQUFRLENBQUMsQ0FBQzs0QkFDckM7d0JBQ0YsRUFBRSxPQUFPUSxXQUFXOzRCQUNsQmpHLFFBQVFFLElBQUksQ0FBQyxDQUFDLDZEQUE2RCxFQUFFbUYsTUFBTSxDQUFDLENBQUMsRUFBRVk7d0JBQ3pGO29CQUNGO29CQUVBLDBEQUEwRDtvQkFDMUQsTUFBTUMsVUFBVWQsTUFBTXRDLEVBQUUsSUFBSSxDQUFDLGNBQWMsRUFBRXVDLE1BQU0sQ0FBQyxFQUFFTSxLQUFLUSxHQUFHLEdBQUcsQ0FBQztvQkFFbEUscURBQXFEO29CQUNyRCxJQUFJZCxRQUFRLEdBQUc7d0JBQ2JyRixRQUFRQyxJQUFJLENBQUMsQ0FBQyxnQkFBZ0IsRUFBRW9GLE1BQU0sQ0FBQyxDQUFDLEVBQUU7NEJBQ3hDdkMsSUFBSW9EOzRCQUNKOUIsVUFBVWdCLE1BQU1oQixRQUFROzRCQUN4QmdDLG1CQUFtQmhDOzRCQUNuQmQsV0FBVzhCLE1BQU05QixTQUFTOzRCQUMxQmdCLFFBQVFjLE1BQU1kLE1BQU07d0JBQ3RCO29CQUNGO29CQUVBLE9BQU87d0JBQ0x4QixJQUFJb0Q7d0JBQ0psQyxhQUFhb0IsTUFBTXBCLFdBQVcsSUFBSTt3QkFDbENDLGNBQWM7NEJBQ1pDLE9BQU9rQixNQUFNbkIsWUFBWSxFQUFFQyxTQUFTa0IsTUFBTWxCLEtBQUs7NEJBQy9DQyxLQUFLaUIsTUFBTW5CLFlBQVksRUFBRUUsT0FBT2lCLE1BQU1qQixHQUFHOzRCQUN6Q0MsVUFBVUE7d0JBQ1o7d0JBQ0FDLFVBQVVlLE1BQU1mLFFBQVEsSUFBSTt3QkFDNUJDLFFBQVFjLE1BQU1kLE1BQU0sSUFBSTt3QkFDeEJDLFVBQVVhLE1BQU1iLFFBQVEsSUFBSTt3QkFDNUJqQixXQUFXOEIsTUFBTTlCLFNBQVMsSUFBSTt3QkFDOUJrQixhQUFhWSxNQUFNWixXQUFXLElBQUk7d0JBQ2xDeEIsWUFBWW9DLE1BQU1wQyxVQUFVLElBQUk7b0JBQ2xDO2dCQUNGLEVBQUUsT0FBT3FELFlBQVk7b0JBQ25CckcsUUFBUTRCLEtBQUssQ0FBQyxDQUFDLDhCQUE4QixFQUFFeUQsTUFBTSxDQUFDLENBQUMsRUFBRWdCO29CQUN6RHJHLFFBQVE0QixLQUFLLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQyxFQUFFd0Q7b0JBRXBDLCtCQUErQjtvQkFDL0IsT0FBTzt3QkFDTHRDLElBQUksQ0FBQyxZQUFZLEVBQUV1QyxNQUFNLENBQUMsRUFBRU0sS0FBS1EsR0FBRyxHQUFHLENBQUM7d0JBQ3hDbkMsYUFBYTt3QkFDYkMsY0FBYzs0QkFDWkMsT0FBT1g7NEJBQ1BZLEtBQUtYOzRCQUNMWSxVQUFVO3dCQUNaO3dCQUNBQyxVQUFVO3dCQUNWQyxRQUFRO3dCQUNSQyxVQUFVO3dCQUNWakIsV0FBVzt3QkFDWGtCLGFBQWE7d0JBQ2J4QixZQUFZO29CQUNkO2dCQUNGO1lBQ0YsR0FBR3NELE1BQU0sQ0FBQyxDQUFDbEIsUUFBZUEsVUFBVSxPQUFPLDBCQUEwQjtRQUN2RTtRQUVBcEYsUUFBUUUsSUFBSSxDQUFDO1FBQ2IsT0FBTyxFQUFFO0lBQ1g7SUFFQSxxRUFBcUU7SUFDckUsTUFBYzZELDhCQUE4QlIsU0FBaUIsRUFBRUMsT0FBZSxFQUFrQjtRQUM5RixJQUFJO1lBQ0YsNkJBQTZCO1lBQzdCLE1BQU0rQyxPQUFPLE1BQU0sSUFBSSxDQUFDNUQsT0FBTztZQUMvQixJQUFJLENBQUM0RCxNQUFNekQsSUFBSTtnQkFDYixNQUFNLElBQUkxQyxNQUFNO1lBQ2xCO1lBRUEsdUZBQXVGO1lBQ3ZGLE1BQU1JLE1BQU0sSUFBSUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDaEIsT0FBTyxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUNELFdBQVcsQ0FBQyxNQUFNLEVBQUUrRyxLQUFLekQsRUFBRSxDQUFDLGFBQWEsQ0FBQztZQUNqR3RDLElBQUlPLFlBQVksQ0FBQ3lGLEdBQUcsQ0FBQyxTQUFTakQ7WUFDOUIvQyxJQUFJTyxZQUFZLENBQUN5RixHQUFHLENBQUMsT0FBT2hEO1lBRTVCeEQsUUFBUUMsSUFBSSxDQUFDLENBQUMsc0RBQXNELEVBQUVPLElBQUlVLFFBQVEsR0FBRyxDQUFDO1lBQ3RGbEIsUUFBUUMsSUFBSSxDQUFDLENBQUMsOERBQThELENBQUM7WUFDN0VELFFBQVFDLElBQUksQ0FBQyxDQUFDLFlBQVksRUFBRWtCLEtBQUtDLFNBQVMsQ0FBQyxJQUFJLENBQUNqQixVQUFVLElBQUksQ0FBQztZQUMvREgsUUFBUUMsSUFBSSxDQUFDLENBQUMsOEVBQThFLENBQUM7WUFFN0YsTUFBTW9CLFdBQVcsTUFBTUMsTUFBTWQsSUFBSVUsUUFBUSxJQUFJO2dCQUMzQ0ssUUFBUTtnQkFDUkMsU0FBUyxJQUFJLENBQUNyQixVQUFVO1lBQzFCO1lBRUFILFFBQVFDLElBQUksQ0FBQyxDQUFDLDRDQUE0QyxFQUFFb0IsU0FBU0ksTUFBTSxDQUFDLENBQUMsRUFBRUosU0FBU0ssVUFBVSxDQUFDLENBQUM7WUFFcEcsSUFBSSxDQUFDTCxTQUFTUSxFQUFFLEVBQUU7Z0JBQ2hCLE1BQU1DLFlBQVksTUFBTVQsU0FBU1UsSUFBSSxHQUFHQyxLQUFLLENBQUMsSUFBTTtnQkFDcERoQyxRQUFRNEIsS0FBSyxDQUFDLENBQUMsb0RBQW9ELEVBQUVFLFVBQVUsQ0FBQztnQkFDaEYsTUFBTSxJQUFJMUIsTUFBTSxDQUFDLHNDQUFzQyxFQUFFaUIsU0FBU0ksTUFBTSxDQUFDLENBQUMsRUFBRUosU0FBU0ssVUFBVSxDQUFDLEdBQUcsRUFBRUksVUFBVSxDQUFDO1lBQ2xIO1lBRUEsTUFBTUcsT0FBTyxNQUFNWixTQUFTYSxJQUFJO1lBQ2hDbEMsUUFBUUMsSUFBSSxDQUFDLENBQUMsaUVBQWlFLEVBQUUsSUFBSSxDQUFDVCxXQUFXLENBQUMsTUFBTSxFQUFFK0csS0FBS3pELEVBQUUsQ0FBQyxhQUFhLENBQUM7WUFDaEk5QyxRQUFRQyxJQUFJLENBQUMsQ0FBQyxhQUFhLEVBQUVnQyxNQUFNaUQsVUFBVSxFQUFFLGlDQUFpQyxDQUFDO1lBRWpGLGtEQUFrRDtZQUNsRCxJQUFJRixNQUFNQyxPQUFPLENBQUNoRCxPQUFPO2dCQUN2QixPQUFPQSxLQUFLa0QsR0FBRyxDQUFDLENBQUNDLE9BQVlDO29CQUMzQixJQUFJO3dCQUNGLDZFQUE2RTt3QkFDN0UsSUFBSWpCLFdBQVc7d0JBRWYsb0RBQW9EO3dCQUNwRCxJQUFJZ0IsTUFBTWhCLFFBQVEsS0FBS3RELGFBQWFzRSxNQUFNaEIsUUFBUSxLQUFLLE1BQU07NEJBQzNELElBQUksT0FBT2dCLE1BQU1oQixRQUFRLEtBQUssWUFBWWdCLE1BQU1oQixRQUFRLEdBQUcsR0FBRztnQ0FDNUQsOENBQThDO2dDQUM5QyxNQUFNa0IsUUFBUUMsS0FBS0MsS0FBSyxDQUFDSixNQUFNaEIsUUFBUSxHQUFHO2dDQUMxQyxNQUFNcUIsVUFBVUYsS0FBS0MsS0FBSyxDQUFDLE1BQU9wQixRQUFRLEdBQUcsT0FBUTtnQ0FDckRBLFdBQVcsQ0FBQyxFQUFFLEVBQUVrQixNQUFNLENBQUMsRUFBRUcsUUFBUSxDQUFDLENBQUM7NEJBQ3JDLE9BQU8sSUFBSSxPQUFPTCxNQUFNaEIsUUFBUSxLQUFLLFlBQVlnQixNQUFNaEIsUUFBUSxLQUFLLFVBQVU7Z0NBQzVFLHlEQUF5RDtnQ0FDekRBLFdBQVdnQixNQUFNaEIsUUFBUTs0QkFDM0I7d0JBQ0Y7d0JBRUEsbUVBQW1FO3dCQUNuRSxJQUFJQSxhQUFhLFlBQVlnQixNQUFNbkIsWUFBWSxFQUFFQyxTQUFTa0IsTUFBTW5CLFlBQVksRUFBRUUsS0FBSzs0QkFDakYsSUFBSTtnQ0FDRixNQUFNdUIsWUFBWSxJQUFJQyxLQUFLUCxNQUFNbkIsWUFBWSxDQUFDQyxLQUFLO2dDQUNuRCxNQUFNMEIsVUFBVSxJQUFJRCxLQUFLUCxNQUFNbkIsWUFBWSxDQUFDRSxHQUFHO2dDQUUvQyxJQUFJLENBQUMwQixNQUFNSCxVQUFVSSxPQUFPLE9BQU8sQ0FBQ0QsTUFBTUQsUUFBUUUsT0FBTyxPQUFPRixVQUFVRixXQUFXO29DQUNuRixNQUFNSyxTQUFTSCxRQUFRRSxPQUFPLEtBQUtKLFVBQVVJLE9BQU87b0NBQ3BELE1BQU1FLFlBQVlELFNBQVUsUUFBTyxLQUFLLEVBQUM7b0NBQ3pDLE1BQU1ULFFBQVFDLEtBQUtDLEtBQUssQ0FBQ1E7b0NBQ3pCLE1BQU1QLFVBQVVGLEtBQUtDLEtBQUssQ0FBQyxDQUFDUSxZQUFZVixLQUFJLElBQUs7b0NBQ2pEbEIsV0FBVyxDQUFDLEVBQUUsRUFBRWtCLE1BQU0sQ0FBQyxFQUFFRyxRQUFRLENBQUMsQ0FBQztnQ0FDckM7NEJBQ0YsRUFBRSxPQUFPUSxXQUFXO2dDQUNsQmpHLFFBQVFFLElBQUksQ0FBQyxDQUFDLHNFQUFzRSxFQUFFbUYsTUFBTSxDQUFDLENBQUMsRUFBRVk7NEJBQ2xHO3dCQUNGO3dCQUVBLDBEQUEwRDt3QkFDMUQsTUFBTUMsVUFBVWQsTUFBTXRDLEVBQUUsSUFBSSxDQUFDLFdBQVcsRUFBRXVDLE1BQU0sQ0FBQyxFQUFFTSxLQUFLUSxHQUFHLEdBQUcsQ0FBQzt3QkFFL0QscURBQXFEO3dCQUNyRCxJQUFJZCxRQUFRLEdBQUc7NEJBQ2JyRixRQUFRQyxJQUFJLENBQUMsQ0FBQyxrQkFBa0IsRUFBRW9GLE1BQU0sQ0FBQyxDQUFDLEVBQUU7Z0NBQzFDdkMsSUFBSW9EO2dDQUNKOUIsVUFBVWdCLE1BQU1oQixRQUFRO2dDQUN4QmdDLG1CQUFtQmhDO2dDQUNuQmQsV0FBVzhCLE1BQU05QixTQUFTO2dDQUMxQmdCLFFBQVFjLE1BQU1kLE1BQU07NEJBQ3RCO3dCQUNGO3dCQUVBLE9BQU87NEJBQ0x4QixJQUFJb0Q7NEJBQ0psQyxhQUFhb0IsTUFBTXBCLFdBQVcsSUFBSTs0QkFDbENDLGNBQWM7Z0NBQ1pDLE9BQU9rQixNQUFNbkIsWUFBWSxFQUFFQyxTQUFTa0IsTUFBTWxCLEtBQUs7Z0NBQy9DQyxLQUFLaUIsTUFBTW5CLFlBQVksRUFBRUUsT0FBT2lCLE1BQU1qQixHQUFHO2dDQUMzQ0MsVUFBVUE7NEJBQ1Y7NEJBQ0FDLFVBQVVlLE1BQU1mLFFBQVEsSUFBSTs0QkFDNUJDLFFBQVFjLE1BQU1kLE1BQU0sSUFBSTs0QkFDeEJDLFVBQVVhLE1BQU1iLFFBQVEsSUFBSTs0QkFDNUJqQixXQUFXOEIsTUFBTTlCLFNBQVMsSUFBSTs0QkFDOUJrQixhQUFhWSxNQUFNWixXQUFXLElBQUk7NEJBQ2xDeEIsWUFBWW9DLE1BQU1wQyxVQUFVLElBQUk7d0JBQ2xDO29CQUNGLEVBQUUsT0FBT3FELFlBQVk7d0JBQ25CckcsUUFBUTRCLEtBQUssQ0FBQyxDQUFDLHVDQUF1QyxFQUFFeUQsTUFBTSxDQUFDLENBQUMsRUFBRWdCO3dCQUNsRXJHLFFBQVE0QixLQUFLLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQyxFQUFFd0Q7d0JBRXBDLCtCQUErQjt3QkFDL0IsT0FBTzs0QkFDTHRDLElBQUksQ0FBQyxlQUFlLEVBQUV1QyxNQUFNLENBQUMsRUFBRU0sS0FBS1EsR0FBRyxHQUFHLENBQUM7NEJBQzNDbkMsYUFBYTs0QkFDYkMsY0FBYztnQ0FDWkMsT0FBT1g7Z0NBQ1BZLEtBQUtYO2dDQUNMWSxVQUFVOzRCQUNaOzRCQUNBQyxVQUFVOzRCQUNWQyxRQUFROzRCQUNSQyxVQUFVOzRCQUNWakIsV0FBVzs0QkFDWGtCLGFBQWE7NEJBQ2J4QixZQUFZO3dCQUNkO29CQUNGO2dCQUNGLEdBQUdzRCxNQUFNLENBQUMsQ0FBQ2xCLFFBQWVBLFVBQVUsT0FBTywwQkFBMEI7WUFDdkU7WUFFQSxPQUFPLEVBQUU7UUFDWCxFQUFFLE9BQU94RCxPQUFPO1lBQ2Q1QixRQUFRNEIsS0FBSyxDQUFDLDREQUE0REE7WUFDMUUsTUFBTUE7UUFDUjtJQUNGO0lBSUEsTUFBTTZFLHFCQUFxQm5ELFNBQWlCLEVBQUVDLFNBQWlCLEVBQUVDLE9BQWUsRUFBc0M7UUFDcEgsSUFBSTtZQUNGLElBQUksQ0FBQyxJQUFJLENBQUNoRSxXQUFXLEVBQUU7Z0JBQ3JCLE1BQU0sSUFBSVksTUFBTTtZQUNsQjtZQUVBLE1BQU1zRyxjQUFjLE1BQU0sSUFBSSxDQUFDckQsY0FBYyxDQUFDQyxXQUFXQyxXQUFXQztZQUNwRSxNQUFNbUQsVUFBVSxNQUFNLElBQUksQ0FBQ3hELFdBQVcsR0FBR3lELElBQUksQ0FBQ0MsQ0FBQUEsV0FDNUNBLFNBQVNDLElBQUksQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRWpFLEVBQUUsS0FBS1E7WUFHOUIsSUFBSSxDQUFDcUQsU0FBUztnQkFDWixNQUFNLElBQUl2RyxNQUFNO1lBQ2xCO1lBRUEsTUFBTTRHLGFBQWFOLFlBQVlPLE1BQU0sQ0FBQyxDQUFDQyxLQUFLOUI7Z0JBQzFDLE1BQU1oQixXQUFXZ0IsTUFBTW5CLFlBQVksQ0FBQ0csUUFBUTtnQkFDNUMsTUFBTWtCLFFBQVEsSUFBSSxDQUFDNkIsYUFBYSxDQUFDL0M7Z0JBQ2pDLE9BQU84QyxNQUFNNUI7WUFDZixHQUFHO1lBRUgsTUFBTThCLGdCQUFnQlYsWUFDbkJKLE1BQU0sQ0FBQ2xCLENBQUFBLFFBQVNBLE1BQU1mLFFBQVEsRUFDOUI0QyxNQUFNLENBQUMsQ0FBQ0MsS0FBSzlCO2dCQUNaLE1BQU1oQixXQUFXZ0IsTUFBTW5CLFlBQVksQ0FBQ0csUUFBUTtnQkFDNUMsTUFBTWtCLFFBQVEsSUFBSSxDQUFDNkIsYUFBYSxDQUFDL0M7Z0JBQ2pDLE9BQU84QyxNQUFNNUI7WUFDZixHQUFHO1lBRUwsTUFBTStCLG1CQUFtQkwsYUFBYUk7WUFFdEMsT0FBTztnQkFDTDlEO2dCQUNBa0IsYUFBYW1DLFFBQVE1RCxJQUFJO2dCQUN6QmlFO2dCQUNBSTtnQkFDQUM7Z0JBQ0FDLGFBQWFOLGFBQWMsUUFBT0wsUUFBUTNELFVBQVUsS0FBSyxXQUFXMkQsUUFBUTNELFVBQVUsQ0FBQ0MsTUFBTSxHQUFJMEQsUUFBUTNELFVBQVUsSUFBSSxDQUFDO2dCQUN4SHVFLGdCQUFnQkgsZ0JBQWlCLFFBQU9ULFFBQVEzRCxVQUFVLEtBQUssV0FBVzJELFFBQVEzRCxVQUFVLENBQUNDLE1BQU0sR0FBSTBELFFBQVEzRCxVQUFVLElBQUksQ0FBQztnQkFDOUh3RSxtQkFBbUJILG1CQUFvQixRQUFPVixRQUFRM0QsVUFBVSxLQUFLLFdBQVcyRCxRQUFRM0QsVUFBVSxDQUFDQyxNQUFNLEdBQUkwRCxRQUFRM0QsVUFBVSxJQUFJLENBQUM7Z0JBQ3BJeUUsU0FBU2Y7Z0JBQ1RnQixRQUFRO29CQUFFeEQsT0FBT1g7b0JBQVdZLEtBQUtYO2dCQUFRO1lBQzNDO1FBQ0YsRUFBRSxPQUFPNUIsT0FBTztZQUNkNUIsUUFBUTRCLEtBQUssQ0FBQyxzQ0FBc0NBO1lBQ3BELE9BQU87UUFDVDtJQUNGO0lBRUEsTUFBTStGLDBCQUEwQnBFLFNBQWlCLEVBQUVDLE9BQWUsRUFBaUM7UUFDakcsSUFBSTtZQUNGLElBQUksQ0FBQyxJQUFJLENBQUNoRSxXQUFXLEVBQUU7Z0JBQ3JCLE1BQU0sSUFBSVksTUFBTTtZQUNsQjtZQUVBLE1BQU15RyxXQUFXLE1BQU0sSUFBSSxDQUFDMUQsV0FBVztZQUN2QyxNQUFNeUUsVUFBZ0MsRUFBRTtZQUV4QyxLQUFLLE1BQU1qQixXQUFXRSxTQUFVO2dCQUM5QixNQUFNZ0IsU0FBUyxNQUFNLElBQUksQ0FBQ3BCLG9CQUFvQixDQUFDRSxRQUFRN0QsRUFBRSxFQUFFUyxXQUFXQztnQkFDdEUsSUFBSXFFLFFBQVE7b0JBQ1ZELFFBQVFFLElBQUksQ0FBQ0Q7Z0JBQ2Y7WUFDRjtZQUVBLE9BQU9EO1FBQ1QsRUFBRSxPQUFPaEcsT0FBTztZQUNkNUIsUUFBUTRCLEtBQUssQ0FBQyw0Q0FBNENBO1lBQzFELE9BQU8sRUFBRTtRQUNYO0lBQ0Y7SUFFQSxvREFBb0Q7SUFDNUN1RixjQUFjL0MsUUFBZ0IsRUFBVTtRQUM5QyxNQUFNMkQsUUFBUTNELFNBQVMyRCxLQUFLLENBQUM7UUFDN0IsSUFBSSxDQUFDQSxPQUFPLE9BQU87UUFFbkIsTUFBTXpDLFFBQVEwQyxTQUFTRCxLQUFLLENBQUMsRUFBRSxJQUFJO1FBQ25DLE1BQU10QyxVQUFVdUMsU0FBU0QsS0FBSyxDQUFDLEVBQUUsSUFBSTtRQUNyQyxNQUFNRSxVQUFVRCxTQUFTRCxLQUFLLENBQUMsRUFBRSxJQUFJO1FBRXJDLE9BQU96QyxRQUFTRyxVQUFVLEtBQU93QyxVQUFVO0lBQzdDO0lBRUEsZ0RBQWdEO0lBQ3hDeEUsbUJBQW1CSCxTQUFpQixFQUFFQyxTQUFpQixFQUFFQyxPQUFlLEVBQVM7UUFDdkYsT0FBTztZQUNMO2dCQUNFVixJQUFJLENBQUMsS0FBSyxFQUFFUSxVQUFVLEVBQUUsQ0FBQztnQkFDekJVLGFBQWE7Z0JBQ2JDLGNBQWM7b0JBQ1pDLE9BQU9YO29CQUNQWSxLQUFLWDtvQkFDTFksVUFBVTtnQkFDWjtnQkFDQUMsVUFBVTtnQkFDVkMsUUFBUTtnQkFDUkMsVUFBVTtnQkFDVmpCLFdBQVdBO2dCQUNYa0IsYUFBYTtZQUNmO1NBQ0Q7SUFDSDtJQUVBLDRDQUE0QztJQUNwQ3BCLGtCQUF5QjtRQUMvQixPQUFPO1lBQ0w7Z0JBQ0VOLElBQUk7Z0JBQ0pDLE1BQU07Z0JBQ052RCxhQUFhO2dCQUNiMEksVUFBVTtnQkFDVkMsWUFBWTtnQkFDWkMsVUFBVTtnQkFDVkMsWUFBWTtnQkFDWkMsT0FBTztnQkFDUGpFLFVBQVU7Z0JBQ1ZrRSxRQUFRO2dCQUNSQyxVQUFVO2dCQUNWL0csUUFBUTtnQkFDUmdILFFBQVE7Z0JBQ1J6RixZQUFZO29CQUFFQyxRQUFRO29CQUFLQyxVQUFVO2dCQUFNO1lBQzdDO1NBQ0Q7SUFDSDtJQUVBLHdDQUF3QztJQUNoQ04sY0FBbUI7UUFDekIsT0FBTztZQUNMRSxJQUFJO1lBQ0o0RixPQUFPO1lBQ1AzRixNQUFNO1lBQ040RixnQkFBZ0I7WUFDaEJsSCxRQUFRO1lBQ1JtSCxpQkFBaUI7WUFDakJDLGtCQUFrQjtRQUNwQjtJQUNGO0lBRUEsNkRBQTZEO0lBQzdELE1BQU1DLGtCQUFrQnZGLFNBQWlCLEVBQUVDLE9BQWUsRUFVdkQ7UUFDRCxJQUFJO1lBQ0Z4RCxRQUFRaUIsR0FBRyxDQUFDO1lBQ1pqQixRQUFRaUIsR0FBRyxDQUFDLENBQUMsZUFBZSxFQUFFc0MsVUFBVSxJQUFJLEVBQUVDLFFBQVEsQ0FBQztZQUV2RCwwQ0FBMEM7WUFDMUMsTUFBTWtELGNBQWMsTUFBTSxJQUFJLENBQUNyRCxjQUFjLENBQUMsSUFBSUUsV0FBV0M7WUFDN0R4RCxRQUFRaUIsR0FBRyxDQUFDLENBQUMsU0FBUyxFQUFFeUYsWUFBWXhCLE1BQU0sQ0FBQyx3QkFBd0IsQ0FBQztZQUVwRSxJQUFJd0IsWUFBWXhCLE1BQU0sS0FBSyxHQUFHO2dCQUM1QmxGLFFBQVFpQixHQUFHLENBQUM7Z0JBQ1osT0FBTztvQkFDTDhILFNBQVM7b0JBQ1RDLGlCQUFpQjtvQkFDakJDLFFBQVEsRUFBRTtvQkFDVkMsU0FBUzt3QkFDUEMsY0FBYzt3QkFDZC9CLGVBQWU7d0JBQ2ZDLGtCQUFrQjt3QkFDbEIrQixXQUFXO29CQUNiO2dCQUNGO1lBQ0Y7WUFFQSxxQ0FBcUM7WUFDckMsTUFBTSxDQUFDdkMsVUFBVXdDLE1BQU0sR0FBRyxNQUFNQyxRQUFRQyxHQUFHLENBQUM7Z0JBQzFDLElBQUksQ0FBQ3BHLFdBQVc7Z0JBQ2hCLElBQUksQ0FBQ04sYUFBYSxHQUFHK0QsSUFBSSxDQUFDNEMsQ0FBQUEsYUFDeEJBLFdBQVd0RSxNQUFNLEdBQUcsSUFBSSxJQUFJLENBQUN1RSxRQUFRLENBQUNELFVBQVUsQ0FBQyxFQUFFLENBQUMxRyxFQUFFLElBQUksRUFBRTthQUUvRDtZQUVEOUMsUUFBUWlCLEdBQUcsQ0FBQyxDQUFDLGFBQWEsRUFBRTRGLFNBQVMzQixNQUFNLENBQUMsY0FBYyxFQUFFbUUsTUFBTW5FLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQztZQUU1RixJQUFJOEQsa0JBQWtCO1lBQ3RCLE1BQU1DLFNBQW1CLEVBQUU7WUFDM0IsSUFBSVMscUJBQXFCO1lBQ3pCLElBQUlDLHdCQUF3QjtZQUM1QixJQUFJUCxZQUFZO1lBRWhCLDBCQUEwQjtZQUMxQixLQUFLLE1BQU1oRSxTQUFTc0IsWUFBYTtnQkFDL0IsSUFBSTtvQkFDRixnQ0FBZ0M7b0JBQ2hDLE1BQU1ILE9BQU84QyxNQUFNdkMsSUFBSSxDQUFDOEMsQ0FBQUEsSUFBS0EsRUFBRTlHLEVBQUUsS0FBS3NDLE1BQU1kLE1BQU07b0JBQ2xELE1BQU1xQyxVQUFVRSxTQUFTQyxJQUFJLENBQUNDLENBQUFBLElBQUtBLEVBQUVqRSxFQUFFLEtBQUtzQyxNQUFNOUIsU0FBUztvQkFFM0QsSUFBSSxDQUFDaUQsUUFBUSxDQUFDSSxTQUFTO3dCQUNyQixNQUFNa0QsV0FBVyxDQUFDLGNBQWMsRUFBRXpFLE1BQU1kLE1BQU0sQ0FBQyxjQUFjLEVBQUVjLE1BQU05QixTQUFTLENBQUMsWUFBWSxFQUFFOEIsTUFBTXRDLEVBQUUsQ0FBQyxDQUFDO3dCQUN2RzlDLFFBQVFFLElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBRTJKLFNBQVMsQ0FBQzt3QkFDN0JaLE9BQU9uQixJQUFJLENBQUMrQjt3QkFDWjtvQkFDRjtvQkFFQSwwQkFBMEI7b0JBQzFCLE1BQU12RSxRQUFRLElBQUksQ0FBQzZCLGFBQWEsQ0FBQy9CLE1BQU1uQixZQUFZLENBQUNHLFFBQVE7b0JBQzVELE1BQU1nRCxnQkFBZ0JoQyxNQUFNZixRQUFRLEdBQUdpQixRQUFRO29CQUMvQyxNQUFNK0IsbUJBQW1CakMsTUFBTWYsUUFBUSxHQUFHLElBQUlpQjtvQkFFOUMsMkRBQTJEO29CQUMzRCxNQUFNdEMsYUFBYSxPQUFPMkQsUUFBUTNELFVBQVUsS0FBSyxXQUFXMkQsUUFBUTNELFVBQVUsQ0FBQ0MsTUFBTSxHQUFJMEQsUUFBUTNELFVBQVUsSUFBSTtvQkFDL0csTUFBTThHLG9CQUFvQnhFLFFBQVF0QztvQkFFbEMsZ0JBQWdCO29CQUNoQjBHLHNCQUFzQnRDO29CQUN0QnVDLHlCQUF5QnRDO29CQUN6QitCLGFBQWFVO29CQUViLDRCQUE0QjtvQkFDNUI5SixRQUFRaUIsR0FBRyxDQUFDLENBQUMsbUJBQW1CLEVBQUVzRixLQUFLeEQsSUFBSSxDQUFDLEdBQUcsRUFBRTRELFFBQVE1RCxJQUFJLENBQUMsR0FBRyxFQUFFdUMsTUFBTXlFLE9BQU8sQ0FBQyxHQUFHLEdBQUcsRUFBRTNFLE1BQU1mLFFBQVEsR0FBRyxhQUFhLGVBQWUsQ0FBQyxDQUFDO29CQUV4STJFO2dCQUVGLEVBQUUsT0FBTzNDLFlBQVk7b0JBQ25CLE1BQU13RCxXQUFXLENBQUMsdUJBQXVCLEVBQUV6RSxNQUFNdEMsRUFBRSxDQUFDLEVBQUUsRUFBRXVELFdBQVcsQ0FBQztvQkFDcEVyRyxRQUFRNEIsS0FBSyxDQUFDLENBQUMsRUFBRSxFQUFFaUksU0FBUyxDQUFDO29CQUM3QlosT0FBT25CLElBQUksQ0FBQytCO2dCQUNkO1lBQ0Y7WUFFQSxNQUFNWCxVQUFVO2dCQUNkQyxjQUFjekMsWUFBWXhCLE1BQU07Z0JBQ2hDa0MsZUFBZXNDO2dCQUNmckMsa0JBQWtCc0M7Z0JBQ2xCUCxXQUFXQTtZQUNiO1lBRUFwSixRQUFRaUIsR0FBRyxDQUFDLENBQUMscUJBQXFCLEVBQUUrSCxnQkFBZ0IsQ0FBQyxFQUFFdEMsWUFBWXhCLE1BQU0sQ0FBQywrQkFBK0IsQ0FBQztZQUMxR2xGLFFBQVFpQixHQUFHLENBQUMsQ0FBQyxZQUFZLEVBQUV5SSxtQkFBbUJLLE9BQU8sQ0FBQyxHQUFHLGlCQUFpQixFQUFFSixzQkFBc0JJLE9BQU8sQ0FBQyxHQUFHLHNCQUFzQixFQUFFWCxVQUFVVyxPQUFPLENBQUMsR0FBRyxXQUFXLENBQUM7WUFFdEssSUFBSWQsT0FBTy9ELE1BQU0sR0FBRyxHQUFHO2dCQUNyQmxGLFFBQVFFLElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBRStJLE9BQU8vRCxNQUFNLENBQUMsaUNBQWlDLENBQUM7WUFDckU7WUFFQSxPQUFPO2dCQUNMNkQsU0FBU0Msa0JBQWtCO2dCQUMzQkE7Z0JBQ0FDO2dCQUNBQztZQUNGO1FBRUYsRUFBRSxPQUFPdEgsT0FBTztZQUNkNUIsUUFBUTRCLEtBQUssQ0FBQywwQ0FBMENBO1lBQ3hELE9BQU87Z0JBQ0xtSCxTQUFTO2dCQUNUQyxpQkFBaUI7Z0JBQ2pCQyxRQUFRO29CQUFDckgsaUJBQWlCeEIsUUFBUXdCLE1BQU1PLE9BQU8sR0FBRztpQkFBZ0I7Z0JBQ2xFK0csU0FBUztvQkFDUEMsY0FBYztvQkFDZC9CLGVBQWU7b0JBQ2ZDLGtCQUFrQjtvQkFDbEIrQixXQUFXO2dCQUNiO1lBQ0Y7UUFDRjtJQUNGO0lBRUEsK0NBQStDO0lBQy9DLE1BQU1LLFNBQVNqSyxXQUFtQixFQUEyQjtRQUMzRCxJQUFJO1lBQ0YsSUFBSSxDQUFDLElBQUksQ0FBQ0QsTUFBTSxFQUFFO2dCQUNoQixNQUFNLElBQUlhLE1BQU07WUFDbEI7WUFFQSxNQUFNSSxNQUFNLENBQUMsRUFBRSxJQUFJLENBQUNmLE9BQU8sQ0FBQyxZQUFZLEVBQUVELFlBQVksTUFBTSxDQUFDO1lBQzdEUSxRQUFRQyxJQUFJLENBQUMsQ0FBQywrQkFBK0IsRUFBRU8sSUFBSSxDQUFDO1lBRXBELE1BQU1hLFdBQVcsTUFBTUMsTUFBTWQsS0FBSztnQkFDaENlLFFBQVE7Z0JBQ1JDLFNBQVMsSUFBSSxDQUFDckIsVUFBVTtZQUMxQjtZQUVBLElBQUksQ0FBQ2tCLFNBQVNRLEVBQUUsRUFBRTtnQkFDaEIsTUFBTSxJQUFJekIsTUFBTSxDQUFDLG9CQUFvQixFQUFFaUIsU0FBU0ksTUFBTSxDQUFDLENBQUMsRUFBRUosU0FBU0ssVUFBVSxDQUFDLENBQUM7WUFDakY7WUFFQSxNQUFNMkgsUUFBUSxNQUFNaEksU0FBU2EsSUFBSTtZQUNqQ2xDLFFBQVFDLElBQUksQ0FBQyxDQUFDLFlBQVksRUFBRW9KLE1BQU1uRSxNQUFNLENBQUMsc0JBQXNCLEVBQUUxRixZQUFZLENBQUM7WUFDOUUsT0FBTzZKO1FBRVQsRUFBRSxPQUFPekgsT0FBTztZQUNkNUIsUUFBUTRCLEtBQUssQ0FBQyx3QkFBd0JBO1lBQ3RDLGdDQUFnQztZQUNoQyxPQUFPO2dCQUFDLElBQUksQ0FBQ2dCLFdBQVc7YUFBRztRQUM3QjtJQUNGO0FBQ0Y7QUFFQSw4QkFBOEI7QUFDOUIsTUFBTW9ILGtCQUFrQixJQUFJM0s7QUFFNUIsK0RBQStEO0FBQy9ELGlFQUFlMkssZUFBZUEsRUFBQztBQUNKO0FBRTNCLCtCQUErQjtBQUN4QixNQUFNQyx3QkFBd0I7SUFDbkMsSUFBSTtRQUNGLE9BQU8sTUFBTUQsZ0JBQWdCN0csV0FBVztJQUMxQyxFQUFFLE9BQU92QixPQUFPO1FBQ2Q1QixRQUFRNEIsS0FBSyxDQUFDLHFDQUFxQ0E7UUFDbkQsT0FBTyxFQUFFO0lBQ1g7QUFDRixFQUFFO0FBRUssTUFBTXNJLDJCQUEyQixPQUN0QzVHLFdBQ0FDLFdBQ0FDO0lBRUEsSUFBSTtRQUNGLE9BQU8sTUFBTXdHLGdCQUFnQjNHLGNBQWMsQ0FBQ0MsV0FBV0MsYUFBYSxJQUFJQyxXQUFXO0lBQ3JGLEVBQUUsT0FBTzVCLE9BQU87UUFDZDVCLFFBQVE0QixLQUFLLENBQUMseUNBQXlDQTtRQUN2RCxPQUFPLEVBQUU7SUFDWDtBQUNGLEVBQUU7QUFFSyxNQUFNdUksMEJBQTBCLE9BQ3JDN0csV0FDQUMsV0FDQUM7SUFFQSxJQUFJO1FBQ0YsT0FBTyxNQUFNd0csZ0JBQWdCdkQsb0JBQW9CLENBQUNuRCxXQUFXQyxXQUFXQztJQUMxRSxFQUFFLE9BQU81QixPQUFPO1FBQ2Q1QixRQUFRNEIsS0FBSyxDQUFDLHdDQUF3Q0E7UUFDdEQsT0FBTztJQUNUO0FBQ0YsRUFBRTtBQUVLLE1BQU13SSxnQ0FBZ0MsT0FDM0M3RyxXQUNBQztJQUVBLElBQUk7UUFDRixPQUFPLE1BQU13RyxnQkFBZ0JyQyx5QkFBeUIsQ0FBQ3BFLFdBQVdDO0lBQ3BFLEVBQUUsT0FBTzVCLE9BQU87UUFDZDVCLFFBQVE0QixLQUFLLENBQUMsMkNBQTJDQTtRQUN6RCxPQUFPLEVBQUU7SUFDWDtBQUNGLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b2hvLWJpbGxpbmctcGxhdGZvcm0vLi9saWIvY2xvY2tpZnkudHM/OTBmYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDbG9ja2lmeVRpbWVFbnRyeSB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xyXG4gIHVzZXJJZDogc3RyaW5nO1xyXG4gIGJpbGxhYmxlOiBib29sZWFuO1xyXG4gIHRhc2tJZD86IHN0cmluZztcclxuICBwcm9qZWN0SWQ6IHN0cmluZztcclxuICB0aW1lSW50ZXJ2YWw6IHtcclxuICAgIHN0YXJ0OiBzdHJpbmc7XHJcbiAgICBlbmQ/OiBzdHJpbmc7XHJcbiAgICBkdXJhdGlvbjogc3RyaW5nO1xyXG4gIH07XHJcbiAgaG91cmx5UmF0ZT86IHtcclxuICAgIGFtb3VudDogbnVtYmVyO1xyXG4gICAgY3VycmVuY3k6IHN0cmluZztcclxuICB9O1xyXG4gIGNvc3RSYXRlPzoge1xyXG4gICAgYW1vdW50OiBudW1iZXI7XHJcbiAgICBjdXJyZW5jeTogc3RyaW5nO1xyXG4gIH07XHJcbiAgaXNMb2NrZWQ6IGJvb2xlYW47XHJcbiAgY3VzdG9tRmllbGRWYWx1ZXM6IGFueVtdO1xyXG4gIHR5cGU6IHN0cmluZztcclxuICB0YWdzOiBhbnlbXTtcclxuICAvLyBBZGRpdGlvbmFsIHByb3BlcnRpZXMgYWRkZWQgZHVyaW5nIGRhdGEgcHJvY2Vzc2luZ1xyXG4gIHVzZXJOYW1lPzogc3RyaW5nO1xyXG4gIHByb2plY3ROYW1lPzogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENsb2NraWZ5UHJvamVjdCB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgd29ya3NwYWNlSWQ6IHN0cmluZztcclxuICBjbGllbnRJZD86IHN0cmluZztcclxuICBjbGllbnROYW1lPzogc3RyaW5nO1xyXG4gIGlzUHVibGljOiBib29sZWFuO1xyXG4gIGlzVGVtcGxhdGU6IGJvb2xlYW47XHJcbiAgY29sb3I6IHN0cmluZztcclxuICBub3RlPzogc3RyaW5nO1xyXG4gIGJpbGxhYmxlOiBib29sZWFuO1xyXG4gIHB1YmxpYzogYm9vbGVhbjtcclxuICBhcmNoaXZlZDogYm9vbGVhbjtcclxuICBlc3RpbWF0ZToge1xyXG4gICAgZXN0aW1hdGU6IHN0cmluZztcclxuICAgIHR5cGU6IHN0cmluZztcclxuICB9O1xyXG4gIHN0YXR1czogc3RyaW5nO1xyXG4gIGR1cmF0aW9uOiBzdHJpbmc7XHJcbiAgYnVkZ2V0RXN0aW1hdGU6IG51bWJlcjtcclxuICBidWRnZXRUeXBlOiBzdHJpbmc7XHJcbiAgaG91cmx5UmF0ZToge1xyXG4gICAgYW1vdW50OiBudW1iZXI7XHJcbiAgICBjdXJyZW5jeTogc3RyaW5nO1xyXG4gIH07XHJcbiAgY29zdFJhdGU6IHtcclxuICAgIGFtb3VudDogbnVtYmVyO1xyXG4gICAgY3VycmVuY3k6IHN0cmluZztcclxuICB9O1xyXG4gIHRpbWVFc3RpbWF0ZTogc3RyaW5nO1xyXG4gIGJ1ZGdldDogbnVtYmVyO1xyXG4gIHNwZW50OiBzdHJpbmc7XHJcbiAgcHJvZ3Jlc3M6IG51bWJlcjtcclxuICByYXRlOiBudW1iZXI7XHJcbiAgcmF0ZUxhc3RVcGRhdGVkOiBzdHJpbmc7XHJcbiAgZml4ZWRGZWU6IG51bWJlcjtcclxuICBtZW1iZXJzaGlwczogYW55W107XHJcbiAgdGFza0NvdW50OiB7XHJcbiAgICB0b3RhbDogbnVtYmVyO1xyXG4gICAgZXN0aW1hdGU6IG51bWJlcjtcclxuICB9O1xyXG4gIGN1c3RvbUZpZWxkczogYW55W107XHJcbiAgc3RhcnREYXRlOiBzdHJpbmc7XHJcbiAgZW5kRGF0ZT86IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDbG9ja2lmeVVzZXIge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgZW1haWw6IHN0cmluZztcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgcHJvZmlsZVBpY3R1cmU6IHN0cmluZztcclxuICBzdGF0dXM6IHN0cmluZztcclxuICBhY3RpdmVXb3Jrc3BhY2U6IHN0cmluZztcclxuICBkZWZhdWx0V29ya3NwYWNlOiBzdHJpbmc7XHJcbiAgc2V0dGluZ3M6IGFueTtcclxuICBtZW1iZXJzaGlwczogYW55W107XHJcbiAgcHJvZmlsZVBpY3R1cmVVcmw6IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDbG9ja2lmeVdvcmtzcGFjZSB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgcHJvZmlsZTogbnVtYmVyO1xyXG4gIHByZW1pdW06IGJvb2xlYW47XHJcbiAgYWRtaW46IGJvb2xlYW47XHJcbiAgZGVmYXVsdEhvdXJseVJhdGU6IG51bWJlcjtcclxuICBkZWZhdWx0Q3VycmVuY3k6IHN0cmluZztcclxuICBvbmx5QWRtaW5zTWF5Q3JlYXRlUHJvamVjdHM6IGJvb2xlYW47XHJcbiAgb25seUFkbWluc1NlZUJpbGxhYmxlUmF0ZXM6IGJvb2xlYW47XHJcbiAgb25seUFkbWluc1NlZVRlYW1EYXNoYm9hcmQ6IGJvb2xlYW47XHJcbiAgcHJvamVjdHNCaWxsYWJsZUJ5RGVmYXVsdDogYm9vbGVhbjtcclxuICByb3VuZGluZzogbnVtYmVyO1xyXG4gIHJvdW5kaW5nTWludXRlczogbnVtYmVyO1xyXG4gIGxvZ286IHN0cmluZztcclxuICBpY2FsVXJsOiBzdHJpbmc7XHJcbiAgaWNhbEVuYWJsZWQ6IGJvb2xlYW47XHJcbiAgY3N2VXBsb2FkOiB7XHJcbiAgICBlbmFibGVkOiBib29sZWFuO1xyXG4gICAgZGF0ZUZvcm1hdDogc3RyaW5nO1xyXG4gICAgdGltZUZvcm1hdDogc3RyaW5nO1xyXG4gIH07XHJcbiAgc3Vic2NyaXB0aW9uOiB7XHJcbiAgICBzdGFydERhdGU6IHN0cmluZztcclxuICAgIGVuZERhdGU6IHN0cmluZztcclxuICAgIHRyaWFsOiBib29sZWFuO1xyXG4gICAgc3RhdHVzOiBzdHJpbmc7XHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDbG9ja2lmeVRpbWVSZXBvcnQge1xyXG4gIHByb2plY3RJZDogc3RyaW5nO1xyXG4gIHByb2plY3ROYW1lOiBzdHJpbmc7XHJcbiAgdG90YWxIb3VyczogbnVtYmVyO1xyXG4gIGJpbGxhYmxlSG91cnM6IG51bWJlcjtcclxuICBub25CaWxsYWJsZUhvdXJzOiBudW1iZXI7XHJcbiAgdG90YWxBbW91bnQ6IG51bWJlcjtcclxuICBiaWxsYWJsZUFtb3VudDogbnVtYmVyO1xyXG4gIG5vbkJpbGxhYmxlQW1vdW50OiBudW1iZXI7XHJcbiAgZW50cmllczogQ2xvY2tpZnlUaW1lRW50cnlbXTtcclxuICBwZXJpb2Q6IHtcclxuICAgIHN0YXJ0OiBzdHJpbmc7XHJcbiAgICBlbmQ6IHN0cmluZztcclxuICB9O1xyXG59XHJcblxyXG5pbnRlcmZhY2UgVG9rZW5SZXNwb25zZSB7XHJcbiAgYWNjZXNzX3Rva2VuOiBzdHJpbmc7XHJcbiAgZXhwaXJlc19pbjogbnVtYmVyO1xyXG4gIHRva2VuX3R5cGU6IHN0cmluZztcclxufVxyXG5cclxuY2xhc3MgQ2xvY2tpZnlTZXJ2aWNlIHtcclxuICBwcml2YXRlIGFwaUtleTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XHJcbiAgcHJpdmF0ZSB3b3Jrc3BhY2VJZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XHJcbiAgcHJpdmF0ZSBiYXNlVXJsID0gJ2h0dHBzOi8vYXBpLmNsb2NraWZ5Lm1lL2FwaS92MSc7XHJcbiAgcHJpdmF0ZSByZXBvcnRzQmFzZVVybCA9ICdodHRwczovL3JlcG9ydHMuYXBpLmNsb2NraWZ5Lm1lL3YxJzsgLy8gQ29ycmVjdCBSZXBvcnRzIEFQSSBiYXNlIFVSTFxyXG4gIHByaXZhdGUgX2lzQ29uZmlndXJlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuYXBpS2V5ID0gcHJvY2Vzcy5lbnYuQ0xPQ0tJRllfQVBJX0tFWSB8fCBudWxsO1xyXG4gICAgdGhpcy53b3Jrc3BhY2VJZCA9IHByb2Nlc3MuZW52LkNMT0NLSUZZX1dPUktTUEFDRV9JRCB8fCBudWxsO1xyXG4gICAgXHJcbiAgICAvLyBDaGVjayBpZiB3ZSBoYXZlIHZhbGlkIGNyZWRlbnRpYWxzXHJcbiAgICBpZiAodGhpcy5hcGlLZXkgJiYgdGhpcy5hcGlLZXkgIT09ICd5b3VyX2Nsb2NraWZ5X2FwaV9rZXlfaGVyZScgJiYgdGhpcy53b3Jrc3BhY2VJZCAmJiB0aGlzLndvcmtzcGFjZUlkICE9PSAneW91cl9jbG9ja2lmeV93b3Jrc3BhY2VfaWRfaGVyZScpIHtcclxuICAgICAgdGhpcy5faXNDb25maWd1cmVkID0gdHJ1ZTtcclxuICAgICAgY29uc29sZS5pbmZvKCdDbG9ja2lmeSBzZXJ2aWNlIGluaXRpYWxpemVkIHdpdGggdmFsaWQgY3JlZGVudGlhbHMnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2lzQ29uZmlndXJlZCA9IGZhbHNlO1xyXG4gICAgICBjb25zb2xlLndhcm4oJ0Nsb2NraWZ5IHNlcnZpY2UgaW5pdGlhbGl6ZWQgd2l0aG91dCB2YWxpZCBjcmVkZW50aWFscyAtIHdpbGwgdXNlIG1vY2sgZGF0YScpO1xyXG4gICAgICBjb25zb2xlLndhcm4oJ1BsZWFzZSBzZXQgQ0xPQ0tJRllfQVBJX0tFWSBhbmQgQ0xPQ0tJRllfV09SS1NQQUNFX0lEIGluIHlvdXIgZW52aXJvbm1lbnQgdmFyaWFibGVzJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldEhlYWRlcnMoKSB7XHJcbiAgICBpZiAoIXRoaXMuYXBpS2V5KSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2xvY2tpZnkgQVBJIGtleSBub3QgY29uZmlndXJlZCcpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgJ1gtQXBpLUtleSc6IHRoaXMuYXBpS2V5LFxyXG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXN5bmMgbWFrZVJlcXVlc3QoZW5kcG9pbnQ6IHN0cmluZywgcGFyYW1zPzogYW55KTogUHJvbWlzZTxhbnk+IHtcclxuICAgIGlmICghdGhpcy5faXNDb25maWd1cmVkKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2xvY2tpZnkgc2VydmljZSBub3QgcHJvcGVybHkgY29uZmlndXJlZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoYCR7dGhpcy5iYXNlVXJsfSR7ZW5kcG9pbnR9YCk7XHJcbiAgICAgIGlmIChwYXJhbXMpIHtcclxuICAgICAgICBPYmplY3Qua2V5cyhwYXJhbXMpLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICAgIGlmIChwYXJhbXNba2V5XSAhPT0gdW5kZWZpbmVkICYmIHBhcmFtc1trZXldICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKGtleSwgcGFyYW1zW2tleV0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zb2xlLmxvZyhg8J+UjSBDbG9ja2lmeSBBUEkgUmVxdWVzdDogJHt1cmwudG9TdHJpbmcoKX1gKTtcclxuICAgICAgY29uc29sZS5sb2coYCAgIEhlYWRlcnM6ICR7SlNPTi5zdHJpbmdpZnkodGhpcy5nZXRIZWFkZXJzKCkpfWApO1xyXG5cclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwudG9TdHJpbmcoKSwge1xyXG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgICAgaGVhZGVyczogdGhpcy5nZXRIZWFkZXJzKCksXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgY29uc29sZS5sb2coYPCfk6EgQ2xvY2tpZnkgQVBJIFJlc3BvbnNlOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xyXG5cclxuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDbG9ja2lmeSBBUEkgYXV0aGVudGljYXRpb24gZmFpbGVkIC0gY2hlY2sgeW91ciBBUEkga2V5Jyk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwMykge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2xvY2tpZnkgQVBJIGFjY2VzcyBmb3JiaWRkZW4gLSBjaGVjayB5b3VyIHdvcmtzcGFjZSBJRCBhbmQgcGVybWlzc2lvbnMnKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA0KSB7XHJcbiAgICAgICAgY29uc3QgZXJyb3JEZXRhaWxzID0gYEVuZHBvaW50IG5vdCBmb3VuZDogJHtlbmRwb2ludH1gO1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCA0MDQgRXJyb3IgRGV0YWlsczogJHtlcnJvckRldGFpbHN9YCk7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihgICAgRnVsbCBVUkw6ICR7dXJsLnRvU3RyaW5nKCl9YCk7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihgICAgV29ya3NwYWNlIElEOiAke3RoaXMud29ya3NwYWNlSWR9YCk7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihgICAgQVBJIEtleSBjb25maWd1cmVkOiAkeyEhdGhpcy5hcGlLZXl9YCk7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDbG9ja2lmeSBBUEkgZXJyb3I6IDQwNCBOb3QgRm91bmQgLSAke2Vycm9yRGV0YWlsc31gKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDI5KSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDbG9ja2lmeSBBUEkgcmF0ZSBsaW1pdCBleGNlZWRlZCAtIHRyeSBhZ2FpbiBsYXRlcicpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgY29uc3QgZXJyb3JUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpLmNhdGNoKCgpID0+ICdVbmtub3duIGVycm9yJyk7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDbG9ja2lmeSBBUEkgZXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9IC0gJHtlcnJvclRleHR9YCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgQ2xvY2tpZnkgQVBJIFN1Y2Nlc3M6ICR7ZW5kcG9pbnR9YCk7XHJcbiAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGDinYwgQ2xvY2tpZnkgQVBJIEVycm9yIGluICR7ZW5kcG9pbnR9OmAsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICB9XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQ2xvY2tpZnkgQVBJIHJlcXVlc3QgZmFpbGVkOiAke2Vycm9yfWApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gQ2hlY2sgaWYgdGhlIHNlcnZpY2UgaXMgcHJvcGVybHkgY29uZmlndXJlZFxyXG4gIHB1YmxpYyBpc0NvbmZpZ3VyZWQoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5faXNDb25maWd1cmVkO1xyXG4gIH1cclxuXHJcbiAgLy8gR2V0IGNvbmZpZ3VyYXRpb24gc3RhdHVzIGZvciBkZWJ1Z2dpbmdcclxuICBwdWJsaWMgZ2V0Q29uZmlndXJhdGlvblN0YXR1cygpOiB7IGNvbmZpZ3VyZWQ6IGJvb2xlYW47IGhhc0FwaUtleTogYm9vbGVhbjsgaGFzV29ya3NwYWNlSWQ6IGJvb2xlYW4gfSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBjb25maWd1cmVkOiB0aGlzLl9pc0NvbmZpZ3VyZWQsXHJcbiAgICAgIGhhc0FwaUtleTogISEodGhpcy5hcGlLZXkgJiYgdGhpcy5hcGlLZXkgIT09ICd5b3VyX2Nsb2NraWZ5X2FwaV9rZXlfaGVyZScpLFxyXG4gICAgICBoYXNXb3Jrc3BhY2VJZDogISEodGhpcy53b3Jrc3BhY2VJZCAmJiB0aGlzLndvcmtzcGFjZUlkICE9PSAneW91cl9jbG9ja2lmeV93b3Jrc3BhY2VfaWRfaGVyZScpXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLy8gQWxpYXMgZm9yIGdldENvbmZpZ3VyYXRpb25TdGF0dXMgdG8gbWF0Y2ggQVBJIHVzYWdlXHJcbiAgcHVibGljIGdldENvbmZpZ1N0YXR1cygpOiB7IGNvbmZpZ3VyZWQ6IGJvb2xlYW47IGhhc0FwaUtleTogYm9vbGVhbjsgaGFzV29ya3NwYWNlSWQ6IGJvb2xlYW4gfSB7XHJcbiAgICByZXR1cm4gdGhpcy5nZXRDb25maWd1cmF0aW9uU3RhdHVzKCk7XHJcbiAgfVxyXG5cclxuICAvLyBNZXRob2QgdG8gc2V0IHdvcmtzcGFjZSBJRCBkeW5hbWljYWxseVxyXG4gIHB1YmxpYyBzZXRXb3Jrc3BhY2VJZCh3b3Jrc3BhY2VJZDogc3RyaW5nKTogdm9pZCB7XHJcbiAgICB0aGlzLndvcmtzcGFjZUlkID0gd29ya3NwYWNlSWQ7XHJcbiAgICBpZiAodGhpcy5hcGlLZXkgJiYgdGhpcy5hcGlLZXkgIT09ICd5b3VyX2Nsb2NraWZ5X2FwaV9rZXlfaGVyZScpIHtcclxuICAgICAgdGhpcy5faXNDb25maWd1cmVkID0gdHJ1ZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGdldFVzZXIoKTogUHJvbWlzZTxhbnk+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGlmICghdGhpcy5faXNDb25maWd1cmVkKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0Nsb2NraWZ5IG5vdCBjb25maWd1cmVkLCByZXR1cm5pbmcgbW9jayB1c2VyJyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TW9ja1VzZXIoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChgJHt0aGlzLmJhc2VVcmx9L3VzZXJgKTtcclxuICAgICAgY29uc29sZS5sb2coYPCflI0gQ2xvY2tpZnkgQVBJIFJlcXVlc3Q6ICR7dXJsLnRvU3RyaW5nKCl9YCk7XHJcblxyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybC50b1N0cmluZygpLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgICBoZWFkZXJzOiB0aGlzLmdldEhlYWRlcnMoKSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDbG9ja2lmeSBBUEkgZXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgQ2xvY2tpZnkgQVBJIFN1Y2Nlc3M6IC91c2VyYCk7XHJcbiAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGdldCBDbG9ja2lmeSB1c2VyOicsIGVycm9yKTtcclxuICAgICAgY29uc29sZS5sb2coJ1JldHVybmluZyBtb2NrIHVzZXIgZHVlIHRvIENsb2NraWZ5IEFQSSBmYWlsdXJlJyk7XHJcbiAgICAgIHJldHVybiB0aGlzLmdldE1vY2tVc2VyKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBnZXRXb3Jrc3BhY2VzKCk6IFByb21pc2U8YW55W10+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLm1ha2VSZXF1ZXN0KCcvd29ya3NwYWNlcycpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGdldCBDbG9ja2lmeSB3b3Jrc3BhY2VzOicsIGVycm9yKTtcclxuICAgICAgLy8gUmV0dXJuIG1vY2sgd29ya3NwYWNlIGRhdGEgd2hlbiBDbG9ja2lmeSBmYWlsc1xyXG4gICAgICByZXR1cm4gW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIGlkOiAnbW9jay13b3Jrc3BhY2UtaWQnLFxyXG4gICAgICAgICAgbmFtZTogJ01vY2sgV29ya3NwYWNlJyxcclxuICAgICAgICAgIGhvdXJseVJhdGU6IHsgYW1vdW50OiAxMDAsIGN1cnJlbmN5OiAnVVNEJyB9XHJcbiAgICAgICAgfVxyXG4gICAgICBdO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZ2V0UHJvamVjdHMoKTogUHJvbWlzZTxhbnlbXT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgaWYgKCF0aGlzLl9pc0NvbmZpZ3VyZWQpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnQ2xvY2tpZnkgbm90IGNvbmZpZ3VyZWQsIHJldHVybmluZyBtb2NrIHByb2plY3RzJyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TW9ja1Byb2plY3RzKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghdGhpcy53b3Jrc3BhY2VJZCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignV29ya3NwYWNlIElEIG5vdCBjb25maWd1cmVkJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoYCR7dGhpcy5iYXNlVXJsfS93b3Jrc3BhY2VzLyR7dGhpcy53b3Jrc3BhY2VJZH0vcHJvamVjdHNgKTtcclxuICAgICAgY29uc29sZS5sb2coYPCflI0gQ2xvY2tpZnkgQVBJIFJlcXVlc3Q6ICR7dXJsLnRvU3RyaW5nKCl9YCk7XHJcblxyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybC50b1N0cmluZygpLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgICBoZWFkZXJzOiB0aGlzLmdldEhlYWRlcnMoKSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDbG9ja2lmeSBBUEkgZXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgQ2xvY2tpZnkgQVBJIFN1Y2Nlc3M6IC93b3Jrc3BhY2VzLyR7dGhpcy53b3Jrc3BhY2VJZH0vcHJvamVjdHNgKTtcclxuICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZ2V0IENsb2NraWZ5IHByb2plY3RzOicsIGVycm9yKTtcclxuICAgICAgY29uc29sZS5sb2coJ1JldHVybmluZyBtb2NrIHByb2plY3RzIGR1ZSB0byBDbG9ja2lmeSBBUEkgZmFpbHVyZScpO1xyXG4gICAgICByZXR1cm4gdGhpcy5nZXRNb2NrUHJvamVjdHMoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGdldFRpbWVFbnRyaWVzKHByb2plY3RJZDogc3RyaW5nLCBzdGFydERhdGU6IHN0cmluZywgZW5kRGF0ZTogc3RyaW5nKTogUHJvbWlzZTxhbnlbXT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgaWYgKCF0aGlzLl9pc0NvbmZpZ3VyZWQpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnQ2xvY2tpZnkgbm90IGNvbmZpZ3VyZWQsIHJldHVybmluZyBtb2NrIGRhdGEnKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRNb2NrVGltZUVudHJpZXMocHJvamVjdElkLCBzdGFydERhdGUsIGVuZERhdGUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIXRoaXMud29ya3NwYWNlSWQpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dvcmtzcGFjZSBJRCBub3QgY29uZmlndXJlZCcpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKGAke3RoaXMuYmFzZVVybH0vd29ya3NwYWNlcy8ke3RoaXMud29ya3NwYWNlSWR9L3Byb2plY3RzLyR7cHJvamVjdElkfS90aW1lLWVudHJpZXNgKTtcclxuICAgICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoJ3N0YXJ0Jywgc3RhcnREYXRlKTtcclxuICAgICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoJ2VuZCcsIGVuZERhdGUpO1xyXG5cclxuICAgICAgY29uc29sZS5sb2coYPCflI0gQ2xvY2tpZnkgQVBJIFJlcXVlc3Q6ICR7dXJsLnRvU3RyaW5nKCl9YCk7XHJcblxyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybC50b1N0cmluZygpLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgICBoZWFkZXJzOiB0aGlzLmdldEhlYWRlcnMoKSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDbG9ja2lmeSBBUEkgZXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgQ2xvY2tpZnkgQVBJIFN1Y2Nlc3M6IC93b3Jrc3BhY2VzLyR7dGhpcy53b3Jrc3BhY2VJZH0vcHJvamVjdHMvJHtwcm9qZWN0SWR9L3RpbWUtZW50cmllc2ApO1xyXG4gICAgICByZXR1cm4gZGF0YTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBnZXQgQ2xvY2tpZnkgdGltZSBlbnRyaWVzOicsIGVycm9yKTtcclxuICAgICAgY29uc29sZS5sb2coJ1JldHVybmluZyBtb2NrIHRpbWUgZW50cnkgZGF0YSBkdWUgdG8gQ2xvY2tpZnkgQVBJIGZhaWx1cmUnKTtcclxuICAgICAgcmV0dXJuIHRoaXMuZ2V0TW9ja1RpbWVFbnRyaWVzKHByb2plY3RJZCwgc3RhcnREYXRlLCBlbmREYXRlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGdldEFsbFRpbWVFbnRyaWVzKHN0YXJ0RGF0ZTogc3RyaW5nLCBlbmREYXRlOiBzdHJpbmcpOiBQcm9taXNlPGFueVtdPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAoIXRoaXMud29ya3NwYWNlSWQpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dvcmtzcGFjZSBJRCBub3QgY29uZmlndXJlZCcpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBGaXJzdCB0cnkgdGhlIFJlcG9ydHMgQVBJIGZvciBidWxrIHRpbWUgZW50cnkgZGF0YVxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnNvbGUuaW5mbygn8J+UhCBBdHRlbXB0aW5nIHRvIGZldGNoIHRpbWUgZW50cmllcyB2aWEgQ2xvY2tpZnkgUmVwb3J0cyBBUEkgKHJlcXVpcmVzIFBybyBwbGFuKS4uLicpO1xyXG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmdldFRpbWVFbnRyaWVzVmlhUmVwb3J0cyhzdGFydERhdGUsIGVuZERhdGUpO1xyXG4gICAgICB9IGNhdGNoIChyZXBvcnRzRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBDbG9ja2lmeSBSZXBvcnRzIEFQSSBmYWlsZWQsIGZhbGxpbmcgYmFjayB0byB1c2VyIHRpbWUgZW50cmllcyBlbmRwb2ludDonLCB7XHJcbiAgICAgICAgICBlcnJvcjogcmVwb3J0c0Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyByZXBvcnRzRXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJyxcclxuICAgICAgICAgIHJlYXNvbjogJ1JlcG9ydHMgQVBJIG1heSByZXF1aXJlIFBybyBwbGFuIG9yIG1heSBiZSB0ZW1wb3JhcmlseSB1bmF2YWlsYWJsZScsXHJcbiAgICAgICAgICBmYWxsYmFjazogJ1VzaW5nIHVzZXIgdGltZSBlbnRyaWVzIGVuZHBvaW50IGluc3RlYWQnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0VGltZUVudHJpZXNWaWFVc2VyRW5kcG9pbnQoc3RhcnREYXRlLCBlbmREYXRlKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIEZhaWxlZCB0byBnZXQgYWxsIENsb2NraWZ5IHRpbWUgZW50cmllczonLCBlcnJvcik7XHJcbiAgICAgIFxyXG4gICAgICAvLyBSZXR1cm4gbW9jayB0aW1lIGVudHJ5IGRhdGEgd2hlbiBDbG9ja2lmeSBmYWlsc1xyXG4gICAgICBjb25zb2xlLndhcm4oJ/Cfjq0gUmV0dXJuaW5nIG1vY2sgdGltZSBlbnRyeSBkYXRhIGR1ZSB0byBDbG9ja2lmeSBBUEkgZmFpbHVyZS4gQ2hlY2sgeW91ciBwbGFuIGxldmVsIGFuZCBBUEkgY29uZmlndXJhdGlvbi4nKTtcclxuICAgICAgcmV0dXJuIFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICBpZDogJ21vY2stdGltZS1lbnRyeS0xJyxcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnTW9jayB3b3JrIHNlc3Npb24gKENsb2NraWZ5IEFQSSB1bmF2YWlsYWJsZSknLFxyXG4gICAgICAgICAgdGltZUludGVydmFsOiB7XHJcbiAgICAgICAgICAgIHN0YXJ0OiBzdGFydERhdGUsXHJcbiAgICAgICAgICAgIGVuZDogZW5kRGF0ZSxcclxuICAgICAgICAgICAgZHVyYXRpb246ICdQVDhIME0nXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgYmlsbGFibGU6IHRydWUsXHJcbiAgICAgICAgICB1c2VySWQ6ICdtb2NrLXVzZXItaWQnLFxyXG4gICAgICAgICAgdXNlck5hbWU6ICdNb2NrIFVzZXInLFxyXG4gICAgICAgICAgcHJvamVjdElkOiAnbW9jay1wcm9qZWN0LTEnLFxyXG4gICAgICAgICAgcHJvamVjdE5hbWU6ICdNb2NrIFByb2plY3QgMSdcclxuICAgICAgICB9XHJcbiAgICAgIF07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBNZXRob2QgdG8gZ2V0IHRpbWUgZW50cmllcyB2aWEgUmVwb3J0cyBBUEkgKHByZWZlcnJlZCBtZXRob2QpXHJcbiAgcHJpdmF0ZSBhc3luYyBnZXRUaW1lRW50cmllc1ZpYVJlcG9ydHMoc3RhcnREYXRlOiBzdHJpbmcsIGVuZERhdGU6IHN0cmluZyk6IFByb21pc2U8YW55W10+IHtcclxuICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoYCR7dGhpcy5yZXBvcnRzQmFzZVVybH0vd29ya3NwYWNlcy8ke3RoaXMud29ya3NwYWNlSWR9L3JlcG9ydHMvZGV0YWlsZWRgKTtcclxuICAgIFxyXG4gICAgY29uc29sZS5pbmZvKGDwn5SNIENsb2NraWZ5IFJlcG9ydHMgQVBJIFJlcXVlc3Q6ICR7dXJsLnRvU3RyaW5nKCl9YCk7XHJcbiAgICBjb25zb2xlLmluZm8oYCAgIE1ldGhvZDogUE9TVCAoUmVwb3J0cyBBUEkpYCk7XHJcbiAgICBjb25zb2xlLmluZm8oYCAgIEhlYWRlcnM6ICR7SlNPTi5zdHJpbmdpZnkodGhpcy5nZXRIZWFkZXJzKCkpfWApO1xyXG4gICAgY29uc29sZS5pbmZvKGAgICBCb2R5OiAke0pTT04uc3RyaW5naWZ5KHsgXHJcbiAgICAgIGRhdGVSYW5nZVN0YXJ0OiBzdGFydERhdGUsIFxyXG4gICAgICBkYXRlUmFuZ2VFbmQ6IGVuZERhdGUsXHJcbiAgICAgIGRldGFpbGVkRmlsdGVyOiB7XHJcbiAgICAgICAgcGFnZVNpemU6IDEwMDAsXHJcbiAgICAgICAgc29ydENvbHVtbjogXCJEQVRFXCJcclxuICAgICAgfVxyXG4gICAgfSl9YCk7XHJcblxyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwudG9TdHJpbmcoKSwge1xyXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIC4uLnRoaXMuZ2V0SGVhZGVycygpLFxyXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgIH0sXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBkYXRlUmFuZ2VTdGFydDogc3RhcnREYXRlLFxyXG4gICAgICAgIGRhdGVSYW5nZUVuZDogZW5kRGF0ZSxcclxuICAgICAgICBkZXRhaWxlZEZpbHRlcjoge1xyXG4gICAgICAgICAgcGFnZVNpemU6IDEwMDAsXHJcbiAgICAgICAgICBzb3J0Q29sdW1uOiBcIkRBVEVcIlxyXG4gICAgICAgIH1cclxuICAgICAgfSksXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zb2xlLmluZm8oYPCfk6EgQ2xvY2tpZnkgUmVwb3J0cyBBUEkgUmVzcG9uc2U6ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XHJcblxyXG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2xvY2tpZnkgQVBJIGF1dGhlbnRpY2F0aW9uIGZhaWxlZCAtIGNoZWNrIHlvdXIgQVBJIGtleScpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDMpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDbG9ja2lmeSBBUEkgYWNjZXNzIGZvcmJpZGRlbiAtIGNoZWNrIHlvdXIgd29ya3NwYWNlIElEIGFuZCBwZXJtaXNzaW9ucy4gTm90ZTogRGV0YWlsZWQgcmVwb3J0cyByZXF1aXJlIFBybyBwbGFuIG9yIGhpZ2hlci4nKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA0KSB7XHJcbiAgICAgIGNvbnN0IGVycm9yRGV0YWlscyA9IGBSZXBvcnRzIGVuZHBvaW50IG5vdCBmb3VuZDogL3dvcmtzcGFjZXMvJHt0aGlzLndvcmtzcGFjZUlkfS9yZXBvcnRzL2RldGFpbGVkYDtcclxuICAgICAgY29uc29sZS5lcnJvcihg4p2MIDQwNCBFcnJvciBEZXRhaWxzOiAke2Vycm9yRGV0YWlsc31gKTtcclxuICAgICAgY29uc29sZS5lcnJvcihgICAgRnVsbCBVUkw6ICR7dXJsLnRvU3RyaW5nKCl9YCk7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoYCAgIFdvcmtzcGFjZSBJRDogJHt0aGlzLndvcmtzcGFjZUlkfWApO1xyXG4gICAgICBjb25zb2xlLmVycm9yKGAgICBBUEkgS2V5IGNvbmZpZ3VyZWQ6ICR7ISF0aGlzLmFwaUtleX1gKTtcclxuICAgICAgY29uc29sZS5lcnJvcihgICAgTm90ZTogVGhpcyBlbmRwb2ludCByZXF1aXJlcyBDbG9ja2lmeSBQcm8gcGxhbiBvciBoaWdoZXIgZm9yIGRldGFpbGVkIHJlcG9ydHNgKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDbG9ja2lmeSBBUEkgZXJyb3I6IDQwNCBOb3QgRm91bmQgLSAke2Vycm9yRGV0YWlsc30uIFRoaXMgZW5kcG9pbnQgcmVxdWlyZXMgUHJvIHBsYW4gb3IgaGlnaGVyLmApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDUpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDbG9ja2lmeSBBUEkgbWV0aG9kIG5vdCBhbGxvd2VkIC0gdGhpcyBlbmRwb2ludCByZXF1aXJlcyBQT1NUIG1ldGhvZCcpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MjkpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDbG9ja2lmeSBBUEkgcmF0ZSBsaW1pdCBleGNlZWRlZCAtIHRyeSBhZ2FpbiBsYXRlcicpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgIGNvbnN0IGVycm9yVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKS5jYXRjaCgoKSA9PiAnVW5rbm93biBlcnJvcicpO1xyXG4gICAgICBjb25zb2xlLmVycm9yKGBDbG9ja2lmeSBSZXBvcnRzIEFQSSBlcnJvciByZXNwb25zZSBib2R5OiAke2Vycm9yVGV4dH1gKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDbG9ja2lmeSBBUEkgZXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9IC0gJHtlcnJvclRleHR9YCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIGNvbnNvbGUuaW5mbyhg4pyFIENsb2NraWZ5IFJlcG9ydHMgQVBJIFN1Y2Nlc3M6IC93b3Jrc3BhY2VzLyR7dGhpcy53b3Jrc3BhY2VJZH0vcmVwb3J0cy9kZXRhaWxlZGApO1xyXG4gICAgXHJcbiAgICAvLyBUcmFuc2Zvcm0gdGhlIHJlcG9ydHMgZGF0YSB0byBtYXRjaCBvdXIgZXhwZWN0ZWQgdGltZSBlbnRyeSBmb3JtYXRcclxuICAgIGlmIChkYXRhLnRpbWVlbnRyaWVzICYmIEFycmF5LmlzQXJyYXkoZGF0YS50aW1lZW50cmllcykpIHtcclxuICAgICAgY29uc29sZS5pbmZvKGDwn5OKIFByb2Nlc3NpbmcgJHtkYXRhLnRpbWVlbnRyaWVzLmxlbmd0aH0gdGltZSBlbnRyaWVzIGZyb20gUmVwb3J0cyBBUElgKTtcclxuICAgICAgXHJcbiAgICAgIHJldHVybiBkYXRhLnRpbWVlbnRyaWVzLm1hcCgoZW50cnk6IGFueSwgaW5kZXg6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAvLyBIYW5kbGUgZHVyYXRpb24gY29udmVyc2lvbiAtIFJlcG9ydHMgQVBJIHJldHVybnMgZHVyYXRpb24gaW4gc2Vjb25kcyBhcyBudW1iZXJcclxuICAgICAgICAgIGxldCBkdXJhdGlvbiA9ICdQVDBIME0nO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBGaXJzdCB0cnkgdG8gdXNlIHRoZSBkdXJhdGlvbiBmaWVsZCBpZiBpdCdzIHZhbGlkXHJcbiAgICAgICAgICBpZiAoZW50cnkuZHVyYXRpb24gIT09IHVuZGVmaW5lZCAmJiBlbnRyeS5kdXJhdGlvbiAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGVudHJ5LmR1cmF0aW9uID09PSAnbnVtYmVyJyAmJiBlbnRyeS5kdXJhdGlvbiA+IDApIHtcclxuICAgICAgICAgICAgICAvLyBDb252ZXJ0IHNlY29uZHMgdG8gSVNPIDg2MDEgZHVyYXRpb24gZm9ybWF0XHJcbiAgICAgICAgICAgICAgY29uc3QgaG91cnMgPSBNYXRoLmZsb29yKGVudHJ5LmR1cmF0aW9uIC8gMzYwMCk7XHJcbiAgICAgICAgICAgICAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3IoKGVudHJ5LmR1cmF0aW9uICUgMzYwMCkgLyA2MCk7XHJcbiAgICAgICAgICAgICAgZHVyYXRpb24gPSBgUFQke2hvdXJzfUgke21pbnV0ZXN9TWA7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGVudHJ5LmR1cmF0aW9uID09PSAnc3RyaW5nJyAmJiBlbnRyeS5kdXJhdGlvbiAhPT0gJ1BUMEgwTScpIHtcclxuICAgICAgICAgICAgICAvLyBJZiBpdCdzIGFscmVhZHkgYSBzdHJpbmcgYW5kIG5vdCB6ZXJvLCB1c2UgaXQgZGlyZWN0bHlcclxuICAgICAgICAgICAgICBkdXJhdGlvbiA9IGVudHJ5LmR1cmF0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIElmIGR1cmF0aW9uIGlzIHN0aWxsIHplcm8sIGNhbGN1bGF0ZSBpdCBmcm9tIHN0YXJ0IGFuZCBlbmQgdGltZXNcclxuICAgICAgICAgIGlmIChkdXJhdGlvbiA9PT0gJ1BUMEgwTScgJiYgZW50cnkudGltZUludGVydmFsPy5zdGFydCAmJiBlbnRyeS50aW1lSW50ZXJ2YWw/LmVuZCkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IG5ldyBEYXRlKGVudHJ5LnRpbWVJbnRlcnZhbC5zdGFydCk7XHJcbiAgICAgICAgICAgICAgY29uc3QgZW5kVGltZSA9IG5ldyBEYXRlKGVudHJ5LnRpbWVJbnRlcnZhbC5lbmQpO1xyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIGlmICghaXNOYU4oc3RhcnRUaW1lLmdldFRpbWUoKSkgJiYgIWlzTmFOKGVuZFRpbWUuZ2V0VGltZSgpKSAmJiBlbmRUaW1lID4gc3RhcnRUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkaWZmTXMgPSBlbmRUaW1lLmdldFRpbWUoKSAtIHN0YXJ0VGltZS5nZXRUaW1lKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkaWZmSG91cnMgPSBkaWZmTXMgLyAoMTAwMCAqIDYwICogNjApO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaG91cnMgPSBNYXRoLmZsb29yKGRpZmZIb3Vycyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcigoZGlmZkhvdXJzIC0gaG91cnMpICogNjApO1xyXG4gICAgICAgICAgICAgICAgZHVyYXRpb24gPSBgUFQke2hvdXJzfUgke21pbnV0ZXN9TWA7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGNhdGNoICh0aW1lRXJyb3IpIHtcclxuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYOKaoO+4jyBFcnJvciBjYWxjdWxhdGluZyBkdXJhdGlvbiBmcm9tIHN0YXJ0L2VuZCB0aW1lcyBmb3IgZW50cnkgJHtpbmRleH06YCwgdGltZUVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIEhhbmRsZSB1bmRlZmluZWQgSURzIC0gZ2VuZXJhdGUgYSBmYWxsYmFjayBJRCBpZiBuZWVkZWRcclxuICAgICAgICAgIGNvbnN0IGVudHJ5SWQgPSBlbnRyeS5pZCB8fCBgcmVwb3J0cy1lbnRyeS0ke2luZGV4fS0ke0RhdGUubm93KCl9YDtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gTG9nIHNhbXBsZSBlbnRyeSBmb3IgZGVidWdnaW5nIChmaXJzdCBmZXcgZW50cmllcylcclxuICAgICAgICAgIGlmIChpbmRleCA8IDMpIHtcclxuICAgICAgICAgICAgY29uc29sZS5pbmZvKGDwn5OdIFNhbXBsZSBlbnRyeSAke2luZGV4fTpgLCB7XHJcbiAgICAgICAgICAgICAgaWQ6IGVudHJ5SWQsXHJcbiAgICAgICAgICAgICAgZHVyYXRpb246IGVudHJ5LmR1cmF0aW9uLFxyXG4gICAgICAgICAgICAgIGNvbnZlcnRlZER1cmF0aW9uOiBkdXJhdGlvbixcclxuICAgICAgICAgICAgICBwcm9qZWN0SWQ6IGVudHJ5LnByb2plY3RJZCxcclxuICAgICAgICAgICAgICB1c2VySWQ6IGVudHJ5LnVzZXJJZFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBpZDogZW50cnlJZCxcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGVudHJ5LmRlc2NyaXB0aW9uIHx8ICdObyBkZXNjcmlwdGlvbicsXHJcbiAgICAgICAgICAgIHRpbWVJbnRlcnZhbDoge1xyXG4gICAgICAgICAgICAgIHN0YXJ0OiBlbnRyeS50aW1lSW50ZXJ2YWw/LnN0YXJ0IHx8IGVudHJ5LnN0YXJ0LFxyXG4gICAgICAgICAgICAgIGVuZDogZW50cnkudGltZUludGVydmFsPy5lbmQgfHwgZW50cnkuZW5kLFxyXG4gICAgICAgICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBiaWxsYWJsZTogZW50cnkuYmlsbGFibGUgfHwgZmFsc2UsXHJcbiAgICAgICAgICAgIHVzZXJJZDogZW50cnkudXNlcklkIHx8ICd1bmtub3duLXVzZXInLFxyXG4gICAgICAgICAgICB1c2VyTmFtZTogZW50cnkudXNlck5hbWUgfHwgJ1Vua25vd24gVXNlcicsXHJcbiAgICAgICAgICAgIHByb2plY3RJZDogZW50cnkucHJvamVjdElkIHx8ICd1bmtub3duLXByb2plY3QnLFxyXG4gICAgICAgICAgICBwcm9qZWN0TmFtZTogZW50cnkucHJvamVjdE5hbWUgfHwgJ1Vua25vd24gUHJvamVjdCcsXHJcbiAgICAgICAgICAgIGhvdXJseVJhdGU6IGVudHJ5LmhvdXJseVJhdGUgfHwgMFxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9IGNhdGNoIChlbnRyeUVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGDinYwgRXJyb3IgcHJvY2Vzc2luZyB0aW1lIGVudHJ5ICR7aW5kZXh9OmAsIGVudHJ5RXJyb3IpO1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihgICAgUmF3IGVudHJ5IGRhdGE6YCwgZW50cnkpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBSZXR1cm4gYSBzYWZlIGZhbGxiYWNrIGVudHJ5XHJcbiAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBpZDogYGVycm9yLWVudHJ5LSR7aW5kZXh9LSR7RGF0ZS5ub3coKX1gLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0Vycm9yIHByb2Nlc3NpbmcgZW50cnknLFxyXG4gICAgICAgICAgICB0aW1lSW50ZXJ2YWw6IHtcclxuICAgICAgICAgICAgICBzdGFydDogc3RhcnREYXRlLFxyXG4gICAgICAgICAgICAgIGVuZDogZW5kRGF0ZSxcclxuICAgICAgICAgICAgICBkdXJhdGlvbjogJ1BUMEgwTSdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYmlsbGFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICB1c2VySWQ6ICdlcnJvci11c2VyJyxcclxuICAgICAgICAgICAgdXNlck5hbWU6ICdFcnJvciBVc2VyJyxcclxuICAgICAgICAgICAgcHJvamVjdElkOiAnZXJyb3ItcHJvamVjdCcsXHJcbiAgICAgICAgICAgIHByb2plY3ROYW1lOiAnRXJyb3IgUHJvamVjdCcsXHJcbiAgICAgICAgICAgIGhvdXJseVJhdGU6IDBcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICB9KS5maWx0ZXIoKGVudHJ5OiBhbnkpID0+IGVudHJ5ICE9PSBudWxsKTsgLy8gUmVtb3ZlIGFueSBudWxsIGVudHJpZXNcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc29sZS53YXJuKCfimqDvuI8gTm8gdGltZSBlbnRyaWVzIGZvdW5kIGluIFJlcG9ydHMgQVBJIHJlc3BvbnNlJyk7XHJcbiAgICByZXR1cm4gW107XHJcbiAgfVxyXG5cclxuICAvLyBGYWxsYmFjayBtZXRob2QgdG8gZ2V0IHRpbWUgZW50cmllcyB2aWEgdXNlciBlbmRwb2ludCAoR0VUIG1ldGhvZClcclxuICBwcml2YXRlIGFzeW5jIGdldFRpbWVFbnRyaWVzVmlhVXNlckVuZHBvaW50KHN0YXJ0RGF0ZTogc3RyaW5nLCBlbmREYXRlOiBzdHJpbmcpOiBQcm9taXNlPGFueVtdPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBHZXQgdGhlIGN1cnJlbnQgdXNlciBmaXJzdFxyXG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgdGhpcy5nZXRVc2VyKCk7XHJcbiAgICAgIGlmICghdXNlcj8uaWQpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCBnZXQgY3VycmVudCB1c2VyIGZvciB0aW1lIGVudHJpZXMnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gVXNlIEdFVCBtZXRob2Qgd2l0aCBxdWVyeSBwYXJhbWV0ZXJzIC0gdGhpcyBpcyB0aGUgY29ycmVjdCB3YXkgdG8gZmV0Y2ggdGltZSBlbnRyaWVzXHJcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoYCR7dGhpcy5iYXNlVXJsfS93b3Jrc3BhY2VzLyR7dGhpcy53b3Jrc3BhY2VJZH0vdXNlci8ke3VzZXIuaWR9L3RpbWUtZW50cmllc2ApO1xyXG4gICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnc3RhcnQnLCBzdGFydERhdGUpO1xyXG4gICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnZW5kJywgZW5kRGF0ZSk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmluZm8oYPCflI0gQ2xvY2tpZnkgVXNlciBUaW1lIEVudHJpZXMgQVBJIFJlcXVlc3QgKEZhbGxiYWNrKTogJHt1cmwudG9TdHJpbmcoKX1gKTtcclxuICAgICAgY29uc29sZS5pbmZvKGAgICBNZXRob2Q6IEdFVCAoVXNlciBUaW1lIEVudHJpZXMgLSBGYWxsYmFjayBmcm9tIFJlcG9ydHMgQVBJKWApO1xyXG4gICAgICBjb25zb2xlLmluZm8oYCAgIEhlYWRlcnM6ICR7SlNPTi5zdHJpbmdpZnkodGhpcy5nZXRIZWFkZXJzKCkpfWApO1xyXG4gICAgICBjb25zb2xlLmluZm8oYCAgIE5vdGU6IFVzaW5nIGZhbGxiYWNrIG1ldGhvZCBiZWNhdXNlIFJlcG9ydHMgQVBJIGZhaWxlZCBvciByZXF1aXJlcyBQcm8gcGxhbmApO1xyXG5cclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwudG9TdHJpbmcoKSwge1xyXG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgICAgaGVhZGVyczogdGhpcy5nZXRIZWFkZXJzKCksXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgY29uc29sZS5pbmZvKGDwn5OhIENsb2NraWZ5IFVzZXIgVGltZSBFbnRyaWVzIEFQSSBSZXNwb25zZTogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcclxuXHJcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgICBjb25zdCBlcnJvclRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCkuY2F0Y2goKCkgPT4gJ1Vua25vd24gZXJyb3InKTtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGBDbG9ja2lmeSBVc2VyIFRpbWUgRW50cmllcyBBUEkgZXJyb3IgcmVzcG9uc2UgYm9keTogJHtlcnJvclRleHR9YCk7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDbG9ja2lmeSBVc2VyIFRpbWUgRW50cmllcyBBUEkgZXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9IC0gJHtlcnJvclRleHR9YCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgIGNvbnNvbGUuaW5mbyhg4pyFIENsb2NraWZ5IFVzZXIgVGltZSBFbnRyaWVzIEFQSSBTdWNjZXNzIChGYWxsYmFjayk6IC93b3Jrc3BhY2VzLyR7dGhpcy53b3Jrc3BhY2VJZH0vdXNlci8ke3VzZXIuaWR9L3RpbWUtZW50cmllc2ApO1xyXG4gICAgICBjb25zb2xlLmluZm8oYCAgIFJldHJpZXZlZCAke2RhdGE/Lmxlbmd0aCB8fCAwfSB0aW1lIGVudHJpZXMgdmlhIGZhbGxiYWNrIG1ldGhvZGApO1xyXG4gICAgICBcclxuICAgICAgLy8gVHJhbnNmb3JtIHRoZSBkYXRhIHRvIG1hdGNoIG91ciBleHBlY3RlZCBmb3JtYXRcclxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcclxuICAgICAgICByZXR1cm4gZGF0YS5tYXAoKGVudHJ5OiBhbnksIGluZGV4OiBudW1iZXIpID0+IHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIEhhbmRsZSBkdXJhdGlvbiBjb252ZXJzaW9uIC0gVXNlciBBUEkgbWlnaHQgYWxzbyByZXR1cm4gZHVyYXRpb24gYXMgbnVtYmVyXHJcbiAgICAgICAgICAgIGxldCBkdXJhdGlvbiA9ICdQVDBIME0nO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gRmlyc3QgdHJ5IHRvIHVzZSB0aGUgZHVyYXRpb24gZmllbGQgaWYgaXQncyB2YWxpZFxyXG4gICAgICAgICAgICBpZiAoZW50cnkuZHVyYXRpb24gIT09IHVuZGVmaW5lZCAmJiBlbnRyeS5kdXJhdGlvbiAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgZW50cnkuZHVyYXRpb24gPT09ICdudW1iZXInICYmIGVudHJ5LmR1cmF0aW9uID4gMCkge1xyXG4gICAgICAgICAgICAgICAgLy8gQ29udmVydCBzZWNvbmRzIHRvIElTTyA4NjAxIGR1cmF0aW9uIGZvcm1hdFxyXG4gICAgICAgICAgICAgICAgY29uc3QgaG91cnMgPSBNYXRoLmZsb29yKGVudHJ5LmR1cmF0aW9uIC8gMzYwMCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcigoZW50cnkuZHVyYXRpb24gJSAzNjAwKSAvIDYwKTtcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gYFBUJHtob3Vyc31IJHttaW51dGVzfU1gO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGVudHJ5LmR1cmF0aW9uID09PSAnc3RyaW5nJyAmJiBlbnRyeS5kdXJhdGlvbiAhPT0gJ1BUMEgwTScpIHtcclxuICAgICAgICAgICAgICAgIC8vIElmIGl0J3MgYWxyZWFkeSBhIHN0cmluZyBhbmQgbm90IHplcm8sIHVzZSBpdCBkaXJlY3RseVxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb24gPSBlbnRyeS5kdXJhdGlvbjtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIElmIGR1cmF0aW9uIGlzIHN0aWxsIHplcm8sIGNhbGN1bGF0ZSBpdCBmcm9tIHN0YXJ0IGFuZCBlbmQgdGltZXNcclxuICAgICAgICAgICAgaWYgKGR1cmF0aW9uID09PSAnUFQwSDBNJyAmJiBlbnRyeS50aW1lSW50ZXJ2YWw/LnN0YXJ0ICYmIGVudHJ5LnRpbWVJbnRlcnZhbD8uZW5kKSB7XHJcbiAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IG5ldyBEYXRlKGVudHJ5LnRpbWVJbnRlcnZhbC5zdGFydCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlbmRUaW1lID0gbmV3IERhdGUoZW50cnkudGltZUludGVydmFsLmVuZCk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmICghaXNOYU4oc3RhcnRUaW1lLmdldFRpbWUoKSkgJiYgIWlzTmFOKGVuZFRpbWUuZ2V0VGltZSgpKSAmJiBlbmRUaW1lID4gc3RhcnRUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGRpZmZNcyA9IGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKTtcclxuICAgICAgICAgICAgICAgICAgY29uc3QgZGlmZkhvdXJzID0gZGlmZk1zIC8gKDEwMDAgKiA2MCAqIDYwKTtcclxuICAgICAgICAgICAgICAgICAgY29uc3QgaG91cnMgPSBNYXRoLmZsb29yKGRpZmZIb3Vycyk7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKChkaWZmSG91cnMgLSBob3VycykgKiA2MCk7XHJcbiAgICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gYFBUJHtob3Vyc31IJHttaW51dGVzfU1gO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0gY2F0Y2ggKHRpbWVFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGDimqDvuI8gRXJyb3IgY2FsY3VsYXRpbmcgZHVyYXRpb24gZnJvbSBzdGFydC9lbmQgdGltZXMgZm9yIGZhbGxiYWNrIGVudHJ5ICR7aW5kZXh9OmAsIHRpbWVFcnJvcik7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBIYW5kbGUgdW5kZWZpbmVkIElEcyAtIGdlbmVyYXRlIGEgZmFsbGJhY2sgSUQgaWYgbmVlZGVkXHJcbiAgICAgICAgICAgIGNvbnN0IGVudHJ5SWQgPSBlbnRyeS5pZCB8fCBgdXNlci1lbnRyeS0ke2luZGV4fS0ke0RhdGUubm93KCl9YDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIExvZyBzYW1wbGUgZW50cnkgZm9yIGRlYnVnZ2luZyAoZmlyc3QgZmV3IGVudHJpZXMpXHJcbiAgICAgICAgICAgIGlmIChpbmRleCA8IDMpIHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmluZm8oYPCfk50gRmFsbGJhY2sgZW50cnkgJHtpbmRleH06YCwge1xyXG4gICAgICAgICAgICAgICAgaWQ6IGVudHJ5SWQsXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogZW50cnkuZHVyYXRpb24sXHJcbiAgICAgICAgICAgICAgICBjb252ZXJ0ZWREdXJhdGlvbjogZHVyYXRpb24sXHJcbiAgICAgICAgICAgICAgICBwcm9qZWN0SWQ6IGVudHJ5LnByb2plY3RJZCxcclxuICAgICAgICAgICAgICAgIHVzZXJJZDogZW50cnkudXNlcklkXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgaWQ6IGVudHJ5SWQsXHJcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGVudHJ5LmRlc2NyaXB0aW9uIHx8ICdObyBkZXNjcmlwdGlvbicsXHJcbiAgICAgICAgICAgICAgdGltZUludGVydmFsOiB7XHJcbiAgICAgICAgICAgICAgICBzdGFydDogZW50cnkudGltZUludGVydmFsPy5zdGFydCB8fCBlbnRyeS5zdGFydCxcclxuICAgICAgICAgICAgICAgIGVuZDogZW50cnkudGltZUludGVydmFsPy5lbmQgfHwgZW50cnkuZW5kLFxyXG4gICAgICAgICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvblxyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgYmlsbGFibGU6IGVudHJ5LmJpbGxhYmxlIHx8IGZhbHNlLFxyXG4gICAgICAgICAgICAgIHVzZXJJZDogZW50cnkudXNlcklkIHx8ICd1bmtub3duLXVzZXInLFxyXG4gICAgICAgICAgICAgIHVzZXJOYW1lOiBlbnRyeS51c2VyTmFtZSB8fCAnVW5rbm93biBVc2VyJyxcclxuICAgICAgICAgICAgICBwcm9qZWN0SWQ6IGVudHJ5LnByb2plY3RJZCB8fCAndW5rbm93bi1wcm9qZWN0JyxcclxuICAgICAgICAgICAgICBwcm9qZWN0TmFtZTogZW50cnkucHJvamVjdE5hbWUgfHwgJ1Vua25vd24gUHJvamVjdCcsXHJcbiAgICAgICAgICAgICAgaG91cmx5UmF0ZTogZW50cnkuaG91cmx5UmF0ZSB8fCAwXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9IGNhdGNoIChlbnRyeUVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBFcnJvciBwcm9jZXNzaW5nIGZhbGxiYWNrIHRpbWUgZW50cnkgJHtpbmRleH06YCwgZW50cnlFcnJvcik7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYCAgIFJhdyBlbnRyeSBkYXRhOmAsIGVudHJ5KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBhIHNhZmUgZmFsbGJhY2sgZW50cnlcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICBpZDogYGVycm9yLWZhbGxiYWNrLSR7aW5kZXh9LSR7RGF0ZS5ub3coKX1gLFxyXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnRXJyb3IgcHJvY2Vzc2luZyBmYWxsYmFjayBlbnRyeScsXHJcbiAgICAgICAgICAgICAgdGltZUludGVydmFsOiB7XHJcbiAgICAgICAgICAgICAgICBzdGFydDogc3RhcnREYXRlLFxyXG4gICAgICAgICAgICAgICAgZW5kOiBlbmREYXRlLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246ICdQVDBIME0nXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICBiaWxsYWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgdXNlcklkOiAnZXJyb3ItdXNlcicsXHJcbiAgICAgICAgICAgICAgdXNlck5hbWU6ICdFcnJvciBVc2VyJyxcclxuICAgICAgICAgICAgICBwcm9qZWN0SWQ6ICdlcnJvci1wcm9qZWN0JyxcclxuICAgICAgICAgICAgICBwcm9qZWN0TmFtZTogJ0Vycm9yIFByb2plY3QnLFxyXG4gICAgICAgICAgICAgIGhvdXJseVJhdGU6IDBcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KS5maWx0ZXIoKGVudHJ5OiBhbnkpID0+IGVudHJ5ICE9PSBudWxsKTsgLy8gUmVtb3ZlIGFueSBudWxsIGVudHJpZXNcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGdldCB0aW1lIGVudHJpZXMgdmlhIHVzZXIgZW5kcG9pbnQgKGZhbGxiYWNrKTonLCBlcnJvcik7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG5cclxuICBhc3luYyBnZXRQcm9qZWN0VGltZVJlcG9ydChwcm9qZWN0SWQ6IHN0cmluZywgc3RhcnREYXRlOiBzdHJpbmcsIGVuZERhdGU6IHN0cmluZyk6IFByb21pc2U8Q2xvY2tpZnlUaW1lUmVwb3J0IHwgbnVsbD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgaWYgKCF0aGlzLndvcmtzcGFjZUlkKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdXb3Jrc3BhY2UgSUQgbm90IGNvbmZpZ3VyZWQnKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc3QgdGltZUVudHJpZXMgPSBhd2FpdCB0aGlzLmdldFRpbWVFbnRyaWVzKHByb2plY3RJZCwgc3RhcnREYXRlLCBlbmREYXRlKTtcclxuICAgICAgY29uc3QgcHJvamVjdCA9IGF3YWl0IHRoaXMuZ2V0UHJvamVjdHMoKS50aGVuKHByb2plY3RzID0+IFxyXG4gICAgICAgIHByb2plY3RzLmZpbmQocCA9PiBwLmlkID09PSBwcm9qZWN0SWQpXHJcbiAgICAgICk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoIXByb2plY3QpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Byb2plY3Qgbm90IGZvdW5kJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHRvdGFsSG91cnMgPSB0aW1lRW50cmllcy5yZWR1Y2UoKHN1bSwgZW50cnkpID0+IHtcclxuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IGVudHJ5LnRpbWVJbnRlcnZhbC5kdXJhdGlvbjtcclxuICAgICAgICBjb25zdCBob3VycyA9IHRoaXMucGFyc2VEdXJhdGlvbihkdXJhdGlvbik7XHJcbiAgICAgICAgcmV0dXJuIHN1bSArIGhvdXJzO1xyXG4gICAgICB9LCAwKTtcclxuXHJcbiAgICAgIGNvbnN0IGJpbGxhYmxlSG91cnMgPSB0aW1lRW50cmllc1xyXG4gICAgICAgIC5maWx0ZXIoZW50cnkgPT4gZW50cnkuYmlsbGFibGUpXHJcbiAgICAgICAgLnJlZHVjZSgoc3VtLCBlbnRyeSkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgZHVyYXRpb24gPSBlbnRyeS50aW1lSW50ZXJ2YWwuZHVyYXRpb247XHJcbiAgICAgICAgICBjb25zdCBob3VycyA9IHRoaXMucGFyc2VEdXJhdGlvbihkdXJhdGlvbik7XHJcbiAgICAgICAgICByZXR1cm4gc3VtICsgaG91cnM7XHJcbiAgICAgICAgfSwgMCk7XHJcblxyXG4gICAgICBjb25zdCBub25CaWxsYWJsZUhvdXJzID0gdG90YWxIb3VycyAtIGJpbGxhYmxlSG91cnM7XHJcblxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHByb2plY3RJZCxcclxuICAgICAgICBwcm9qZWN0TmFtZTogcHJvamVjdC5uYW1lLFxyXG4gICAgICAgIHRvdGFsSG91cnMsXHJcbiAgICAgICAgYmlsbGFibGVIb3VycyxcclxuICAgICAgICBub25CaWxsYWJsZUhvdXJzLFxyXG4gICAgICAgIHRvdGFsQW1vdW50OiB0b3RhbEhvdXJzICogKHR5cGVvZiBwcm9qZWN0LmhvdXJseVJhdGUgPT09ICdvYmplY3QnID8gcHJvamVjdC5ob3VybHlSYXRlLmFtb3VudCA6IChwcm9qZWN0LmhvdXJseVJhdGUgfHwgMCkpLFxyXG4gICAgICAgIGJpbGxhYmxlQW1vdW50OiBiaWxsYWJsZUhvdXJzICogKHR5cGVvZiBwcm9qZWN0LmhvdXJseVJhdGUgPT09ICdvYmplY3QnID8gcHJvamVjdC5ob3VybHlSYXRlLmFtb3VudCA6IChwcm9qZWN0LmhvdXJseVJhdGUgfHwgMCkpLFxyXG4gICAgICAgIG5vbkJpbGxhYmxlQW1vdW50OiBub25CaWxsYWJsZUhvdXJzICogKHR5cGVvZiBwcm9qZWN0LmhvdXJseVJhdGUgPT09ICdvYmplY3QnID8gcHJvamVjdC5ob3VybHlSYXRlLmFtb3VudCA6IChwcm9qZWN0LmhvdXJseVJhdGUgfHwgMCkpLFxyXG4gICAgICAgIGVudHJpZXM6IHRpbWVFbnRyaWVzLFxyXG4gICAgICAgIHBlcmlvZDogeyBzdGFydDogc3RhcnREYXRlLCBlbmQ6IGVuZERhdGUgfVxyXG4gICAgICB9O1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGdldCBwcm9qZWN0IHRpbWUgcmVwb3J0OicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBnZXRBbGxQcm9qZWN0c1RpbWVTdW1tYXJ5KHN0YXJ0RGF0ZTogc3RyaW5nLCBlbmREYXRlOiBzdHJpbmcpOiBQcm9taXNlPENsb2NraWZ5VGltZVJlcG9ydFtdPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAoIXRoaXMud29ya3NwYWNlSWQpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dvcmtzcGFjZSBJRCBub3QgY29uZmlndXJlZCcpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBwcm9qZWN0cyA9IGF3YWl0IHRoaXMuZ2V0UHJvamVjdHMoKTtcclxuICAgICAgY29uc3QgcmVwb3J0czogQ2xvY2tpZnlUaW1lUmVwb3J0W10gPSBbXTtcclxuICAgICAgXHJcbiAgICAgIGZvciAoY29uc3QgcHJvamVjdCBvZiBwcm9qZWN0cykge1xyXG4gICAgICAgIGNvbnN0IHJlcG9ydCA9IGF3YWl0IHRoaXMuZ2V0UHJvamVjdFRpbWVSZXBvcnQocHJvamVjdC5pZCwgc3RhcnREYXRlLCBlbmREYXRlKTtcclxuICAgICAgICBpZiAocmVwb3J0KSB7XHJcbiAgICAgICAgICByZXBvcnRzLnB1c2gocmVwb3J0KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHJldHVybiByZXBvcnRzO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGdldCBhbGwgcHJvamVjdHMgdGltZSBzdW1tYXJ5OicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gSGVscGVyIG1ldGhvZCB0byBwYXJzZSBJU08gODYwMSBkdXJhdGlvbiB0byBob3Vyc1xyXG4gIHByaXZhdGUgcGFyc2VEdXJhdGlvbihkdXJhdGlvbjogc3RyaW5nKTogbnVtYmVyIHtcclxuICAgIGNvbnN0IG1hdGNoID0gZHVyYXRpb24ubWF0Y2goL1BUKD86KFxcZCspSCk/KD86KFxcZCspTSk/KD86KFxcZCspUyk/Lyk7XHJcbiAgICBpZiAoIW1hdGNoKSByZXR1cm4gMDtcclxuICAgIFxyXG4gICAgY29uc3QgaG91cnMgPSBwYXJzZUludChtYXRjaFsxXSB8fCAnMCcpO1xyXG4gICAgY29uc3QgbWludXRlcyA9IHBhcnNlSW50KG1hdGNoWzJdIHx8ICcwJyk7XHJcbiAgICBjb25zdCBzZWNvbmRzID0gcGFyc2VJbnQobWF0Y2hbM10gfHwgJzAnKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIGhvdXJzICsgKG1pbnV0ZXMgLyA2MCkgKyAoc2Vjb25kcyAvIDM2MDApO1xyXG4gIH1cclxuXHJcbiAgLy8gRW5oYW5jZWQgbWV0aG9kIHRvIGdlbmVyYXRlIG1vY2sgdGltZSBlbnRyaWVzXHJcbiAgcHJpdmF0ZSBnZXRNb2NrVGltZUVudHJpZXMocHJvamVjdElkOiBzdHJpbmcsIHN0YXJ0RGF0ZTogc3RyaW5nLCBlbmREYXRlOiBzdHJpbmcpOiBhbnlbXSB7XHJcbiAgICByZXR1cm4gW1xyXG4gICAgICB7XHJcbiAgICAgICAgaWQ6IGBtb2NrLSR7cHJvamVjdElkfS0xYCxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ01vY2sgcHJvamVjdCB3b3JrJyxcclxuICAgICAgICB0aW1lSW50ZXJ2YWw6IHtcclxuICAgICAgICAgIHN0YXJ0OiBzdGFydERhdGUsXHJcbiAgICAgICAgICBlbmQ6IGVuZERhdGUsXHJcbiAgICAgICAgICBkdXJhdGlvbjogJ1BUOEgwTSdcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJpbGxhYmxlOiB0cnVlLFxyXG4gICAgICAgIHVzZXJJZDogJ21vY2stdXNlci1pZCcsXHJcbiAgICAgICAgdXNlck5hbWU6ICdNb2NrIFVzZXInLFxyXG4gICAgICAgIHByb2plY3RJZDogcHJvamVjdElkLFxyXG4gICAgICAgIHByb2plY3ROYW1lOiAnTW9jayBQcm9qZWN0J1xyXG4gICAgICB9XHJcbiAgICBdO1xyXG4gIH1cclxuXHJcbiAgLy8gRW5oYW5jZWQgbWV0aG9kIHRvIGdlbmVyYXRlIG1vY2sgcHJvamVjdHNcclxuICBwcml2YXRlIGdldE1vY2tQcm9qZWN0cygpOiBhbnlbXSB7XHJcbiAgICByZXR1cm4gW1xyXG4gICAgICB7XHJcbiAgICAgICAgaWQ6ICdtb2NrLXByb2plY3QtMScsXHJcbiAgICAgICAgbmFtZTogJ01vY2sgUHJvamVjdCAxJyxcclxuICAgICAgICB3b3Jrc3BhY2VJZDogJ21vY2std29ya3NwYWNlJyxcclxuICAgICAgICBjbGllbnRJZDogJ21vY2stY2xpZW50LTEnLFxyXG4gICAgICAgIGNsaWVudE5hbWU6ICdNb2NrIENsaWVudCAxJyxcclxuICAgICAgICBpc1B1YmxpYzogdHJ1ZSxcclxuICAgICAgICBpc1RlbXBsYXRlOiBmYWxzZSxcclxuICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgICAgIGJpbGxhYmxlOiB0cnVlLFxyXG4gICAgICAgIHB1YmxpYzogdHJ1ZSxcclxuICAgICAgICBhcmNoaXZlZDogZmFsc2UsXHJcbiAgICAgICAgc3RhdHVzOiAnQUNUSVZFJyxcclxuICAgICAgICBidWRnZXQ6IDUwMDAwLFxyXG4gICAgICAgIGhvdXJseVJhdGU6IHsgYW1vdW50OiAxNTAsIGN1cnJlbmN5OiAnVVNEJyB9XHJcbiAgICAgIH1cclxuICAgIF07XHJcbiAgfVxyXG5cclxuICAvLyBFbmhhbmNlZCBtZXRob2QgdG8gZ2VuZXJhdGUgbW9jayB1c2VyXHJcbiAgcHJpdmF0ZSBnZXRNb2NrVXNlcigpOiBhbnkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaWQ6ICdtb2NrLXVzZXItaWQnLFxyXG4gICAgICBlbWFpbDogJ21vY2tAZXhhbXBsZS5jb20nLFxyXG4gICAgICBuYW1lOiAnTW9jayBVc2VyJyxcclxuICAgICAgcHJvZmlsZVBpY3R1cmU6ICcnLFxyXG4gICAgICBzdGF0dXM6ICdBQ1RJVkUnLFxyXG4gICAgICBhY3RpdmVXb3Jrc3BhY2U6ICdtb2NrLXdvcmtzcGFjZScsXHJcbiAgICAgIGRlZmF1bHRXb3Jrc3BhY2U6ICdtb2NrLXdvcmtzcGFjZSdcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvLyBEYXRhIEltcG9ydCBNZXRob2RzIC0gTkVXOiBJbXBvcnQgdGltZSBlbnRyaWVzIHRvIGRhdGFiYXNlXHJcbiAgYXN5bmMgaW1wb3J0VGltZUVudHJpZXMoc3RhcnREYXRlOiBzdHJpbmcsIGVuZERhdGU6IHN0cmluZyk6IFByb21pc2U8e1xyXG4gICAgc3VjY2VzczogYm9vbGVhbjtcclxuICAgIHJlY29yZHNJbXBvcnRlZDogbnVtYmVyO1xyXG4gICAgZXJyb3JzOiBzdHJpbmdbXTtcclxuICAgIHN1bW1hcnk6IHtcclxuICAgICAgdG90YWxFbnRyaWVzOiBudW1iZXI7XHJcbiAgICAgIGJpbGxhYmxlSG91cnM6IG51bWJlcjtcclxuICAgICAgbm9uQmlsbGFibGVIb3VyczogbnVtYmVyO1xyXG4gICAgICB0b3RhbENvc3Q6IG51bWJlcjtcclxuICAgIH07XHJcbiAgfT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coJ/CflIQgU3RhcnRpbmcgQ2xvY2tpZnkgdGltZSBlbnRyaWVzIGltcG9ydC4uLicpO1xyXG4gICAgICBjb25zb2xlLmxvZyhg8J+ThSBEYXRlIHJhbmdlOiAke3N0YXJ0RGF0ZX0gdG8gJHtlbmREYXRlfWApO1xyXG4gICAgICBcclxuICAgICAgLy8gR2V0IGFsbCB0aW1lIGVudHJpZXMgZm9yIHRoZSBkYXRlIHJhbmdlXHJcbiAgICAgIGNvbnN0IHRpbWVFbnRyaWVzID0gYXdhaXQgdGhpcy5nZXRUaW1lRW50cmllcygnJywgc3RhcnREYXRlLCBlbmREYXRlKTtcclxuICAgICAgY29uc29sZS5sb2coYPCfk4ogRm91bmQgJHt0aW1lRW50cmllcy5sZW5ndGh9IHRpbWUgZW50cmllcyB0byBwcm9jZXNzYCk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAodGltZUVudHJpZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ+KaoO+4jyBObyB0aW1lIGVudHJpZXMgZm91bmQgZm9yIHRoZSBzcGVjaWZpZWQgZGF0ZSByYW5nZScpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgcmVjb3Jkc0ltcG9ydGVkOiAwLFxyXG4gICAgICAgICAgZXJyb3JzOiBbXSxcclxuICAgICAgICAgIHN1bW1hcnk6IHtcclxuICAgICAgICAgICAgdG90YWxFbnRyaWVzOiAwLFxyXG4gICAgICAgICAgICBiaWxsYWJsZUhvdXJzOiAwLFxyXG4gICAgICAgICAgICBub25CaWxsYWJsZUhvdXJzOiAwLFxyXG4gICAgICAgICAgICB0b3RhbENvc3Q6IDBcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBHZXQgcHJvamVjdHMgYW5kIHVzZXJzIGZvciBtYXBwaW5nXHJcbiAgICAgIGNvbnN0IFtwcm9qZWN0cywgdXNlcnNdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xyXG4gICAgICAgIHRoaXMuZ2V0UHJvamVjdHMoKSxcclxuICAgICAgICB0aGlzLmdldFdvcmtzcGFjZXMoKS50aGVuKHdvcmtzcGFjZXMgPT4gXHJcbiAgICAgICAgICB3b3Jrc3BhY2VzLmxlbmd0aCA+IDAgPyB0aGlzLmdldFVzZXJzKHdvcmtzcGFjZXNbMF0uaWQpIDogW11cclxuICAgICAgICApXHJcbiAgICAgIF0pO1xyXG5cclxuICAgICAgY29uc29sZS5sb2coYPCfk4sgUmV0cmlldmVkICR7cHJvamVjdHMubGVuZ3RofSBwcm9qZWN0cyBhbmQgJHt1c2Vycy5sZW5ndGh9IHVzZXJzIGZvciBtYXBwaW5nYCk7XHJcblxyXG4gICAgICBsZXQgcmVjb3Jkc0ltcG9ydGVkID0gMDtcclxuICAgICAgY29uc3QgZXJyb3JzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgICBsZXQgdG90YWxCaWxsYWJsZUhvdXJzID0gMDtcclxuICAgICAgbGV0IHRvdGFsTm9uQmlsbGFibGVIb3VycyA9IDA7XHJcbiAgICAgIGxldCB0b3RhbENvc3QgPSAwO1xyXG5cclxuICAgICAgLy8gUHJvY2VzcyBlYWNoIHRpbWUgZW50cnlcclxuICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiB0aW1lRW50cmllcykge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAvLyBGaW5kIHVzZXIgYW5kIHByb2plY3QgZGV0YWlsc1xyXG4gICAgICAgICAgY29uc3QgdXNlciA9IHVzZXJzLmZpbmQodSA9PiB1LmlkID09PSBlbnRyeS51c2VySWQpO1xyXG4gICAgICAgICAgY29uc3QgcHJvamVjdCA9IHByb2plY3RzLmZpbmQocCA9PiBwLmlkID09PSBlbnRyeS5wcm9qZWN0SWQpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZiAoIXVzZXIgfHwgIXByb2plY3QpIHtcclxuICAgICAgICAgICAgY29uc3QgZXJyb3JNc2cgPSBgTWlzc2luZyB1c2VyICgke2VudHJ5LnVzZXJJZH0pIG9yIHByb2plY3QgKCR7ZW50cnkucHJvamVjdElkfSkgZm9yIGVudHJ5ICR7ZW50cnkuaWR9YDtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGDimqDvuI8gJHtlcnJvck1zZ31gKTtcclxuICAgICAgICAgICAgZXJyb3JzLnB1c2goZXJyb3JNc2cpO1xyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBQYXJzZSBkdXJhdGlvbiB0byBob3Vyc1xyXG4gICAgICAgICAgY29uc3QgaG91cnMgPSB0aGlzLnBhcnNlRHVyYXRpb24oZW50cnkudGltZUludGVydmFsLmR1cmF0aW9uKTtcclxuICAgICAgICAgIGNvbnN0IGJpbGxhYmxlSG91cnMgPSBlbnRyeS5iaWxsYWJsZSA/IGhvdXJzIDogMDtcclxuICAgICAgICAgIGNvbnN0IG5vbkJpbGxhYmxlSG91cnMgPSBlbnRyeS5iaWxsYWJsZSA/IDAgOiBob3VycztcclxuXHJcbiAgICAgICAgICAvLyBDYWxjdWxhdGUgY29zdHMgKHVzaW5nIHByb2plY3QgaG91cmx5IHJhdGUgaWYgYXZhaWxhYmxlKVxyXG4gICAgICAgICAgY29uc3QgaG91cmx5UmF0ZSA9IHR5cGVvZiBwcm9qZWN0LmhvdXJseVJhdGUgPT09ICdvYmplY3QnID8gcHJvamVjdC5ob3VybHlSYXRlLmFtb3VudCA6IChwcm9qZWN0LmhvdXJseVJhdGUgfHwgMCk7XHJcbiAgICAgICAgICBjb25zdCB0b3RhbENvc3RGb3JFbnRyeSA9IGhvdXJzICogaG91cmx5UmF0ZTtcclxuXHJcbiAgICAgICAgICAvLyBVcGRhdGUgdG90YWxzXHJcbiAgICAgICAgICB0b3RhbEJpbGxhYmxlSG91cnMgKz0gYmlsbGFibGVIb3VycztcclxuICAgICAgICAgIHRvdGFsTm9uQmlsbGFibGVIb3VycyArPSBub25CaWxsYWJsZUhvdXJzO1xyXG4gICAgICAgICAgdG90YWxDb3N0ICs9IHRvdGFsQ29zdEZvckVudHJ5O1xyXG5cclxuICAgICAgICAgIC8vIExvZyBzdWNjZXNzZnVsIHByb2Nlc3NpbmdcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGDinIUgUHJvY2Vzc2VkIGVudHJ5OiAke3VzZXIubmFtZX0gLSAke3Byb2plY3QubmFtZX0gLSAke2hvdXJzLnRvRml4ZWQoMil9aCAoJHtlbnRyeS5iaWxsYWJsZSA/ICdCaWxsYWJsZScgOiAnTm9uLWJpbGxhYmxlJ30pYCk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHJlY29yZHNJbXBvcnRlZCsrO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgfSBjYXRjaCAoZW50cnlFcnJvcikge1xyXG4gICAgICAgICAgY29uc3QgZXJyb3JNc2cgPSBgRXJyb3IgcHJvY2Vzc2luZyBlbnRyeSAke2VudHJ5LmlkfTogJHtlbnRyeUVycm9yfWA7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGDinYwgJHtlcnJvck1zZ31gKTtcclxuICAgICAgICAgIGVycm9ycy5wdXNoKGVycm9yTXNnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHN1bW1hcnkgPSB7XHJcbiAgICAgICAgdG90YWxFbnRyaWVzOiB0aW1lRW50cmllcy5sZW5ndGgsXHJcbiAgICAgICAgYmlsbGFibGVIb3VyczogdG90YWxCaWxsYWJsZUhvdXJzLFxyXG4gICAgICAgIG5vbkJpbGxhYmxlSG91cnM6IHRvdGFsTm9uQmlsbGFibGVIb3VycyxcclxuICAgICAgICB0b3RhbENvc3Q6IHRvdGFsQ29zdFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc29sZS5sb2coYPCfk4ogSW1wb3J0IGNvbXBsZXRlZDogJHtyZWNvcmRzSW1wb3J0ZWR9LyR7dGltZUVudHJpZXMubGVuZ3RofSBlbnRyaWVzIHByb2Nlc3NlZCBzdWNjZXNzZnVsbHlgKTtcclxuICAgICAgY29uc29sZS5sb2coYPCfkrAgU3VtbWFyeTogJHt0b3RhbEJpbGxhYmxlSG91cnMudG9GaXhlZCgyKX0gYmlsbGFibGUgaG91cnMsICR7dG90YWxOb25CaWxsYWJsZUhvdXJzLnRvRml4ZWQoMil9IG5vbi1iaWxsYWJsZSBob3VycywgJCR7dG90YWxDb3N0LnRvRml4ZWQoMil9IHRvdGFsIGNvc3RgKTtcclxuICAgICAgXHJcbiAgICAgIGlmIChlcnJvcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGNvbnNvbGUud2Fybihg4pqg77iPICR7ZXJyb3JzLmxlbmd0aH0gZXJyb3JzIGVuY291bnRlcmVkIGR1cmluZyBpbXBvcnRgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBzdWNjZXNzOiByZWNvcmRzSW1wb3J0ZWQgPiAwLFxyXG4gICAgICAgIHJlY29yZHNJbXBvcnRlZCxcclxuICAgICAgICBlcnJvcnMsXHJcbiAgICAgICAgc3VtbWFyeVxyXG4gICAgICB9O1xyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBDbG9ja2lmeSB0aW1lIGVudHJpZXMgaW1wb3J0IGZhaWxlZDonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgcmVjb3Jkc0ltcG9ydGVkOiAwLFxyXG4gICAgICAgIGVycm9yczogW2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InXSxcclxuICAgICAgICBzdW1tYXJ5OiB7XHJcbiAgICAgICAgICB0b3RhbEVudHJpZXM6IDAsXHJcbiAgICAgICAgICBiaWxsYWJsZUhvdXJzOiAwLFxyXG4gICAgICAgICAgbm9uQmlsbGFibGVIb3VyczogMCxcclxuICAgICAgICAgIHRvdGFsQ29zdDogMFxyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIEVuaGFuY2VkIG1ldGhvZCB0byBnZXQgdXNlcnMgZm9yIGEgd29ya3NwYWNlXHJcbiAgYXN5bmMgZ2V0VXNlcnMod29ya3NwYWNlSWQ6IHN0cmluZyk6IFByb21pc2U8Q2xvY2tpZnlVc2VyW10+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGlmICghdGhpcy5hcGlLZXkpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FQSSBrZXkgbm90IGNvbmZpZ3VyZWQnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgdXJsID0gYCR7dGhpcy5iYXNlVXJsfS93b3Jrc3BhY2VzLyR7d29ya3NwYWNlSWR9L3VzZXJzYDtcclxuICAgICAgY29uc29sZS5pbmZvKGDwn5SNIENsb2NraWZ5IFVzZXJzIEFQSSBSZXF1ZXN0OiAke3VybH1gKTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgICBoZWFkZXJzOiB0aGlzLmdldEhlYWRlcnMoKSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDbG9ja2lmeSBBUEkgZXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHVzZXJzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICBjb25zb2xlLmluZm8oYOKchSBSZXRyaWV2ZWQgJHt1c2Vycy5sZW5ndGh9IHVzZXJzIGZyb20gd29ya3NwYWNlICR7d29ya3NwYWNlSWR9YCk7XHJcbiAgICAgIHJldHVybiB1c2VycztcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZ2V0IHVzZXJzOicsIGVycm9yKTtcclxuICAgICAgLy8gUmV0dXJuIG1vY2sgdXNlcnMgYXMgZmFsbGJhY2tcclxuICAgICAgcmV0dXJuIFt0aGlzLmdldE1vY2tVc2VyKCldO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLy8gQ3JlYXRlIHRoZSBzZXJ2aWNlIGluc3RhbmNlXHJcbmNvbnN0IGNsb2NraWZ5U2VydmljZSA9IG5ldyBDbG9ja2lmeVNlcnZpY2UoKTtcclxuXHJcbi8vIEV4cG9ydCB0aGUgc2VydmljZSBpbnN0YW5jZSBhcyBib3RoIGRlZmF1bHQgYW5kIG5hbWVkIGV4cG9ydFxyXG5leHBvcnQgZGVmYXVsdCBjbG9ja2lmeVNlcnZpY2U7XHJcbmV4cG9ydCB7IGNsb2NraWZ5U2VydmljZSB9O1xyXG5cclxuLy8gRXhwb3J0IGNvbnZlbmllbmNlIGZ1bmN0aW9uc1xyXG5leHBvcnQgY29uc3QgZmV0Y2hDbG9ja2lmeVByb2plY3RzID0gYXN5bmMgKCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICByZXR1cm4gYXdhaXQgY2xvY2tpZnlTZXJ2aWNlLmdldFByb2plY3RzKCk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIENsb2NraWZ5IHByb2plY3RzOicsIGVycm9yKTtcclxuICAgIHJldHVybiBbXTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZmV0Y2hDbG9ja2lmeVRpbWVFbnRyaWVzID0gYXN5bmMgKFxyXG4gIHByb2plY3RJZDogc3RyaW5nLFxyXG4gIHN0YXJ0RGF0ZT86IHN0cmluZyxcclxuICBlbmREYXRlPzogc3RyaW5nXHJcbikgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICByZXR1cm4gYXdhaXQgY2xvY2tpZnlTZXJ2aWNlLmdldFRpbWVFbnRyaWVzKHByb2plY3RJZCwgc3RhcnREYXRlIHx8ICcnLCBlbmREYXRlIHx8ICcnKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgQ2xvY2tpZnkgdGltZSBlbnRyaWVzOicsIGVycm9yKTtcclxuICAgIHJldHVybiBbXTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZmV0Y2hDbG9ja2lmeVRpbWVSZXBvcnQgPSBhc3luYyAoXHJcbiAgcHJvamVjdElkOiBzdHJpbmcsXHJcbiAgc3RhcnREYXRlOiBzdHJpbmcsXHJcbiAgZW5kRGF0ZTogc3RyaW5nXHJcbikgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICByZXR1cm4gYXdhaXQgY2xvY2tpZnlTZXJ2aWNlLmdldFByb2plY3RUaW1lUmVwb3J0KHByb2plY3RJZCwgc3RhcnREYXRlLCBlbmREYXRlKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgQ2xvY2tpZnkgdGltZSByZXBvcnQ6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGZldGNoQWxsQ2xvY2tpZnlUaW1lU3VtbWFyaWVzID0gYXN5bmMgKFxyXG4gIHN0YXJ0RGF0ZTogc3RyaW5nLFxyXG4gIGVuZERhdGU6IHN0cmluZ1xyXG4pID0+IHtcclxuICB0cnkge1xyXG4gICAgcmV0dXJuIGF3YWl0IGNsb2NraWZ5U2VydmljZS5nZXRBbGxQcm9qZWN0c1RpbWVTdW1tYXJ5KHN0YXJ0RGF0ZSwgZW5kRGF0ZSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIENsb2NraWZ5IHRpbWUgc3VtbWFyaWVzOicsIGVycm9yKTtcclxuICAgIHJldHVybiBbXTtcclxuICB9XHJcbn07XHJcbiJdLCJuYW1lcyI6WyJDbG9ja2lmeVNlcnZpY2UiLCJjb25zdHJ1Y3RvciIsImFwaUtleSIsIndvcmtzcGFjZUlkIiwiYmFzZVVybCIsInJlcG9ydHNCYXNlVXJsIiwiX2lzQ29uZmlndXJlZCIsInByb2Nlc3MiLCJlbnYiLCJDTE9DS0lGWV9BUElfS0VZIiwiQ0xPQ0tJRllfV09SS1NQQUNFX0lEIiwiY29uc29sZSIsImluZm8iLCJ3YXJuIiwiZ2V0SGVhZGVycyIsIkVycm9yIiwibWFrZVJlcXVlc3QiLCJlbmRwb2ludCIsInBhcmFtcyIsInVybCIsIlVSTCIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwia2V5IiwidW5kZWZpbmVkIiwic2VhcmNoUGFyYW1zIiwiYXBwZW5kIiwibG9nIiwidG9TdHJpbmciLCJKU09OIiwic3RyaW5naWZ5IiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwiZXJyb3JEZXRhaWxzIiwiZXJyb3IiLCJvayIsImVycm9yVGV4dCIsInRleHQiLCJjYXRjaCIsImRhdGEiLCJqc29uIiwibWVzc2FnZSIsImlzQ29uZmlndXJlZCIsImdldENvbmZpZ3VyYXRpb25TdGF0dXMiLCJjb25maWd1cmVkIiwiaGFzQXBpS2V5IiwiaGFzV29ya3NwYWNlSWQiLCJnZXRDb25maWdTdGF0dXMiLCJzZXRXb3Jrc3BhY2VJZCIsImdldFVzZXIiLCJnZXRNb2NrVXNlciIsImdldFdvcmtzcGFjZXMiLCJpZCIsIm5hbWUiLCJob3VybHlSYXRlIiwiYW1vdW50IiwiY3VycmVuY3kiLCJnZXRQcm9qZWN0cyIsImdldE1vY2tQcm9qZWN0cyIsImdldFRpbWVFbnRyaWVzIiwicHJvamVjdElkIiwic3RhcnREYXRlIiwiZW5kRGF0ZSIsImdldE1vY2tUaW1lRW50cmllcyIsImdldEFsbFRpbWVFbnRyaWVzIiwiZ2V0VGltZUVudHJpZXNWaWFSZXBvcnRzIiwicmVwb3J0c0Vycm9yIiwicmVhc29uIiwiZmFsbGJhY2siLCJnZXRUaW1lRW50cmllc1ZpYVVzZXJFbmRwb2ludCIsImRlc2NyaXB0aW9uIiwidGltZUludGVydmFsIiwic3RhcnQiLCJlbmQiLCJkdXJhdGlvbiIsImJpbGxhYmxlIiwidXNlcklkIiwidXNlck5hbWUiLCJwcm9qZWN0TmFtZSIsImRhdGVSYW5nZVN0YXJ0IiwiZGF0ZVJhbmdlRW5kIiwiZGV0YWlsZWRGaWx0ZXIiLCJwYWdlU2l6ZSIsInNvcnRDb2x1bW4iLCJib2R5IiwidGltZWVudHJpZXMiLCJBcnJheSIsImlzQXJyYXkiLCJsZW5ndGgiLCJtYXAiLCJlbnRyeSIsImluZGV4IiwiaG91cnMiLCJNYXRoIiwiZmxvb3IiLCJtaW51dGVzIiwic3RhcnRUaW1lIiwiRGF0ZSIsImVuZFRpbWUiLCJpc05hTiIsImdldFRpbWUiLCJkaWZmTXMiLCJkaWZmSG91cnMiLCJ0aW1lRXJyb3IiLCJlbnRyeUlkIiwibm93IiwiY29udmVydGVkRHVyYXRpb24iLCJlbnRyeUVycm9yIiwiZmlsdGVyIiwidXNlciIsInNldCIsImdldFByb2plY3RUaW1lUmVwb3J0IiwidGltZUVudHJpZXMiLCJwcm9qZWN0IiwidGhlbiIsInByb2plY3RzIiwiZmluZCIsInAiLCJ0b3RhbEhvdXJzIiwicmVkdWNlIiwic3VtIiwicGFyc2VEdXJhdGlvbiIsImJpbGxhYmxlSG91cnMiLCJub25CaWxsYWJsZUhvdXJzIiwidG90YWxBbW91bnQiLCJiaWxsYWJsZUFtb3VudCIsIm5vbkJpbGxhYmxlQW1vdW50IiwiZW50cmllcyIsInBlcmlvZCIsImdldEFsbFByb2plY3RzVGltZVN1bW1hcnkiLCJyZXBvcnRzIiwicmVwb3J0IiwicHVzaCIsIm1hdGNoIiwicGFyc2VJbnQiLCJzZWNvbmRzIiwiY2xpZW50SWQiLCJjbGllbnROYW1lIiwiaXNQdWJsaWMiLCJpc1RlbXBsYXRlIiwiY29sb3IiLCJwdWJsaWMiLCJhcmNoaXZlZCIsImJ1ZGdldCIsImVtYWlsIiwicHJvZmlsZVBpY3R1cmUiLCJhY3RpdmVXb3Jrc3BhY2UiLCJkZWZhdWx0V29ya3NwYWNlIiwiaW1wb3J0VGltZUVudHJpZXMiLCJzdWNjZXNzIiwicmVjb3Jkc0ltcG9ydGVkIiwiZXJyb3JzIiwic3VtbWFyeSIsInRvdGFsRW50cmllcyIsInRvdGFsQ29zdCIsInVzZXJzIiwiUHJvbWlzZSIsImFsbCIsIndvcmtzcGFjZXMiLCJnZXRVc2VycyIsInRvdGFsQmlsbGFibGVIb3VycyIsInRvdGFsTm9uQmlsbGFibGVIb3VycyIsInUiLCJlcnJvck1zZyIsInRvdGFsQ29zdEZvckVudHJ5IiwidG9GaXhlZCIsImNsb2NraWZ5U2VydmljZSIsImZldGNoQ2xvY2tpZnlQcm9qZWN0cyIsImZldGNoQ2xvY2tpZnlUaW1lRW50cmllcyIsImZldGNoQ2xvY2tpZnlUaW1lUmVwb3J0IiwiZmV0Y2hBbGxDbG9ja2lmeVRpbWVTdW1tYXJpZXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/clockify.ts\n");

/***/ }),

/***/ "(rsc)/./lib/zoho.ts":
/*!*********************!*\
  !*** ./lib/zoho.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fetchInvoices: () => (/* binding */ fetchInvoices),\n/* harmony export */   fetchProjects: () => (/* binding */ fetchProjects),\n/* harmony export */   zohoService: () => (/* binding */ zohoService)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! axios */ \"(rsc)/./node_modules/axios/lib/axios.js\");\n/* harmony import */ var p_limit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! p-limit */ \"(rsc)/./node_modules/p-limit/index.js\");\n/* harmony import */ var p_limit__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(p_limit__WEBPACK_IMPORTED_MODULE_0__);\n\n\n// Type guard for errors with response property\nconst hasResponse = (err)=>{\n    return typeof err === \"object\" && err !== null && \"response\" in err;\n};\nclass ZohoService {\n    constructor(){\n        this.accessToken = null;\n        this.tokenExpiry = 0;\n        this.refreshPromise = null;\n        this.TOKEN_REFRESH_BUFFER = 10 * 60 * 1000 // 10 minutes buffer (increased for better caching)\n        ;\n        this.autoRefreshTimer = null;\n        this.AUTO_REFRESH_INTERVAL = 45 * 60 * 1000 // 45 minutes\n        ;\n        this.lastRefreshTime = 0 // Track when auto-refresh was last triggered\n        ;\n        this.ACCOUNTS_BASE = process.env.ZOHO_ACCOUNTS_BASE || \"https://accounts.zoho.com\";\n        this.API_BASE = process.env.ZOHO_API_BASE || \"https://www.zohoapis.com\";\n        this.organizationValidated = false;\n        // Rate limiting properties\n        this.requestCount = 0;\n        this.lastRequestTime = 0;\n        this.MAX_REQUESTS_PER_MINUTE = 80 // Conservative limit (Zoho allows 100, we use 80)\n        ;\n        this.MIN_REQUEST_INTERVAL = 2000 // 2 seconds between requests (reduced for better performance)\n        ;\n        this.retryCount = 0;\n        this.MAX_RETRIES = 5 // Increased from 3 to 5\n        ;\n        this.BASE_DELAY = 5000 // Increased from 2000 to 5000ms base delay for exponential backoff\n        ;\n        this.cachedAccessToken = null // Fallback cached token\n        ;\n        // p-limit rate limiter for concurrent API calls\n        this.rateLimiter = p_limit__WEBPACK_IMPORTED_MODULE_0___default()(50) // Limit to 50 concurrent calls\n        ;\n        // Start automatic token refresh\n        this._startAutoRefresh();\n        console.log(`Zoho API base: ${this.API_BASE} | Accounts base: ${this.ACCOUNTS_BASE}`);\n    }\n    _startAutoRefresh() {\n        // Clear any existing timer\n        if (this.autoRefreshTimer) {\n            clearInterval(this.autoRefreshTimer);\n        }\n        // Set up automatic refresh every 45 minutes\n        this.autoRefreshTimer = setInterval(async ()=>{\n            try {\n                console.log(\"Auto-refreshing Zoho token (45-minute interval)...\");\n                this.lastRefreshTime = Date.now(); // Track when refresh was triggered\n                await this.forceRefreshToken();\n                console.log(\"Auto-refresh completed successfully\");\n            } catch (error) {\n                console.error(\"Auto-refresh failed:\", error);\n            }\n        }, this.AUTO_REFRESH_INTERVAL);\n        // Set initial refresh time\n        this.lastRefreshTime = Date.now();\n        console.log(\"Automatic Zoho token refresh started (every 45 minutes)\");\n    }\n    _stopAutoRefresh() {\n        if (this.autoRefreshTimer) {\n            clearInterval(this.autoRefreshTimer);\n            this.autoRefreshTimer = null;\n            console.log(\"Automatic Zoho token refresh stopped\");\n        }\n    }\n    async getAccessToken() {\n        try {\n            const now = Date.now();\n            const timeUntilExpiry = this.tokenExpiry - now;\n            // Check if we have a valid token with sufficient buffer time\n            if (this.accessToken && timeUntilExpiry > this.TOKEN_REFRESH_BUFFER && process.env.ZOHO_FORCE_REFRESH !== \"true\") {\n                const minutesLeft = Math.round(timeUntilExpiry / 60000);\n                console.log(`üîê Using cached token (expires in ${minutesLeft} minutes)`);\n                return this.accessToken;\n            }\n            // Log token status for debugging\n            if (this.accessToken && timeUntilExpiry > 0) {\n                const minutesLeft = Math.round(timeUntilExpiry / 60000);\n                console.log(`‚ö†Ô∏è Token expires soon (${minutesLeft} minutes), refreshing proactively`);\n            } else if (this.accessToken) {\n                console.log(\"\\uD83D\\uDD04 Token expired, refreshing...\");\n            } else {\n                console.log(\"\\uD83C\\uDD95 No token available, obtaining new one...\");\n            }\n            console.log(\"Token expired or missing, refreshing...\");\n            // Clear any existing token\n            this.accessToken = null;\n            this.tokenExpiry = 0;\n            if (false) {}\n            // Ensure only one refresh happens at a time across concurrent requests\n            if (!this.refreshPromise) {\n                this.refreshPromise = this._performTokenRefreshWithBackoff();\n            }\n            const token = await this.refreshPromise;\n            // Clear the in-flight promise after completion\n            this.refreshPromise = null;\n            return token;\n        } catch (error) {\n            console.error(\"Error refreshing Zoho access token:\", error);\n            // Log specific error details for debugging\n            if (axios__WEBPACK_IMPORTED_MODULE_1__[\"default\"].isAxiosError(error)) {\n                console.error(\"Axios error details:\", {\n                    status: hasResponse(error) ? error.response?.status : undefined,\n                    statusText: hasResponse(error) ? error.response?.statusText : undefined,\n                    data: hasResponse(error) ? error.response?.data : undefined,\n                    message: error.message,\n                    headers: hasResponse(error) ? error.response?.headers : undefined // Log headers for rate limit info\n                });\n                // Log rate limit headers if available\n                if (hasResponse(error) && error.response?.headers) {\n                    const rateLimitHeaders = {\n                        \"X-Rate-Limit\": error.response.headers[\"x-rate-limit\"],\n                        \"X-Rate-Limit-Remaining\": error.response.headers[\"x-rate-limit-remaining\"],\n                        \"X-Rate-Limit-Reset\": error.response.headers[\"x-rate-limit-reset\"],\n                        \"Retry-After\": error.response.headers[\"retry-after\"]\n                    };\n                    console.error(\"Rate limit headers:\", rateLimitHeaders);\n                }\n            }\n            // Try to fall back to cached token if available\n            if (this.cachedAccessToken) {\n                console.warn(\"Falling back to cached access token due to refresh failure\");\n                return this.cachedAccessToken;\n            }\n            throw new Error(`Failed to authenticate with Zoho: ${error instanceof Error ? error.message : \"Unknown error\"}`);\n        }\n    }\n    // Perform the token refresh with form-encoded body and improved exponential backoff\n    async _performTokenRefreshWithBackoff() {\n        const maxAttempts = 5; // Increased from 3 to 5\n        for(let attempt = 1; attempt <= maxAttempts; attempt++){\n            try {\n                const formData = new URLSearchParams();\n                formData.append(\"refresh_token\", \"1000.347acbb43b4a925483b2a29677f38c00.1d602040864cf160552f3499af5e86d9\" || 0);\n                formData.append(\"client_id\", \"1000.8RL8WMTDXS0WIP2EJF2XUS6NDSLQEP\" || 0);\n                formData.append(\"client_secret\", \"8a7ee3c04f0a0d860dd215c4449deab9bf15d1d00b\" || 0);\n                formData.append(\"grant_type\", \"refresh_token\");\n                const response = await axios__WEBPACK_IMPORTED_MODULE_1__[\"default\"].post(`${this.ACCOUNTS_BASE}/oauth/v2/token`, formData, {\n                    headers: {\n                        \"Content-Type\": \"application/x-www-form-urlencoded\"\n                    },\n                    timeout: 15000\n                });\n                if (!response.data.access_token) {\n                    throw new Error(\"No access token received from Zoho\");\n                }\n                // Cache the successful token and expiry information\n                this.accessToken = response.data.access_token;\n                this.tokenExpiry = Date.now() + response.data.expires_in * 1000;\n                this.lastRefreshTime = Date.now();\n                // Cache the successful token as fallback\n                this.cachedAccessToken = response.data.access_token;\n                console.log(`Token refreshed successfully. Expires in ${Math.round(response.data.expires_in / 60)} minutes`);\n                console.log(\"Zoho token refresh response:\", response.data);\n                // Log token caching details\n                console.log(`üîê Token cached: access_token=${this.accessToken.substring(0, 10)}..., expires_in=${response.data.expires_in}s, expiry=${new Date(this.tokenExpiry).toISOString()}`);\n                // Validate scopes on refreshed token\n                try {\n                    const scopeInfo = await this.checkTokenScopes(this.accessToken);\n                    console.log(\"Zoho granted scopes:\", scopeInfo?.scope || \"unknown\");\n                    if (typeof scopeInfo?.scope === \"string\" && !scopeInfo.scope.includes(\"ZohoBooks.reports.READ\")) {\n                        console.warn(\"‚ö†Ô∏è Missing ZohoBooks.reports.READ scope. Regenerate token.\");\n                    }\n                } catch (scopeErr) {\n                    console.error(\"Zoho token scope verification failed:\", scopeErr?.message);\n                }\n                return this.accessToken;\n            } catch (err) {\n                // If rate-limited by Zoho during token refresh, implement exponential backoff\n                const isAxios = axios__WEBPACK_IMPORTED_MODULE_1__[\"default\"].isAxiosError(err);\n                const status = isAxios && hasResponse(err) ? err.response?.status : undefined;\n                const description = isAxios && hasResponse(err) ? err.response?.data?.error_description : undefined;\n                if (status === 400 && typeof description === \"string\" && description.toLowerCase().includes(\"too many requests\")) {\n                    // Exponential backoff: delay = base * 2^attempt\n                    const delayMs = this.BASE_DELAY * Math.pow(2, attempt - 1) + Math.floor(Math.random() * 1000);\n                    console.warn(`Zoho token refresh rate-limited (attempt ${attempt}/${maxAttempts}). Waiting ${delayMs}ms before retry.`);\n                    await new Promise((resolve)=>setTimeout(resolve, delayMs));\n                    continue;\n                }\n                // For other errors, do not retry endlessly\n                if (attempt === maxAttempts) {\n                    console.error(`Zoho token refresh failed after ${maxAttempts} attempts:`, err);\n                    throw new Error(\"Zoho token refresh rate-limited. Check daily API limits or token validity.\");\n                }\n                throw err;\n            }\n        }\n        throw new Error(\"Zoho token refresh failed after maximum retries\");\n    }\n    async refreshAccessToken() {\n        try {\n            console.log(\"Refreshing Zoho access token...\");\n            // Create form data for the request\n            const formData = new URLSearchParams();\n            formData.append(\"refresh_token\", \"1000.347acbb43b4a925483b2a29677f38c00.1d602040864cf160552f3499af5e86d9\" || 0);\n            formData.append(\"client_id\", \"1000.8RL8WMTDXS0WIP2EJF2XUS6NDSLQEP\" || 0);\n            formData.append(\"client_secret\", \"8a7ee3c04f0a0d860dd215c4449deab9bf15d1d00b\" || 0);\n            formData.append(\"grant_type\", \"refresh_token\");\n            const response = await axios__WEBPACK_IMPORTED_MODULE_1__[\"default\"].post(`${this.ACCOUNTS_BASE}/oauth/v2/token`, formData, {\n                headers: {\n                    \"Content-Type\": \"application/x-www-form-urlencoded\"\n                }\n            });\n            // Cache the successful token and expiry information\n            this.accessToken = response.data.access_token;\n            this.tokenExpiry = Date.now() + response.data.expires_in * 1000;\n            // Cache the successful token as fallback\n            this.cachedAccessToken = response.data.access_token;\n            console.log(`Token refreshed successfully. Expires in ${Math.round(response.data.expires_in / 60)} minutes`);\n            console.log(`üîê Token cached: access_token=${this.accessToken.substring(0, 10)}..., expires_in=${response.data.expires_in}s, expiry=${new Date(this.tokenExpiry).toISOString()}`);\n            return this.accessToken;\n        } catch (error) {\n            console.error(\"Error refreshing Zoho access token:\", error);\n            throw new Error(\"Failed to authenticate with Zoho\");\n        }\n    }\n    async makeRequest(endpoint) {\n        // Use p-limit rate limiter to prevent 429 errors\n        return this.rateLimiter(async ()=>{\n            try {\n                // Apply rate limiting\n                await this.applyRateLimit();\n                const token = await this.getAccessToken();\n                // Log API call count for monitoring\n                this.requestCount++;\n                console.log(`üìä Zoho API call #${this.requestCount} to: ${endpoint}`);\n                // Validate token before making request\n                if (!token || token === \"undefined\") {\n                    throw new Error(\"Invalid or missing access token\");\n                }\n                // Validate organization before hitting reports endpoints\n                if (!this.organizationValidated && endpoint.startsWith(\"reports/\")) {\n                    await this.validateOrganization(token);\n                }\n                console.info(`Making Zoho API request to: ${endpoint}`);\n                console.info(`Token (first 10 chars): ${token?.substring(0, 10) ?? \"N/A\"}...`);\n                // Create AbortController for timeout\n                const controller = new AbortController();\n                const timeoutId = setTimeout(()=>controller.abort(), 15000); // 15 second timeout\n                try {\n                    const response = await axios__WEBPACK_IMPORTED_MODULE_1__[\"default\"].get(`${this.API_BASE}/books/v3/${endpoint}`, {\n                        headers: {\n                            \"Authorization\": `Bearer ${token}`,\n                            \"Content-Type\": \"application/json\"\n                        },\n                        params: {\n                            organization_id: \"652094923\"\n                        },\n                        timeout: 15000,\n                        signal: controller.signal\n                    });\n                    clearTimeout(timeoutId);\n                    // Reset retry count on success\n                    this.retryCount = 0;\n                    this.requestCount++;\n                    this.lastRequestTime = Date.now();\n                    console.info(`Zoho API request successful: ${endpoint}`);\n                    return response.data;\n                } catch (axiosError) {\n                    clearTimeout(timeoutId);\n                    // Handle timeout specifically\n                    if (axiosError.code === \"ECONNABORTED\" || axiosError.message?.includes(\"timeout\")) {\n                        throw new Error(`Zoho API request timed out for ${endpoint}`);\n                    }\n                    throw axiosError;\n                }\n            } catch (error) {\n                // Handle rate limiting (400 with specific error message)\n                if (hasResponse(error) && error.response?.status === 400 && error.response?.data?.error_description?.includes(\"too many requests\")) {\n                    console.warn(\"Zoho rate limit hit, implementing exponential backoff...\");\n                    await this.handleRateLimit();\n                    // Retry the request after backoff\n                    if (this.retryCount < this.MAX_RETRIES) {\n                        this.retryCount++;\n                        console.info(`Retrying request after rate limit backoff (attempt ${this.retryCount})`);\n                        return this.makeRequest(endpoint);\n                    } else {\n                        throw new Error(\"Zoho API rate limit exceeded after maximum retries. Please try again later.\");\n                    }\n                }\n                // Handle 429 Too Many Requests (explicit rate limit)\n                if (hasResponse(error) && error.response?.status === 429) {\n                    console.warn(\"Zoho 429 rate limit hit, implementing exponential backoff...\");\n                    await this.handleRateLimit();\n                    // Retry the request after backoff\n                    if (this.retryCount < this.MAX_RETRIES) {\n                        this.retryCount++;\n                        console.info(`Retrying request after 429 backoff (attempt ${this.retryCount})`);\n                        return this.makeRequest(endpoint);\n                    } else {\n                        throw new Error(\"Zoho API rate limit exceeded after maximum retries. Please try again later.\");\n                    }\n                }\n                // If we get a 401, try refreshing the token once\n                if (hasResponse(error) && error.response?.status === 401) {\n                    if (hasResponse(error) && error.response?.data?.code === 57) {\n                        console.error(\"Zoho API authorization error (code 57). Likely missing required scopes such as ZohoBooks.reports.READ.\");\n                    }\n                    console.info(\"Token expired, refreshing...\");\n                    // Clear the current token and force a refresh\n                    this.accessToken = null;\n                    this.tokenExpiry = 0;\n                    try {\n                        const newToken = await this.forceRefreshToken();\n                        // Validate the new token\n                        if (!newToken || newToken === \"undefined\") {\n                            throw new Error(\"Failed to obtain valid token after refresh\");\n                        }\n                        console.info(`Retrying request with new token: ${endpoint}`);\n                        // Retry the request with the new token\n                        const retryResponse = await axios__WEBPACK_IMPORTED_MODULE_1__[\"default\"].get(`${this.API_BASE}/books/v3/${endpoint}`, {\n                            headers: {\n                                \"Authorization\": `Bearer ${newToken}`,\n                                \"Content-Type\": \"application/json\"\n                            },\n                            params: {\n                                organization_id: \"652094923\"\n                            },\n                            timeout: 15000\n                        });\n                        console.info(\"Request retry successful after token refresh\");\n                        return retryResponse.data;\n                    } catch (refreshError) {\n                        console.error(\"Failed to refresh token or retry request:\", refreshError);\n                        // Log detailed refresh error information\n                        if (axios__WEBPACK_IMPORTED_MODULE_1__[\"default\"].isAxiosError(refreshError)) {\n                            console.error(\"Token refresh Axios error details:\", {\n                                status: hasResponse(refreshError) ? refreshError.response?.status : undefined,\n                                statusText: hasResponse(refreshError) ? refreshError.response?.statusText : undefined,\n                                data: hasResponse(refreshError) ? refreshError.response?.data : undefined,\n                                message: refreshError.message,\n                                endpoint: endpoint\n                            });\n                        }\n                        // Check if it's a rate limiting issue during token refresh\n                        if (hasResponse(refreshError) && refreshError.response?.status === 400 && refreshError.response?.data?.error_description?.includes(\"too many requests\")) {\n                            throw new Error(`Zoho token refresh rate limited: ${endpoint}. Please wait before retrying.`);\n                        }\n                        // Check if it's an authentication issue during token refresh\n                        if (hasResponse(refreshError) && refreshError.response?.status === 400 && refreshError.response?.data?.error_description?.includes(\"invalid\")) {\n                            throw new Error(`Zoho token refresh failed - invalid credentials: ${endpoint}. Check your OAuth configuration.`);\n                        }\n                        throw new Error(`Zoho API authentication failed after token refresh: ${endpoint}. Error: ${refreshError.message}`);\n                    }\n                }\n                // Log the error details for debugging\n                console.error(`Zoho API request failed for ${endpoint}:`, {\n                    status: hasResponse(error) ? error.response?.status : undefined,\n                    statusText: hasResponse(error) ? error.response?.statusText : undefined,\n                    data: hasResponse(error) ? error.response?.data : undefined,\n                    message: error.message\n                });\n                if (hasResponse(error) && error.response?.data?.code === 57) {\n                    console.error(\"Zoho API authorization error (code 57). Verify organization_id and OAuth scopes (ZohoBooks.reports.READ).\");\n                }\n                throw error;\n            }\n        });\n    }\n    // Check granted scopes for current access token\n    async checkTokenScopes(token) {\n        try {\n            const url = `${this.ACCOUNTS_BASE}/oauth/v2/tokeninfo?token=${encodeURIComponent(token)}`;\n            const res = await axios__WEBPACK_IMPORTED_MODULE_1__[\"default\"].get(url, {\n                timeout: 10000\n            });\n            return res.data;\n        } catch (err) {\n            // Surface concise context but do not fail the main flow\n            const msg = axios__WEBPACK_IMPORTED_MODULE_1__[\"default\"].isAxiosError(err) ? (hasResponse(err) ? err.response?.data : undefined) || err.message : String(err);\n            throw new Error(typeof msg === \"string\" ? msg : JSON.stringify(msg));\n        }\n    }\n    // Validate the configured organization ID by calling organizations endpoint\n    async validateOrganization(token) {\n        try {\n            const orgId = \"652094923\";\n            if (!orgId) {\n                console.warn(\"ZOHO_ORGANIZATION_ID not set. Reports calls may fail.\");\n                return;\n            }\n            const url = `${this.API_BASE}/books/v3/organizations`;\n            const res = await axios__WEBPACK_IMPORTED_MODULE_1__[\"default\"].get(url, {\n                headers: {\n                    \"Authorization\": `Bearer ${token}`,\n                    \"Content-Type\": \"application/json\"\n                },\n                timeout: 15000\n            });\n            const orgs = res.data?.organizations || [];\n            const found = orgs.some((o)=>String(o.organization_id) === String(orgId));\n            if (!found) {\n                console.error(`Provided organization_id=${orgId} not found in Zoho account. Fetched organizations: ${JSON.stringify(orgs)}`);\n            } else {\n                this.organizationValidated = true;\n                console.log(`Validated Zoho organization_id=${orgId}`);\n            }\n        } catch (err) {\n            const status = axios__WEBPACK_IMPORTED_MODULE_1__[\"default\"].isAxiosError(err) ? hasResponse(err) ? err.response?.status : undefined : undefined;\n            const data = axios__WEBPACK_IMPORTED_MODULE_1__[\"default\"].isAxiosError(err) ? hasResponse(err) ? err.response?.data : undefined : undefined;\n            console.error(\"Failed to validate Zoho organization:\", {\n                status,\n                data,\n                message: err.message\n            });\n        // Do not throw; allow request to proceed but logs will help diagnose\n        }\n    }\n    async applyRateLimit() {\n        const now = Date.now();\n        // Check if we need to wait between requests\n        if (this.lastRequestTime > 0) {\n            const timeSinceLastRequest = now - this.lastRequestTime;\n            if (timeSinceLastRequest < this.MIN_REQUEST_INTERVAL) {\n                const waitTime = this.MIN_REQUEST_INTERVAL - timeSinceLastRequest;\n                console.info(`Rate limiting: waiting ${waitTime}ms before next request`);\n                await new Promise((resolve)=>setTimeout(resolve, waitTime));\n            }\n        }\n        // Check if we've exceeded the per-minute limit\n        if (this.requestCount >= this.MAX_REQUESTS_PER_MINUTE) {\n            const timeSinceFirstRequest = now - this.lastRequestTime;\n            if (timeSinceFirstRequest < 60000) {\n                const waitTime = 60000 - timeSinceFirstRequest;\n                console.warn(`Rate limiting: exceeded ${this.MAX_REQUESTS_PER_MINUTE} requests per minute, waiting ${waitTime}ms`);\n                await new Promise((resolve)=>setTimeout(resolve, waitTime));\n                this.requestCount = 0;\n            } else {\n                // Reset counter if more than 1 minute has passed\n                this.requestCount = 0;\n            }\n        }\n    }\n    async handleRateLimit() {\n        const delay = this.BASE_DELAY * Math.pow(2, this.retryCount);\n        const jitter = Math.random() * 1000; // Add up to 1 second of jitter\n        const totalDelay = delay + jitter;\n        console.warn(`Rate limit backoff: waiting ${totalDelay}ms before retry (attempt ${this.retryCount + 1})`);\n        await new Promise((resolve)=>setTimeout(resolve, totalDelay));\n        // Reset request counters to allow fresh start\n        this.requestCount = 0;\n        this.lastRequestTime = 0;\n    }\n    async getProjects() {\n        try {\n            let allProjects = [];\n            let page = 1;\n            const perPage = 200;\n            while(true){\n                const data = await this.makeRequest(`projects?page=${page}&per_page=${perPage}`);\n                const projects = data.projects?.map((project)=>{\n                    // Log the first project to see available fields\n                    if (page === 1 && allProjects.length === 0) {\n                        console.log(\"Sample Zoho project data:\", JSON.stringify(project, null, 2));\n                    }\n                    return {\n                        project_id: project.project_id,\n                        project_name: project.project_name || project.name || \"\",\n                        description: project.description || \"\",\n                        status: project.status || \"active\",\n                        start_date: project.start_date || \"\",\n                        end_date: project.end_date || \"\",\n                        budget_amount: project.budget_amount || 0,\n                        rate_per_hour: project.rate_per_hour || 0,\n                        customer_id: project.customer_id || \"\",\n                        customer_name: project.customer_name || \"\",\n                        signed_fee: undefined\n                    };\n                }) || [];\n                allProjects = allProjects.concat(projects);\n                // Check if we've reached the end\n                if (projects.length < perPage) {\n                    break;\n                }\n                page++;\n            }\n            console.log(`Fetched ${allProjects.length} projects from Zoho`);\n            return allProjects;\n        } catch (error) {\n            console.error(\"Error fetching projects:\", error);\n            return [];\n        }\n    }\n    async getProjectsWithRevenueBudget() {\n        try {\n            console.log(\"Fetching projects with revenue budget data...\");\n            const projects = await this.getProjects();\n            // Log projects that have revenue_budget data\n            const projectsWithRevenueBudget = projects.filter((project)=>{\n                const hasRevenueBudget = project.signed_fee && project.signed_fee > 0;\n                if (hasRevenueBudget) {\n                    console.log(`Project ${project.project_name} has revenue budget: $${project.signed_fee}`);\n                }\n                return hasRevenueBudget;\n            });\n            console.log(`Found ${projectsWithRevenueBudget.length} projects with revenue budget data`);\n            return projects;\n        } catch (error) {\n            console.error(\"Error fetching projects with revenue budget:\", error);\n            return [];\n        }\n    }\n    async debugProjectFields() {\n        try {\n            console.log(\"Debugging Zoho project fields...\");\n            const data = await this.makeRequest(\"projects?page=1&per_page=5\");\n            if (data.projects && data.projects.length > 0) {\n                console.log(\"Available fields in Zoho project response:\");\n                const sampleProject = data.projects[0];\n                Object.keys(sampleProject).forEach((key)=>{\n                    console.log(`  ${key}: ${sampleProject[key]} (${typeof sampleProject[key]})`);\n                });\n                // Check specifically for revenue_budget\n                if (sampleProject.revenue_budget !== undefined) {\n                    console.log(`‚úÖ Found revenue_budget field: ${sampleProject.revenue_budget}`);\n                } else {\n                    console.log(\"‚ùå revenue_budget field not found in Zoho response\");\n                    console.log(\"Available budget-related fields:\");\n                    Object.keys(sampleProject).forEach((key)=>{\n                        if (key.toLowerCase().includes(\"budget\") || key.toLowerCase().includes(\"revenue\")) {\n                            console.log(`  ${key}: ${sampleProject[key]}`);\n                        }\n                    });\n                }\n            } else {\n                console.log(\"No projects found in Zoho response\");\n            }\n        } catch (error) {\n            console.error(\"Error debugging project fields:\", error);\n        }\n    }\n    async getProjectsWithEstimates() {\n        try {\n            const projects = await this.getProjects();\n            // For the first few projects, try to get estimates to see if that contains the signed fee\n            const projectsWithEstimates = await Promise.all(projects.slice(0, 5).map(async (project)=>{\n                try {\n                    const estimates = await this.getProjectEstimates(project.project_id);\n                    const totalEstimateAmount = estimates.reduce((sum, estimate)=>sum + (estimate.total || 0), 0);\n                    console.log(`Project ${project.project_name} estimates:`, estimates.length, \"total amount:\", totalEstimateAmount);\n                    return {\n                        ...project,\n                        signed_fee: project.signed_fee || totalEstimateAmount || 0\n                    };\n                } catch (error) {\n                    console.error(`Error fetching estimates for project ${project.project_id}:`, error);\n                    return project;\n                }\n            }));\n            // Return all projects, with the first 5 having updated signed fees from estimates\n            return [\n                ...projectsWithEstimates,\n                ...projects.slice(5)\n            ];\n        } catch (error) {\n            console.error(\"Error fetching projects with estimates:\", error);\n            return [];\n        }\n    }\n    async getProjectsWithInvoiceTotals() {\n        try {\n            const [projects, invoices] = await Promise.all([\n                this.getProjects(),\n                this.getInvoices()\n            ]);\n            // Calculate signed fee as total of all invoices for each project\n            const projectsWithInvoiceTotals = projects.map((project)=>{\n                const projectInvoices = invoices.filter((invoice)=>invoice.project_id === project.project_id);\n                const totalInvoiceAmount = projectInvoices.reduce((sum, invoice)=>sum + invoice.amount, 0);\n                console.log(`Project ${project.project_name} invoices:`, projectInvoices.length, \"total amount:\", totalInvoiceAmount);\n                return {\n                    ...project,\n                    signed_fee: project.signed_fee || totalInvoiceAmount || 0\n                };\n            });\n            return projectsWithInvoiceTotals;\n        } catch (error) {\n            console.error(\"Error fetching projects with invoice totals:\", error);\n            return [];\n        }\n    }\n    async getInvoices() {\n        try {\n            console.log(\"\\uD83D\\uDCC4 Fetching invoices from Zoho...\");\n            const data = await this.makeRequest(\"invoices\");\n            const invoices = data.invoices?.map((invoice)=>({\n                    invoice_id: invoice.invoice_id,\n                    project_id: invoice.project_id,\n                    invoice_number: invoice.invoice_number,\n                    date: invoice.date,\n                    amount: invoice.total,\n                    status: invoice.status,\n                    billed_amount: invoice.billed_amount || 0,\n                    unbilled_amount: invoice.unbilled_amount || 0\n                })) || [];\n            // Log invoice counts and details\n            console.log(`üìä Zoho invoices fetched: ${invoices.length} total invoices`);\n            if (invoices.length > 0) {\n                const statusCounts = invoices.reduce((acc, inv)=>{\n                    acc[inv.status] = (acc[inv.status] || 0) + 1;\n                    return acc;\n                }, {});\n                console.log(\"\\uD83D\\uDCCB Invoice status breakdown:\", statusCounts);\n                // Log sample invoice data for debugging\n                const sampleInvoice = invoices[0];\n                console.log(\"\\uD83D\\uDCC4 Sample invoice data:\", {\n                    id: sampleInvoice.invoice_id,\n                    number: sampleInvoice.invoice_number,\n                    project: sampleInvoice.project_id,\n                    amount: sampleInvoice.amount,\n                    status: sampleInvoice.status\n                });\n            }\n            return invoices;\n        } catch (error) {\n            console.error(\"Error fetching invoices:\", error);\n            return [];\n        }\n    }\n    async getProjectInvoices(projectId) {\n        try {\n            const data = await this.makeRequest(`projects/${projectId}/invoices`);\n            return data.invoices?.map((invoice)=>({\n                    invoice_id: invoice.invoice_id,\n                    project_id: invoice.project_id,\n                    invoice_number: invoice.invoice_number,\n                    date: invoice.date,\n                    amount: invoice.total,\n                    status: invoice.status,\n                    billed_amount: invoice.billed_amount || 0,\n                    unbilled_amount: invoice.unbilled_amount || 0\n                })) || [];\n        } catch (error) {\n            console.error(\"Error fetching project invoices:\", error);\n            return [];\n        }\n    }\n    async getProjectDetails(projectId) {\n        try {\n            const data = await this.makeRequest(`projects/${projectId}`);\n            console.log(`Project ${projectId} details:`, JSON.stringify(data, null, 2));\n            return data;\n        } catch (error) {\n            console.error(\"Error fetching project details:\", error);\n            return null;\n        }\n    }\n    async getProjectEstimates(projectId) {\n        try {\n            const data = await this.makeRequest(`projects/${projectId}/estimates`);\n            console.log(`Project ${projectId} estimates:`, JSON.stringify(data, null, 2));\n            return data.estimates || [];\n        } catch (error) {\n            console.error(\"Error fetching project estimates:\", error);\n            return [];\n        }\n    }\n    async getProjectContracts(projectId) {\n        try {\n            const data = await this.makeRequest(`projects/${projectId}/contracts`);\n            console.log(`Project ${projectId} contracts:`, JSON.stringify(data, null, 2));\n            return data.contracts || [];\n        } catch (error) {\n            console.error(\"Error fetching project contracts:\", error);\n            return [];\n        }\n    }\n    // New method to get Profit & Loss statement\n    async getProfitAndLoss(startDate, endDate) {\n        try {\n            console.info(`üìä Fetching Zoho Profit & Loss for ${startDate} to ${endDate}`);\n            const data = await this.makeRequest(`reports/profitandloss?from_date=${startDate}&to_date=${endDate}`);\n            const sizeBytes = JSON.stringify(data || {}).length;\n            const keys = Object.keys(data || {}).length;\n            console.info(`‚úÖ Profit & Loss data fetched successfully (keys: ${keys}, bytes: ${sizeBytes})`);\n            if (!data || keys === 0) {\n                console.warn(\"No data for reports/profitandloss. Verify organization ID, date range (2025-01-01 to 2025-08-13), or data in Zoho dashboard.\");\n            }\n            return data;\n        } catch (error) {\n            console.error(\"‚ùå Error fetching Profit & Loss:\", error);\n            console.warn(\"\\uD83C\\uDFAD Profit & Loss data unavailable, will use defaults\");\n            return null;\n        }\n    }\n    // New method to get Cash Flow statement\n    async getCashFlow(startDate, endDate) {\n        try {\n            console.info(`üí∞ Fetching Zoho Cash Flow for ${startDate} to ${endDate}`);\n            const data = await this.makeRequest(`reports/cashflow?from_date=${startDate}&to_date=${endDate}`);\n            const sizeBytes = JSON.stringify(data || {}).length;\n            const keys = Object.keys(data || {}).length;\n            console.info(`‚úÖ Cash Flow data fetched successfully (keys: ${keys}, bytes: ${sizeBytes})`);\n            if (!data || keys === 0) {\n                console.warn(\"No data for reports/cashflow. Verify organization ID, date range (2025-01-01 to 2025-08-13), or data in Zoho dashboard.\");\n            }\n            return data;\n        } catch (error) {\n            console.error(\"‚ùå Error fetching Cash Flow:\", error);\n            console.warn(\"\\uD83C\\uDFAD Cash Flow data unavailable, will use defaults\");\n            return null;\n        }\n    }\n    // New method to get Balance Sheet\n    async getBalanceSheet(date) {\n        try {\n            console.info(`üìà Fetching Zoho Balance Sheet for ${date}`);\n            const data = await this.makeRequest(`reports/balancesheet?date=${date}`);\n            const sizeBytes = JSON.stringify(data || {}).length;\n            const keys = Object.keys(data || {}).length;\n            console.info(`‚úÖ Balance Sheet data fetched successfully (keys: ${keys}, bytes: ${sizeBytes})`);\n            if (!data || keys === 0) {\n                console.warn(\"No data for reports/balancesheet. Verify organization ID, date range (2025-01-01 to 2025-08-13), or data in Zoho dashboard.\");\n            }\n            return data;\n        } catch (error) {\n            console.error(\"‚ùå Error fetching Balance Sheet:\", error);\n            console.warn(\"\\uD83C\\uDFAD Balance Sheet data unavailable, will use defaults\");\n            return null;\n        }\n    }\n    // New method to get Chart of Accounts\n    async getChartOfAccounts() {\n        try {\n            const data = await this.makeRequest(\"chartofaccounts\");\n            console.log(\"Chart of Accounts data:\", JSON.stringify(data, null, 2));\n            return data.chartofaccounts || [];\n        } catch (error) {\n            console.error(\"Error fetching Chart of Accounts:\", error);\n            return [];\n        }\n    }\n    // New method to get Journal Entries for a date range\n    async getJournalEntries(startDate, endDate) {\n        try {\n            const data = await this.makeRequest(`journalentries?from_date=${startDate}&to_date=${endDate}`);\n            console.log(\"Journal Entries data:\", JSON.stringify(data, null, 2));\n            return data.journalentries || [];\n        } catch (error) {\n            console.error(\"Error fetching Journal Entries:\", error);\n            return [];\n        }\n    }\n    // New method to get comprehensive financial metrics\n    async getFinancialMetrics(startDate, endDate) {\n        try {\n            console.info(`üí∞ Fetching Zoho financial metrics for ${startDate} to ${endDate}`);\n            const [plData, cfData, bsData] = await Promise.allSettled([\n                this.getProfitAndLoss(startDate, endDate),\n                this.getCashFlow(startDate, endDate),\n                this.getBalanceSheet(endDate)\n            ]);\n            // Log raw response status and body length for each report\n            console.info(\"\\uD83D\\uDCCA Financial reports raw response details:\", {\n                profitLoss: {\n                    status: plData.status,\n                    bodyLength: plData.status === \"fulfilled\" ? JSON.stringify(plData.value || {}).length : \"N/A\",\n                    hasData: plData.status === \"fulfilled\" && plData.value && Object.keys(plData.value || {}).length > 0\n                },\n                cashFlow: {\n                    status: cfData.status,\n                    bodyLength: cfData.status === \"fulfilled\" ? JSON.stringify(cfData.value || {}).length : \"N/A\",\n                    hasData: cfData.status === \"fulfilled\" && cfData.value && Object.keys(cfData.value || {}).length > 0\n                },\n                balanceSheet: {\n                    status: bsData.status,\n                    bodyLength: bsData.status === \"fulfilled\" ? JSON.stringify(bsData.value || {}).length : \"N/A\",\n                    hasData: bsData.status === \"fulfilled\" && bsData.value && Object.keys(bsData.value || {}).length > 0\n                }\n            });\n            // Check for 404 errors and log specific warnings\n            if (plData.status === \"rejected\") {\n                const error = plData.reason;\n                if (hasResponse(error) && error.response?.status === 404) {\n                    console.warn(\"‚ö†Ô∏è Profit & Loss returned 404 - Invalid endpoint - check Zoho API docs\");\n                } else {\n                    console.warn(\"‚ö†Ô∏è Profit & Loss data failed:\", plData.reason);\n                }\n            }\n            if (cfData.status === \"rejected\") {\n                const error = cfData.reason;\n                if (hasResponse(error) && error.response?.status === 404) {\n                    console.warn(\"‚ö†Ô∏è Cash Flow returned 404 - Invalid endpoint - check Zoho API docs\");\n                } else {\n                    console.warn(\"‚ö†Ô∏è Cash Flow data failed:\", cfData.reason);\n                }\n            }\n            if (bsData.status === \"rejected\") {\n                const error = bsData.reason;\n                if (hasResponse(error) && error.response?.status === 404) {\n                    console.warn(\"‚ö†Ô∏è Balance Sheet returned 404 - Invalid endpoint - check Zoho API docs\");\n                } else {\n                    console.warn(\"‚ö†Ô∏è Balance Sheet data failed:\", bsData.reason);\n                }\n            }\n            // Extract financial metrics from the responses with fallbacks\n            const revenue = plData.status === \"fulfilled\" ? plData.value?.revenue?.total || 0 : 0;\n            const expenses = plData.status === \"fulfilled\" ? plData.value?.expenses?.total || 0 : 0;\n            const grossProfit = revenue - expenses;\n            // Calculate net profit (may need adjustment based on actual Zoho response structure)\n            const operatingExpenses = plData.status === \"fulfilled\" ? plData.value?.operating_expenses?.total || 0 : 0;\n            const netProfit = grossProfit - operatingExpenses;\n            const operatingIncome = grossProfit - operatingExpenses;\n            // Extract cash flow data\n            const cashFlow = cfData.status === \"fulfilled\" ? cfData.value?.net_cash_flow || 0 : 0;\n            const accountsReceivable = bsData.status === \"fulfilled\" ? bsData.value?.current_assets?.accounts_receivable || 0 : 0;\n            const accountsPayable = bsData.status === \"fulfilled\" ? bsData.value?.current_liabilities?.accounts_payable || 0 : 0;\n            const cashBalance = bsData.status === \"fulfilled\" ? bsData.value?.current_assets?.cash_and_bank || 0 : 0;\n            // Log which data sources succeeded/failed\n            console.info(\"\\uD83D\\uDCCA Financial metrics data sources:\", {\n                profitLoss: plData.status === \"fulfilled\" ? \"‚úÖ\" : \"‚ùå\",\n                cashFlow: cfData.status === \"fulfilled\" ? \"‚úÖ\" : \"‚ùå\",\n                balanceSheet: bsData.status === \"fulfilled\" ? \"‚úÖ\" : \"‚ùå\"\n            });\n            return {\n                revenue,\n                expenses,\n                grossProfit,\n                netProfit,\n                operatingIncome,\n                cashFlow,\n                accountsReceivable,\n                accountsPayable,\n                cashBalance\n            };\n        } catch (error) {\n            console.error(\"‚ùå Error fetching financial metrics:\", error);\n            console.warn(\"\\uD83C\\uDFAD Returning default financial metrics due to API failure\");\n            // Return default values if API calls fail\n            return {\n                revenue: 0,\n                expenses: 0,\n                grossProfit: 0,\n                netProfit: 0,\n                operatingIncome: 0,\n                cashFlow: 0,\n                accountsReceivable: 0,\n                accountsPayable: 0,\n                cashBalance: 0\n            };\n        }\n    }\n    // Method to manually refresh token (for testing)\n    async forceRefreshToken() {\n        this.accessToken = null;\n        this.tokenExpiry = 0;\n        this.lastRefreshTime = Date.now(); // Track manual refresh time\n        return await this.getAccessToken();\n    }\n    // Get token status for debugging\n    getTokenStatus() {\n        const now = Date.now();\n        return {\n            hasToken: !!this.accessToken,\n            expiresIn: this.tokenExpiry - now,\n            isExpired: now >= this.tokenExpiry\n        };\n    }\n    // Method to get auto-refresh status\n    getAutoRefreshStatus() {\n        const now = Date.now();\n        const timeSinceLastRefresh = now - this.lastRefreshTime;\n        const nextRefreshIn = Math.max(0, this.AUTO_REFRESH_INTERVAL - timeSinceLastRefresh);\n        return {\n            isActive: !!this.autoRefreshTimer,\n            nextRefreshIn\n        };\n    }\n    // Public method to start auto-refresh\n    enableAutoRefresh() {\n        this._startAutoRefresh();\n    }\n    // Public method to stop auto-refresh\n    disableAutoRefresh() {\n        this._stopAutoRefresh();\n    }\n    // Public method to get comprehensive status\n    getStatus() {\n        return {\n            ...this.getTokenStatus(),\n            autoRefresh: this.getAutoRefreshStatus()\n        };\n    }\n}\nconst zohoService = new ZohoService();\n// Export the functions that are being imported in page.tsx\nconst fetchProjects = async ()=>{\n    try {\n        console.log(\"Client: Fetching projects from API\");\n        const response = await fetch(\"/api/projects\");\n        const result = await response.json();\n        if (result.success) {\n            console.log(\"Client: Successfully fetched\", result.count, \"projects\");\n            return result.data;\n        } else {\n            console.error(\"Client: API returned error:\", result.error);\n            throw new Error(result.error);\n        }\n    } catch (error) {\n        console.error(\"Client: Error fetching projects:\", error);\n        throw error;\n    }\n};\nconst fetchInvoices = async ()=>{\n    try {\n        console.log(\"Client: Fetching invoices from API\");\n        const response = await fetch(\"/api/invoices\");\n        const result = await response.json();\n        if (result.success) {\n            console.log(\"Client: Successfully fetched\", result.count, \"invoices\");\n            return result.data;\n        } else {\n            console.error(\"Client: API returned error:\", result.error);\n            throw new Error(result.error);\n        }\n    } catch (error) {\n        console.error(\"Client: Error fetching invoices:\", error);\n        throw error;\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TUFBTTJOLGdCQUFnQjtJQUMzQixJQUFJO1FBQ0ZsTyxRQUFRQyxHQUFHLENBQUM7UUFDWixNQUFNeUIsV0FBVyxNQUFNbU0sTUFBTTtRQUM3QixNQUFNQyxTQUFTLE1BQU1wTSxTQUFTcU0sSUFBSTtRQUVsQyxJQUFJRCxPQUFPRSxPQUFPLEVBQUU7WUFDbEJoTyxRQUFRQyxHQUFHLENBQUMsZ0NBQWdDNk4sT0FBT0csS0FBSyxFQUFFO1lBQzFELE9BQU9ILE9BQU9qTSxJQUFJO1FBQ3BCLE9BQU87WUFDTDdCLFFBQVFPLEtBQUssQ0FBQywrQkFBK0J1TixPQUFPdk4sS0FBSztZQUN6RCxNQUFNLElBQUlhLE1BQU0wTSxPQUFPdk4sS0FBSztRQUM5QjtJQUNGLEVBQUUsT0FBT0EsT0FBTztRQUNkUCxRQUFRTyxLQUFLLENBQUMsb0NBQW9DQTtRQUNsRCxNQUFNQTtJQUNSO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL3pvaG8tYmlsbGluZy1wbGF0Zm9ybS8uL2xpYi96b2hvLnRzP2U3MGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcclxuaW1wb3J0IHBMaW1pdCBmcm9tICdwLWxpbWl0JztcclxuXHJcbi8vIFR5cGUgZ3VhcmQgZm9yIGVycm9ycyB3aXRoIHJlc3BvbnNlIHByb3BlcnR5XHJcbmNvbnN0IGhhc1Jlc3BvbnNlID0gKGVycjogdW5rbm93bik6IGVyciBpcyB7IHJlc3BvbnNlOiB7IHN0YXR1cz86IG51bWJlcjsgc3RhdHVzVGV4dD86IHN0cmluZzsgZGF0YT86IGFueTsgaGVhZGVycz86IGFueSB9IH0gPT4ge1xyXG4gIHJldHVybiB0eXBlb2YgZXJyID09PSAnb2JqZWN0JyAmJiBlcnIgIT09IG51bGwgJiYgJ3Jlc3BvbnNlJyBpbiBlcnI7XHJcbn07XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFpvaG9Qcm9qZWN0IHtcclxuICBwcm9qZWN0X2lkOiBzdHJpbmc7XHJcbiAgcHJvamVjdF9uYW1lOiBzdHJpbmc7IC8vIENoYW5nZWQgZnJvbSBuYW1lIHRvIHByb2plY3RfbmFtZVxyXG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xyXG4gIHN0YXR1czogc3RyaW5nO1xyXG4gIHN0YXJ0X2RhdGU6IHN0cmluZztcclxuICBlbmRfZGF0ZT86IHN0cmluZztcclxuICBidWRnZXRfYW1vdW50PzogbnVtYmVyO1xyXG4gIHJhdGVfcGVyX2hvdXI/OiBudW1iZXI7XHJcbiAgY3VzdG9tZXJfaWQ6IHN0cmluZztcclxuICBjdXN0b21lcl9uYW1lOiBzdHJpbmc7XHJcbiAgc2lnbmVkX2ZlZT86IG51bWJlcjsgLy8gQWRkZWQgZm9yIFNpZ25lZCBGZWUgZnJvbSBab2hvXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgWm9ob0ludm9pY2Uge1xyXG4gIGludm9pY2VfaWQ6IHN0cmluZztcclxuICBwcm9qZWN0X2lkOiBzdHJpbmc7XHJcbiAgaW52b2ljZV9udW1iZXI6IHN0cmluZztcclxuICBkYXRlOiBzdHJpbmc7XHJcbiAgYW1vdW50OiBudW1iZXI7XHJcbiAgc3RhdHVzOiBzdHJpbmc7XHJcbiAgYmlsbGVkX2Ftb3VudDogbnVtYmVyO1xyXG4gIHVuYmlsbGVkX2Ftb3VudDogbnVtYmVyO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgVG9rZW5SZXNwb25zZSB7XHJcbiAgYWNjZXNzX3Rva2VuOiBzdHJpbmc7XHJcbiAgZXhwaXJlc19pbjogbnVtYmVyO1xyXG4gIGFwaV9kb21haW46IHN0cmluZztcclxuICB0b2tlbl90eXBlOiBzdHJpbmc7XHJcbiAgcmVmcmVzaF90b2tlbj86IHN0cmluZztcclxufVxyXG5cclxuY2xhc3MgWm9ob1NlcnZpY2Uge1xyXG4gIHByaXZhdGUgYWNjZXNzVG9rZW46IHN0cmluZyB8IG51bGwgPSBudWxsO1xyXG4gIHByaXZhdGUgdG9rZW5FeHBpcnk6IG51bWJlciA9IDA7XHJcbiAgcHJpdmF0ZSByZWZyZXNoUHJvbWlzZTogUHJvbWlzZTxzdHJpbmc+IHwgbnVsbCA9IG51bGw7XHJcbiAgcHJpdmF0ZSByZWFkb25seSBUT0tFTl9SRUZSRVNIX0JVRkZFUiA9IDEwICogNjAgKiAxMDAwOyAvLyAxMCBtaW51dGVzIGJ1ZmZlciAoaW5jcmVhc2VkIGZvciBiZXR0ZXIgY2FjaGluZylcclxuICBwcml2YXRlIGF1dG9SZWZyZXNoVGltZXI6IE5vZGVKUy5UaW1lb3V0IHwgbnVsbCA9IG51bGw7XHJcbiAgcHJpdmF0ZSByZWFkb25seSBBVVRPX1JFRlJFU0hfSU5URVJWQUwgPSA0NSAqIDYwICogMTAwMDsgLy8gNDUgbWludXRlc1xyXG4gIHByaXZhdGUgbGFzdFJlZnJlc2hUaW1lOiBudW1iZXIgPSAwOyAvLyBUcmFjayB3aGVuIGF1dG8tcmVmcmVzaCB3YXMgbGFzdCB0cmlnZ2VyZWRcclxuICBwcml2YXRlIHJlYWRvbmx5IEFDQ09VTlRTX0JBU0UgPSBwcm9jZXNzLmVudi5aT0hPX0FDQ09VTlRTX0JBU0UgfHwgJ2h0dHBzOi8vYWNjb3VudHMuem9oby5jb20nO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgQVBJX0JBU0UgPSBwcm9jZXNzLmVudi5aT0hPX0FQSV9CQVNFIHx8ICdodHRwczovL3d3dy56b2hvYXBpcy5jb20nO1xyXG4gIHByaXZhdGUgb3JnYW5pemF0aW9uVmFsaWRhdGVkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgXHJcbiAgLy8gUmF0ZSBsaW1pdGluZyBwcm9wZXJ0aWVzXHJcbiAgcHJpdmF0ZSByZXF1ZXN0Q291bnQ6IG51bWJlciA9IDA7XHJcbiAgcHJpdmF0ZSBsYXN0UmVxdWVzdFRpbWU6IG51bWJlciA9IDA7XHJcbiAgcHJpdmF0ZSByZWFkb25seSBNQVhfUkVRVUVTVFNfUEVSX01JTlVURSA9IDgwOyAvLyBDb25zZXJ2YXRpdmUgbGltaXQgKFpvaG8gYWxsb3dzIDEwMCwgd2UgdXNlIDgwKVxyXG4gIHByaXZhdGUgcmVhZG9ubHkgTUlOX1JFUVVFU1RfSU5URVJWQUwgPSAyMDAwOyAvLyAyIHNlY29uZHMgYmV0d2VlbiByZXF1ZXN0cyAocmVkdWNlZCBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlKVxyXG4gIHByaXZhdGUgcmV0cnlDb3VudDogbnVtYmVyID0gMDtcclxuICBwcml2YXRlIHJlYWRvbmx5IE1BWF9SRVRSSUVTID0gNTsgLy8gSW5jcmVhc2VkIGZyb20gMyB0byA1XHJcbiAgcHJpdmF0ZSByZWFkb25seSBCQVNFX0RFTEFZID0gNTAwMDsgLy8gSW5jcmVhc2VkIGZyb20gMjAwMCB0byA1MDAwbXMgYmFzZSBkZWxheSBmb3IgZXhwb25lbnRpYWwgYmFja29mZlxyXG4gIHByaXZhdGUgY2FjaGVkQWNjZXNzVG9rZW46IHN0cmluZyB8IG51bGwgPSBudWxsOyAvLyBGYWxsYmFjayBjYWNoZWQgdG9rZW5cclxuICBcclxuICAvLyBwLWxpbWl0IHJhdGUgbGltaXRlciBmb3IgY29uY3VycmVudCBBUEkgY2FsbHNcclxuICBwcml2YXRlIHJlYWRvbmx5IHJhdGVMaW1pdGVyID0gcExpbWl0KDUwKTsgLy8gTGltaXQgdG8gNTAgY29uY3VycmVudCBjYWxsc1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIC8vIFN0YXJ0IGF1dG9tYXRpYyB0b2tlbiByZWZyZXNoXHJcbiAgICB0aGlzLl9zdGFydEF1dG9SZWZyZXNoKCk7XHJcbiAgICBjb25zb2xlLmxvZyhgWm9obyBBUEkgYmFzZTogJHt0aGlzLkFQSV9CQVNFfSB8IEFjY291bnRzIGJhc2U6ICR7dGhpcy5BQ0NPVU5UU19CQVNFfWApO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfc3RhcnRBdXRvUmVmcmVzaCgpOiB2b2lkIHtcclxuICAgIC8vIENsZWFyIGFueSBleGlzdGluZyB0aW1lclxyXG4gICAgaWYgKHRoaXMuYXV0b1JlZnJlc2hUaW1lcikge1xyXG4gICAgICBjbGVhckludGVydmFsKHRoaXMuYXV0b1JlZnJlc2hUaW1lcik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2V0IHVwIGF1dG9tYXRpYyByZWZyZXNoIGV2ZXJ5IDQ1IG1pbnV0ZXNcclxuICAgIHRoaXMuYXV0b1JlZnJlc2hUaW1lciA9IHNldEludGVydmFsKGFzeW5jICgpID0+IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zb2xlLmxvZygnQXV0by1yZWZyZXNoaW5nIFpvaG8gdG9rZW4gKDQ1LW1pbnV0ZSBpbnRlcnZhbCkuLi4nKTtcclxuICAgICAgICB0aGlzLmxhc3RSZWZyZXNoVGltZSA9IERhdGUubm93KCk7IC8vIFRyYWNrIHdoZW4gcmVmcmVzaCB3YXMgdHJpZ2dlcmVkXHJcbiAgICAgICAgYXdhaXQgdGhpcy5mb3JjZVJlZnJlc2hUb2tlbigpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdBdXRvLXJlZnJlc2ggY29tcGxldGVkIHN1Y2Nlc3NmdWxseScpO1xyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0F1dG8tcmVmcmVzaCBmYWlsZWQ6JywgZXJyb3IpO1xyXG4gICAgICB9XHJcbiAgICB9LCB0aGlzLkFVVE9fUkVGUkVTSF9JTlRFUlZBTCk7XHJcblxyXG4gICAgLy8gU2V0IGluaXRpYWwgcmVmcmVzaCB0aW1lXHJcbiAgICB0aGlzLmxhc3RSZWZyZXNoVGltZSA9IERhdGUubm93KCk7XHJcbiAgICBjb25zb2xlLmxvZygnQXV0b21hdGljIFpvaG8gdG9rZW4gcmVmcmVzaCBzdGFydGVkIChldmVyeSA0NSBtaW51dGVzKScpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfc3RvcEF1dG9SZWZyZXNoKCk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuYXV0b1JlZnJlc2hUaW1lcikge1xyXG4gICAgICBjbGVhckludGVydmFsKHRoaXMuYXV0b1JlZnJlc2hUaW1lcik7XHJcbiAgICAgIHRoaXMuYXV0b1JlZnJlc2hUaW1lciA9IG51bGw7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdBdXRvbWF0aWMgWm9obyB0b2tlbiByZWZyZXNoIHN0b3BwZWQnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXN5bmMgZ2V0QWNjZXNzVG9rZW4oKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XHJcbiAgICAgIGNvbnN0IHRpbWVVbnRpbEV4cGlyeSA9IHRoaXMudG9rZW5FeHBpcnkgLSBub3c7XHJcbiAgICAgIFxyXG4gICAgICAvLyBDaGVjayBpZiB3ZSBoYXZlIGEgdmFsaWQgdG9rZW4gd2l0aCBzdWZmaWNpZW50IGJ1ZmZlciB0aW1lXHJcbiAgICAgIGlmICh0aGlzLmFjY2Vzc1Rva2VuICYmIHRpbWVVbnRpbEV4cGlyeSA+IHRoaXMuVE9LRU5fUkVGUkVTSF9CVUZGRVIgJiYgcHJvY2Vzcy5lbnYuWk9IT19GT1JDRV9SRUZSRVNIICE9PSAndHJ1ZScpIHtcclxuICAgICAgICBjb25zdCBtaW51dGVzTGVmdCA9IE1hdGgucm91bmQodGltZVVudGlsRXhwaXJ5IC8gNjAwMDApO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5SQIFVzaW5nIGNhY2hlZCB0b2tlbiAoZXhwaXJlcyBpbiAke21pbnV0ZXNMZWZ0fSBtaW51dGVzKWApO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFjY2Vzc1Rva2VuO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBMb2cgdG9rZW4gc3RhdHVzIGZvciBkZWJ1Z2dpbmdcclxuICAgICAgaWYgKHRoaXMuYWNjZXNzVG9rZW4gJiYgdGltZVVudGlsRXhwaXJ5ID4gMCkge1xyXG4gICAgICAgIGNvbnN0IG1pbnV0ZXNMZWZ0ID0gTWF0aC5yb3VuZCh0aW1lVW50aWxFeHBpcnkgLyA2MDAwMCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coYOKaoO+4jyBUb2tlbiBleHBpcmVzIHNvb24gKCR7bWludXRlc0xlZnR9IG1pbnV0ZXMpLCByZWZyZXNoaW5nIHByb2FjdGl2ZWx5YCk7XHJcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5hY2Nlc3NUb2tlbikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFRva2VuIGV4cGlyZWQsIHJlZnJlc2hpbmcuLi4nKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmxvZygn8J+GlSBObyB0b2tlbiBhdmFpbGFibGUsIG9idGFpbmluZyBuZXcgb25lLi4uJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCdUb2tlbiBleHBpcmVkIG9yIG1pc3NpbmcsIHJlZnJlc2hpbmcuLi4nKTtcclxuICAgICAgXHJcbiAgICAgIC8vIENsZWFyIGFueSBleGlzdGluZyB0b2tlblxyXG4gICAgICB0aGlzLmFjY2Vzc1Rva2VuID0gbnVsbDtcclxuICAgICAgdGhpcy50b2tlbkV4cGlyeSA9IDA7XHJcblxyXG4gICAgICBpZiAoIXByb2Nlc3MuZW52LlpPSE9fQ0xJRU5UX0lEIHx8ICFwcm9jZXNzLmVudi5aT0hPX0NMSUVOVF9TRUNSRVQgfHwgIXByb2Nlc3MuZW52LlpPSE9fUkVGUkVTSF9UT0tFTikge1xyXG4gICAgICAgIGNvbnN0IG1pc3NpbmdWYXJzID0gW107XHJcbiAgICAgICAgaWYgKCFwcm9jZXNzLmVudi5aT0hPX0NMSUVOVF9JRCkgbWlzc2luZ1ZhcnMucHVzaCgnWk9IT19DTElFTlRfSUQnKTtcclxuICAgICAgICBpZiAoIXByb2Nlc3MuZW52LlpPSE9fQ0xJRU5UX1NFQ1JFVCkgbWlzc2luZ1ZhcnMucHVzaCgnWk9IT19DTElFTlRfU0VDUkVUJyk7XHJcbiAgICAgICAgaWYgKCFwcm9jZXNzLmVudi5aT0hPX1JFRlJFU0hfVE9LRU4pIG1pc3NpbmdWYXJzLnB1c2goJ1pPSE9fUkVGUkVTSF9UT0tFTicpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyByZXF1aXJlZCBab2hvIGVudmlyb25tZW50IHZhcmlhYmxlczogJHttaXNzaW5nVmFycy5qb2luKCcsICcpfWApO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIEVuc3VyZSBvbmx5IG9uZSByZWZyZXNoIGhhcHBlbnMgYXQgYSB0aW1lIGFjcm9zcyBjb25jdXJyZW50IHJlcXVlc3RzXHJcbiAgICAgIGlmICghdGhpcy5yZWZyZXNoUHJvbWlzZSkge1xyXG4gICAgICAgIHRoaXMucmVmcmVzaFByb21pc2UgPSB0aGlzLl9wZXJmb3JtVG9rZW5SZWZyZXNoV2l0aEJhY2tvZmYoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCB0aGlzLnJlZnJlc2hQcm9taXNlO1xyXG4gICAgICAvLyBDbGVhciB0aGUgaW4tZmxpZ2h0IHByb21pc2UgYWZ0ZXIgY29tcGxldGlvblxyXG4gICAgICB0aGlzLnJlZnJlc2hQcm9taXNlID0gbnVsbDtcclxuICAgICAgcmV0dXJuIHRva2VuO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVmcmVzaGluZyBab2hvIGFjY2VzcyB0b2tlbjonLCBlcnJvcik7XHJcbiAgICAgIFxyXG4gICAgICAvLyBMb2cgc3BlY2lmaWMgZXJyb3IgZGV0YWlscyBmb3IgZGVidWdnaW5nXHJcbiAgICAgIGlmIChheGlvcy5pc0F4aW9zRXJyb3IoZXJyb3IpKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignQXhpb3MgZXJyb3IgZGV0YWlsczonLCB7XHJcbiAgICAgICAgICBzdGF0dXM6IGhhc1Jlc3BvbnNlKGVycm9yKSA/IGVycm9yLnJlc3BvbnNlPy5zdGF0dXMgOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICBzdGF0dXNUZXh0OiBoYXNSZXNwb25zZShlcnJvcikgPyBlcnJvci5yZXNwb25zZT8uc3RhdHVzVGV4dCA6IHVuZGVmaW5lZCxcclxuICAgICAgICAgIGRhdGE6IGhhc1Jlc3BvbnNlKGVycm9yKSA/IGVycm9yLnJlc3BvbnNlPy5kYXRhIDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcclxuICAgICAgICAgIGhlYWRlcnM6IGhhc1Jlc3BvbnNlKGVycm9yKSA/IGVycm9yLnJlc3BvbnNlPy5oZWFkZXJzIDogdW5kZWZpbmVkIC8vIExvZyBoZWFkZXJzIGZvciByYXRlIGxpbWl0IGluZm9cclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBMb2cgcmF0ZSBsaW1pdCBoZWFkZXJzIGlmIGF2YWlsYWJsZVxyXG4gICAgICAgIGlmIChoYXNSZXNwb25zZShlcnJvcikgJiYgZXJyb3IucmVzcG9uc2U/LmhlYWRlcnMpIHtcclxuICAgICAgICAgIGNvbnN0IHJhdGVMaW1pdEhlYWRlcnMgPSB7XHJcbiAgICAgICAgICAgICdYLVJhdGUtTGltaXQnOiBlcnJvci5yZXNwb25zZS5oZWFkZXJzWyd4LXJhdGUtbGltaXQnXSxcclxuICAgICAgICAgICAgJ1gtUmF0ZS1MaW1pdC1SZW1haW5pbmcnOiBlcnJvci5yZXNwb25zZS5oZWFkZXJzWyd4LXJhdGUtbGltaXQtcmVtYWluaW5nJ10sXHJcbiAgICAgICAgICAgICdYLVJhdGUtTGltaXQtUmVzZXQnOiBlcnJvci5yZXNwb25zZS5oZWFkZXJzWyd4LXJhdGUtbGltaXQtcmVzZXQnXSxcclxuICAgICAgICAgICAgJ1JldHJ5LUFmdGVyJzogZXJyb3IucmVzcG9uc2UuaGVhZGVyc1sncmV0cnktYWZ0ZXInXVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1JhdGUgbGltaXQgaGVhZGVyczonLCByYXRlTGltaXRIZWFkZXJzKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIFRyeSB0byBmYWxsIGJhY2sgdG8gY2FjaGVkIHRva2VuIGlmIGF2YWlsYWJsZVxyXG4gICAgICBpZiAodGhpcy5jYWNoZWRBY2Nlc3NUb2tlbikge1xyXG4gICAgICAgIGNvbnNvbGUud2FybignRmFsbGluZyBiYWNrIHRvIGNhY2hlZCBhY2Nlc3MgdG9rZW4gZHVlIHRvIHJlZnJlc2ggZmFpbHVyZScpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlZEFjY2Vzc1Rva2VuO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBhdXRoZW50aWNhdGUgd2l0aCBab2hvOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gUGVyZm9ybSB0aGUgdG9rZW4gcmVmcmVzaCB3aXRoIGZvcm0tZW5jb2RlZCBib2R5IGFuZCBpbXByb3ZlZCBleHBvbmVudGlhbCBiYWNrb2ZmXHJcbiAgcHJpdmF0ZSBhc3luYyBfcGVyZm9ybVRva2VuUmVmcmVzaFdpdGhCYWNrb2ZmKCk6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgICBjb25zdCBtYXhBdHRlbXB0cyA9IDU7IC8vIEluY3JlYXNlZCBmcm9tIDMgdG8gNVxyXG4gICAgZm9yIChsZXQgYXR0ZW1wdCA9IDE7IGF0dGVtcHQgPD0gbWF4QXR0ZW1wdHM7IGF0dGVtcHQrKykge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xyXG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZCgncmVmcmVzaF90b2tlbicsIHByb2Nlc3MuZW52LlpPSE9fUkVGUkVTSF9UT0tFTiB8fCAnJyk7XHJcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdjbGllbnRfaWQnLCBwcm9jZXNzLmVudi5aT0hPX0NMSUVOVF9JRCB8fCAnJyk7XHJcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdjbGllbnRfc2VjcmV0JywgcHJvY2Vzcy5lbnYuWk9IT19DTElFTlRfU0VDUkVUIHx8ICcnKTtcclxuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2dyYW50X3R5cGUnLCAncmVmcmVzaF90b2tlbicpO1xyXG5cclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3Q8VG9rZW5SZXNwb25zZT4oYCR7dGhpcy5BQ0NPVU5UU19CQVNFfS9vYXV0aC92Mi90b2tlbmAsIGZvcm1EYXRhLCB7XHJcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyB9LFxyXG4gICAgICAgICAgdGltZW91dDogMTUwMDAsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICghcmVzcG9uc2UuZGF0YS5hY2Nlc3NfdG9rZW4pIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gYWNjZXNzIHRva2VuIHJlY2VpdmVkIGZyb20gWm9obycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2FjaGUgdGhlIHN1Y2Nlc3NmdWwgdG9rZW4gYW5kIGV4cGlyeSBpbmZvcm1hdGlvblxyXG4gICAgICAgIHRoaXMuYWNjZXNzVG9rZW4gPSByZXNwb25zZS5kYXRhLmFjY2Vzc190b2tlbjtcclxuICAgICAgICB0aGlzLnRva2VuRXhwaXJ5ID0gRGF0ZS5ub3coKSArIChyZXNwb25zZS5kYXRhLmV4cGlyZXNfaW4gKiAxMDAwKTtcclxuICAgICAgICB0aGlzLmxhc3RSZWZyZXNoVGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ2FjaGUgdGhlIHN1Y2Nlc3NmdWwgdG9rZW4gYXMgZmFsbGJhY2tcclxuICAgICAgICB0aGlzLmNhY2hlZEFjY2Vzc1Rva2VuID0gcmVzcG9uc2UuZGF0YS5hY2Nlc3NfdG9rZW47XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKGBUb2tlbiByZWZyZXNoZWQgc3VjY2Vzc2Z1bGx5LiBFeHBpcmVzIGluICR7TWF0aC5yb3VuZChyZXNwb25zZS5kYXRhLmV4cGlyZXNfaW4gLyA2MCl9IG1pbnV0ZXNgKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnWm9obyB0b2tlbiByZWZyZXNoIHJlc3BvbnNlOicsIHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIExvZyB0b2tlbiBjYWNoaW5nIGRldGFpbHNcclxuICAgICAgICBjb25zb2xlLmxvZyhg8J+UkCBUb2tlbiBjYWNoZWQ6IGFjY2Vzc190b2tlbj0ke3RoaXMuYWNjZXNzVG9rZW4uc3Vic3RyaW5nKDAsIDEwKX0uLi4sIGV4cGlyZXNfaW49JHtyZXNwb25zZS5kYXRhLmV4cGlyZXNfaW59cywgZXhwaXJ5PSR7bmV3IERhdGUodGhpcy50b2tlbkV4cGlyeSkudG9JU09TdHJpbmcoKX1gKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBWYWxpZGF0ZSBzY29wZXMgb24gcmVmcmVzaGVkIHRva2VuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGNvbnN0IHNjb3BlSW5mbyA9IGF3YWl0IHRoaXMuY2hlY2tUb2tlblNjb3Blcyh0aGlzLmFjY2Vzc1Rva2VuKTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdab2hvIGdyYW50ZWQgc2NvcGVzOicsIHNjb3BlSW5mbz8uc2NvcGUgfHwgJ3Vua25vd24nKTtcclxuICAgICAgICAgIGlmICh0eXBlb2Ygc2NvcGVJbmZvPy5zY29wZSA9PT0gJ3N0cmluZycgJiYgIXNjb3BlSW5mby5zY29wZS5pbmNsdWRlcygnWm9ob0Jvb2tzLnJlcG9ydHMuUkVBRCcpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIE1pc3NpbmcgWm9ob0Jvb2tzLnJlcG9ydHMuUkVBRCBzY29wZS4gUmVnZW5lcmF0ZSB0b2tlbi4nKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChzY29wZUVycikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignWm9obyB0b2tlbiBzY29wZSB2ZXJpZmljYXRpb24gZmFpbGVkOicsIChzY29wZUVyciBhcyBFcnJvcik/Lm1lc3NhZ2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5hY2Nlc3NUb2tlbjtcclxuICAgICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcclxuICAgICAgICAvLyBJZiByYXRlLWxpbWl0ZWQgYnkgWm9obyBkdXJpbmcgdG9rZW4gcmVmcmVzaCwgaW1wbGVtZW50IGV4cG9uZW50aWFsIGJhY2tvZmZcclxuICAgICAgICBjb25zdCBpc0F4aW9zID0gYXhpb3MuaXNBeGlvc0Vycm9yKGVycik7XHJcbiAgICAgICAgY29uc3Qgc3RhdHVzID0gaXNBeGlvcyAmJiBoYXNSZXNwb25zZShlcnIpID8gZXJyLnJlc3BvbnNlPy5zdGF0dXMgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBpc0F4aW9zICYmIGhhc1Jlc3BvbnNlKGVycikgPyAoZXJyLnJlc3BvbnNlPy5kYXRhIGFzIGFueSk/LmVycm9yX2Rlc2NyaXB0aW9uIDogdW5kZWZpbmVkO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChzdGF0dXMgPT09IDQwMCAmJiB0eXBlb2YgZGVzY3JpcHRpb24gPT09ICdzdHJpbmcnICYmIGRlc2NyaXB0aW9uLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3RvbyBtYW55IHJlcXVlc3RzJykpIHtcclxuICAgICAgICAgIC8vIEV4cG9uZW50aWFsIGJhY2tvZmY6IGRlbGF5ID0gYmFzZSAqIDJeYXR0ZW1wdFxyXG4gICAgICAgICAgY29uc3QgZGVsYXlNcyA9IHRoaXMuQkFTRV9ERUxBWSAqIE1hdGgucG93KDIsIGF0dGVtcHQgLSAxKSArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDApO1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKGBab2hvIHRva2VuIHJlZnJlc2ggcmF0ZS1saW1pdGVkIChhdHRlbXB0ICR7YXR0ZW1wdH0vJHttYXhBdHRlbXB0c30pLiBXYWl0aW5nICR7ZGVsYXlNc31tcyBiZWZvcmUgcmV0cnkuYCk7XHJcbiAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgZGVsYXlNcykpO1xyXG4gICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEZvciBvdGhlciBlcnJvcnMsIGRvIG5vdCByZXRyeSBlbmRsZXNzbHlcclxuICAgICAgICBpZiAoYXR0ZW1wdCA9PT0gbWF4QXR0ZW1wdHMpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFpvaG8gdG9rZW4gcmVmcmVzaCBmYWlsZWQgYWZ0ZXIgJHttYXhBdHRlbXB0c30gYXR0ZW1wdHM6YCwgZXJyKTtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignWm9obyB0b2tlbiByZWZyZXNoIHJhdGUtbGltaXRlZC4gQ2hlY2sgZGFpbHkgQVBJIGxpbWl0cyBvciB0b2tlbiB2YWxpZGl0eS4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1pvaG8gdG9rZW4gcmVmcmVzaCBmYWlsZWQgYWZ0ZXIgbWF4aW11bSByZXRyaWVzJyk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFzeW5jIHJlZnJlc2hBY2Nlc3NUb2tlbigpOiBQcm9taXNlPHN0cmluZz4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coJ1JlZnJlc2hpbmcgWm9obyBhY2Nlc3MgdG9rZW4uLi4nKTtcclxuICAgICAgXHJcbiAgICAgIC8vIENyZWF0ZSBmb3JtIGRhdGEgZm9yIHRoZSByZXF1ZXN0XHJcbiAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xyXG4gICAgICBmb3JtRGF0YS5hcHBlbmQoJ3JlZnJlc2hfdG9rZW4nLCBwcm9jZXNzLmVudi5aT0hPX1JFRlJFU0hfVE9LRU4gfHwgJycpO1xyXG4gICAgICBmb3JtRGF0YS5hcHBlbmQoJ2NsaWVudF9pZCcsIHByb2Nlc3MuZW52LlpPSE9fQ0xJRU5UX0lEIHx8ICcnKTtcclxuICAgICAgZm9ybURhdGEuYXBwZW5kKCdjbGllbnRfc2VjcmV0JywgcHJvY2Vzcy5lbnYuWk9IT19DTElFTlRfU0VDUkVUIHx8ICcnKTtcclxuICAgICAgZm9ybURhdGEuYXBwZW5kKCdncmFudF90eXBlJywgJ3JlZnJlc2hfdG9rZW4nKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdDxUb2tlblJlc3BvbnNlPihgJHt0aGlzLkFDQ09VTlRTX0JBU0V9L29hdXRoL3YyL3Rva2VuYCwgZm9ybURhdGEsIHtcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBDYWNoZSB0aGUgc3VjY2Vzc2Z1bCB0b2tlbiBhbmQgZXhwaXJ5IGluZm9ybWF0aW9uXHJcbiAgICAgIHRoaXMuYWNjZXNzVG9rZW4gPSByZXNwb25zZS5kYXRhLmFjY2Vzc190b2tlbjtcclxuICAgICAgdGhpcy50b2tlbkV4cGlyeSA9IERhdGUubm93KCkgKyAocmVzcG9uc2UuZGF0YS5leHBpcmVzX2luICogMTAwMCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBDYWNoZSB0aGUgc3VjY2Vzc2Z1bCB0b2tlbiBhcyBmYWxsYmFja1xyXG4gICAgICB0aGlzLmNhY2hlZEFjY2Vzc1Rva2VuID0gcmVzcG9uc2UuZGF0YS5hY2Nlc3NfdG9rZW47XHJcblxyXG4gICAgICBjb25zb2xlLmxvZyhgVG9rZW4gcmVmcmVzaGVkIHN1Y2Nlc3NmdWxseS4gRXhwaXJlcyBpbiAke01hdGgucm91bmQocmVzcG9uc2UuZGF0YS5leHBpcmVzX2luIC8gNjApfSBtaW51dGVzYCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKGDwn5SQIFRva2VuIGNhY2hlZDogYWNjZXNzX3Rva2VuPSR7dGhpcy5hY2Nlc3NUb2tlbi5zdWJzdHJpbmcoMCwgMTApfS4uLiwgZXhwaXJlc19pbj0ke3Jlc3BvbnNlLmRhdGEuZXhwaXJlc19pbn1zLCBleHBpcnk9JHtuZXcgRGF0ZSh0aGlzLnRva2VuRXhwaXJ5KS50b0lTT1N0cmluZygpfWApO1xyXG4gICAgICBcclxuICAgICAgcmV0dXJuIHRoaXMuYWNjZXNzVG9rZW47XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZWZyZXNoaW5nIFpvaG8gYWNjZXNzIHRva2VuOicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gYXV0aGVudGljYXRlIHdpdGggWm9obycpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhc3luYyBtYWtlUmVxdWVzdChlbmRwb2ludDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcclxuICAgIC8vIFVzZSBwLWxpbWl0IHJhdGUgbGltaXRlciB0byBwcmV2ZW50IDQyOSBlcnJvcnNcclxuICAgIHJldHVybiB0aGlzLnJhdGVMaW1pdGVyKGFzeW5jICgpID0+IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICAvLyBBcHBseSByYXRlIGxpbWl0aW5nXHJcbiAgICAgICAgYXdhaXQgdGhpcy5hcHBseVJhdGVMaW1pdCgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IHRva2VuID0gYXdhaXQgdGhpcy5nZXRBY2Nlc3NUb2tlbigpO1xyXG4gICAgICBcclxuICAgICAgLy8gTG9nIEFQSSBjYWxsIGNvdW50IGZvciBtb25pdG9yaW5nXHJcbiAgICAgIHRoaXMucmVxdWVzdENvdW50Kys7XHJcbiAgICAgIGNvbnNvbGUubG9nKGDwn5OKIFpvaG8gQVBJIGNhbGwgIyR7dGhpcy5yZXF1ZXN0Q291bnR9IHRvOiAke2VuZHBvaW50fWApO1xyXG4gICAgICBcclxuICAgICAgLy8gVmFsaWRhdGUgdG9rZW4gYmVmb3JlIG1ha2luZyByZXF1ZXN0XHJcbiAgICAgIGlmICghdG9rZW4gfHwgdG9rZW4gPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG9yIG1pc3NpbmcgYWNjZXNzIHRva2VuJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFZhbGlkYXRlIG9yZ2FuaXphdGlvbiBiZWZvcmUgaGl0dGluZyByZXBvcnRzIGVuZHBvaW50c1xyXG4gICAgICBpZiAoIXRoaXMub3JnYW5pemF0aW9uVmFsaWRhdGVkICYmIGVuZHBvaW50LnN0YXJ0c1dpdGgoJ3JlcG9ydHMvJykpIHtcclxuICAgICAgICBhd2FpdCB0aGlzLnZhbGlkYXRlT3JnYW5pemF0aW9uKHRva2VuKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc29sZS5pbmZvKGBNYWtpbmcgWm9obyBBUEkgcmVxdWVzdCB0bzogJHtlbmRwb2ludH1gKTtcclxuICAgICAgY29uc29sZS5pbmZvKGBUb2tlbiAoZmlyc3QgMTAgY2hhcnMpOiAke3Rva2VuPy5zdWJzdHJpbmcoMCwgMTApID8/ICdOL0EnfS4uLmApO1xyXG4gICAgICBcclxuICAgICAgLy8gQ3JlYXRlIEFib3J0Q29udHJvbGxlciBmb3IgdGltZW91dFxyXG4gICAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xyXG4gICAgICBjb25zdCB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKSwgMTUwMDApOyAvLyAxNSBzZWNvbmQgdGltZW91dFxyXG4gICAgICBcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldChgJHt0aGlzLkFQSV9CQVNFfS9ib29rcy92My8ke2VuZHBvaW50fWAsIHtcclxuICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dG9rZW59YCxcclxuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBwYXJhbXM6IHtcclxuICAgICAgICAgICAgb3JnYW5pemF0aW9uX2lkOiBwcm9jZXNzLmVudi5aT0hPX09SR0FOSVpBVElPTl9JRCxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICB0aW1lb3V0OiAxNTAwMCwgLy8gMTUgc2Vjb25kIHRpbWVvdXRcclxuICAgICAgICAgIHNpZ25hbDogY29udHJvbGxlci5zaWduYWwsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFJlc2V0IHJldHJ5IGNvdW50IG9uIHN1Y2Nlc3NcclxuICAgICAgICB0aGlzLnJldHJ5Q291bnQgPSAwO1xyXG4gICAgICAgIHRoaXMucmVxdWVzdENvdW50Kys7XHJcbiAgICAgICAgdGhpcy5sYXN0UmVxdWVzdFRpbWUgPSBEYXRlLm5vdygpO1xyXG5cclxuICAgICAgICBjb25zb2xlLmluZm8oYFpvaG8gQVBJIHJlcXVlc3Qgc3VjY2Vzc2Z1bDogJHtlbmRwb2ludH1gKTtcclxuICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgfSBjYXRjaCAoYXhpb3NFcnJvcjogYW55KSB7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gSGFuZGxlIHRpbWVvdXQgc3BlY2lmaWNhbGx5XHJcbiAgICAgICAgaWYgKGF4aW9zRXJyb3IuY29kZSA9PT0gJ0VDT05OQUJPUlRFRCcgfHwgYXhpb3NFcnJvci5tZXNzYWdlPy5pbmNsdWRlcygndGltZW91dCcpKSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFpvaG8gQVBJIHJlcXVlc3QgdGltZWQgb3V0IGZvciAke2VuZHBvaW50fWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICB0aHJvdyBheGlvc0Vycm9yO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICAgIC8vIEhhbmRsZSByYXRlIGxpbWl0aW5nICg0MDAgd2l0aCBzcGVjaWZpYyBlcnJvciBtZXNzYWdlKVxyXG4gICAgICBpZiAoaGFzUmVzcG9uc2UoZXJyb3IpICYmIGVycm9yLnJlc3BvbnNlPy5zdGF0dXMgPT09IDQwMCAmJiBcclxuICAgICAgICAgIGVycm9yLnJlc3BvbnNlPy5kYXRhPy5lcnJvcl9kZXNjcmlwdGlvbj8uaW5jbHVkZXMoJ3RvbyBtYW55IHJlcXVlc3RzJykpIHtcclxuICAgICAgICBcclxuICAgICAgICBjb25zb2xlLndhcm4oJ1pvaG8gcmF0ZSBsaW1pdCBoaXQsIGltcGxlbWVudGluZyBleHBvbmVudGlhbCBiYWNrb2ZmLi4uJyk7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVSYXRlTGltaXQoKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBSZXRyeSB0aGUgcmVxdWVzdCBhZnRlciBiYWNrb2ZmXHJcbiAgICAgICAgaWYgKHRoaXMucmV0cnlDb3VudCA8IHRoaXMuTUFYX1JFVFJJRVMpIHtcclxuICAgICAgICAgIHRoaXMucmV0cnlDb3VudCsrO1xyXG4gICAgICAgICAgY29uc29sZS5pbmZvKGBSZXRyeWluZyByZXF1ZXN0IGFmdGVyIHJhdGUgbGltaXQgYmFja29mZiAoYXR0ZW1wdCAke3RoaXMucmV0cnlDb3VudH0pYCk7XHJcbiAgICAgICAgICByZXR1cm4gdGhpcy5tYWtlUmVxdWVzdChlbmRwb2ludCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignWm9obyBBUEkgcmF0ZSBsaW1pdCBleGNlZWRlZCBhZnRlciBtYXhpbXVtIHJldHJpZXMuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBIYW5kbGUgNDI5IFRvbyBNYW55IFJlcXVlc3RzIChleHBsaWNpdCByYXRlIGxpbWl0KVxyXG4gICAgICBpZiAoaGFzUmVzcG9uc2UoZXJyb3IpICYmIGVycm9yLnJlc3BvbnNlPy5zdGF0dXMgPT09IDQyOSkge1xyXG4gICAgICAgIGNvbnNvbGUud2FybignWm9obyA0MjkgcmF0ZSBsaW1pdCBoaXQsIGltcGxlbWVudGluZyBleHBvbmVudGlhbCBiYWNrb2ZmLi4uJyk7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVSYXRlTGltaXQoKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBSZXRyeSB0aGUgcmVxdWVzdCBhZnRlciBiYWNrb2ZmXHJcbiAgICAgICAgaWYgKHRoaXMucmV0cnlDb3VudCA8IHRoaXMuTUFYX1JFVFJJRVMpIHtcclxuICAgICAgICAgIHRoaXMucmV0cnlDb3VudCsrO1xyXG4gICAgICAgICAgY29uc29sZS5pbmZvKGBSZXRyeWluZyByZXF1ZXN0IGFmdGVyIDQyOSBiYWNrb2ZmIChhdHRlbXB0ICR7dGhpcy5yZXRyeUNvdW50fSlgKTtcclxuICAgICAgICAgIHJldHVybiB0aGlzLm1ha2VSZXF1ZXN0KGVuZHBvaW50KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdab2hvIEFQSSByYXRlIGxpbWl0IGV4Y2VlZGVkIGFmdGVyIG1heGltdW0gcmV0cmllcy4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4nKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIElmIHdlIGdldCBhIDQwMSwgdHJ5IHJlZnJlc2hpbmcgdGhlIHRva2VuIG9uY2VcclxuICAgICAgaWYgKGhhc1Jlc3BvbnNlKGVycm9yKSAmJiBlcnJvci5yZXNwb25zZT8uc3RhdHVzID09PSA0MDEpIHtcclxuICAgICAgICBpZiAoaGFzUmVzcG9uc2UoZXJyb3IpICYmIGVycm9yLnJlc3BvbnNlPy5kYXRhPy5jb2RlID09PSA1Nykge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignWm9obyBBUEkgYXV0aG9yaXphdGlvbiBlcnJvciAoY29kZSA1NykuIExpa2VseSBtaXNzaW5nIHJlcXVpcmVkIHNjb3BlcyBzdWNoIGFzIFpvaG9Cb29rcy5yZXBvcnRzLlJFQUQuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUuaW5mbygnVG9rZW4gZXhwaXJlZCwgcmVmcmVzaGluZy4uLicpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENsZWFyIHRoZSBjdXJyZW50IHRva2VuIGFuZCBmb3JjZSBhIHJlZnJlc2hcclxuICAgICAgICB0aGlzLmFjY2Vzc1Rva2VuID0gbnVsbDtcclxuICAgICAgICB0aGlzLnRva2VuRXhwaXJ5ID0gMDtcclxuICAgICAgICBcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgY29uc3QgbmV3VG9rZW4gPSBhd2FpdCB0aGlzLmZvcmNlUmVmcmVzaFRva2VuKCk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIFZhbGlkYXRlIHRoZSBuZXcgdG9rZW5cclxuICAgICAgICAgIGlmICghbmV3VG9rZW4gfHwgbmV3VG9rZW4gPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIG9idGFpbiB2YWxpZCB0b2tlbiBhZnRlciByZWZyZXNoJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGNvbnNvbGUuaW5mbyhgUmV0cnlpbmcgcmVxdWVzdCB3aXRoIG5ldyB0b2tlbjogJHtlbmRwb2ludH1gKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gUmV0cnkgdGhlIHJlcXVlc3Qgd2l0aCB0aGUgbmV3IHRva2VuXHJcbiAgICAgICAgICBjb25zdCByZXRyeVJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KGAke3RoaXMuQVBJX0JBU0V9L2Jvb2tzL3YzLyR7ZW5kcG9pbnR9YCwge1xyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7bmV3VG9rZW59YCxcclxuICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBwYXJhbXM6IHtcclxuICAgICAgICAgICAgICBvcmdhbml6YXRpb25faWQ6IHByb2Nlc3MuZW52LlpPSE9fT1JHQU5JWkFUSU9OX0lELFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0aW1lb3V0OiAxNTAwMCxcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBjb25zb2xlLmluZm8oJ1JlcXVlc3QgcmV0cnkgc3VjY2Vzc2Z1bCBhZnRlciB0b2tlbiByZWZyZXNoJyk7XHJcbiAgICAgICAgICByZXR1cm4gcmV0cnlSZXNwb25zZS5kYXRhO1xyXG4gICAgICAgIH0gY2F0Y2ggKHJlZnJlc2hFcnJvcjogYW55KSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gcmVmcmVzaCB0b2tlbiBvciByZXRyeSByZXF1ZXN0OicsIHJlZnJlc2hFcnJvcik7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIExvZyBkZXRhaWxlZCByZWZyZXNoIGVycm9yIGluZm9ybWF0aW9uXHJcbiAgICAgICAgICBpZiAoYXhpb3MuaXNBeGlvc0Vycm9yKHJlZnJlc2hFcnJvcikpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignVG9rZW4gcmVmcmVzaCBBeGlvcyBlcnJvciBkZXRhaWxzOicsIHtcclxuICAgICAgICAgICAgICBzdGF0dXM6IGhhc1Jlc3BvbnNlKHJlZnJlc2hFcnJvcikgPyByZWZyZXNoRXJyb3IucmVzcG9uc2U/LnN0YXR1cyA6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICBzdGF0dXNUZXh0OiBoYXNSZXNwb25zZShyZWZyZXNoRXJyb3IpID8gcmVmcmVzaEVycm9yLnJlc3BvbnNlPy5zdGF0dXNUZXh0IDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgIGRhdGE6IGhhc1Jlc3BvbnNlKHJlZnJlc2hFcnJvcikgPyByZWZyZXNoRXJyb3IucmVzcG9uc2U/LmRhdGEgOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgbWVzc2FnZTogcmVmcmVzaEVycm9yLm1lc3NhZ2UsXHJcbiAgICAgICAgICAgICAgZW5kcG9pbnQ6IGVuZHBvaW50XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBDaGVjayBpZiBpdCdzIGEgcmF0ZSBsaW1pdGluZyBpc3N1ZSBkdXJpbmcgdG9rZW4gcmVmcmVzaFxyXG4gICAgICAgICAgaWYgKGhhc1Jlc3BvbnNlKHJlZnJlc2hFcnJvcikgJiYgcmVmcmVzaEVycm9yLnJlc3BvbnNlPy5zdGF0dXMgPT09IDQwMCAmJiBcclxuICAgICAgICAgICAgICByZWZyZXNoRXJyb3IucmVzcG9uc2U/LmRhdGE/LmVycm9yX2Rlc2NyaXB0aW9uPy5pbmNsdWRlcygndG9vIG1hbnkgcmVxdWVzdHMnKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFpvaG8gdG9rZW4gcmVmcmVzaCByYXRlIGxpbWl0ZWQ6ICR7ZW5kcG9pbnR9LiBQbGVhc2Ugd2FpdCBiZWZvcmUgcmV0cnlpbmcuYCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIENoZWNrIGlmIGl0J3MgYW4gYXV0aGVudGljYXRpb24gaXNzdWUgZHVyaW5nIHRva2VuIHJlZnJlc2hcclxuICAgICAgICAgIGlmIChoYXNSZXNwb25zZShyZWZyZXNoRXJyb3IpICYmIHJlZnJlc2hFcnJvci5yZXNwb25zZT8uc3RhdHVzID09PSA0MDAgJiYgXHJcbiAgICAgICAgICAgICAgcmVmcmVzaEVycm9yLnJlc3BvbnNlPy5kYXRhPy5lcnJvcl9kZXNjcmlwdGlvbj8uaW5jbHVkZXMoJ2ludmFsaWQnKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFpvaG8gdG9rZW4gcmVmcmVzaCBmYWlsZWQgLSBpbnZhbGlkIGNyZWRlbnRpYWxzOiAke2VuZHBvaW50fS4gQ2hlY2sgeW91ciBPQXV0aCBjb25maWd1cmF0aW9uLmApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFpvaG8gQVBJIGF1dGhlbnRpY2F0aW9uIGZhaWxlZCBhZnRlciB0b2tlbiByZWZyZXNoOiAke2VuZHBvaW50fS4gRXJyb3I6ICR7cmVmcmVzaEVycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBMb2cgdGhlIGVycm9yIGRldGFpbHMgZm9yIGRlYnVnZ2luZ1xyXG4gICAgICBjb25zb2xlLmVycm9yKGBab2hvIEFQSSByZXF1ZXN0IGZhaWxlZCBmb3IgJHtlbmRwb2ludH06YCwge1xyXG4gICAgICAgIHN0YXR1czogaGFzUmVzcG9uc2UoZXJyb3IpID8gZXJyb3IucmVzcG9uc2U/LnN0YXR1cyA6IHVuZGVmaW5lZCxcclxuICAgICAgICBzdGF0dXNUZXh0OiBoYXNSZXNwb25zZShlcnJvcikgPyBlcnJvci5yZXNwb25zZT8uc3RhdHVzVGV4dCA6IHVuZGVmaW5lZCxcclxuICAgICAgICBkYXRhOiBoYXNSZXNwb25zZShlcnJvcikgPyBlcnJvci5yZXNwb25zZT8uZGF0YSA6IHVuZGVmaW5lZCxcclxuICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlXHJcbiAgICAgIH0pO1xyXG4gICAgICBpZiAoaGFzUmVzcG9uc2UoZXJyb3IpICYmIGVycm9yLnJlc3BvbnNlPy5kYXRhPy5jb2RlID09PSA1Nykge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1pvaG8gQVBJIGF1dGhvcml6YXRpb24gZXJyb3IgKGNvZGUgNTcpLiBWZXJpZnkgb3JnYW5pemF0aW9uX2lkIGFuZCBPQXV0aCBzY29wZXMgKFpvaG9Cb29rcy5yZXBvcnRzLlJFQUQpLicpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aHJvdyBlcnJvcjtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyBDaGVjayBncmFudGVkIHNjb3BlcyBmb3IgY3VycmVudCBhY2Nlc3MgdG9rZW5cclxuICBwcml2YXRlIGFzeW5jIGNoZWNrVG9rZW5TY29wZXModG9rZW46IHN0cmluZyk6IFByb21pc2U8eyBzY29wZT86IHN0cmluZyB9IHwgbnVsbD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgdXJsID0gYCR7dGhpcy5BQ0NPVU5UU19CQVNFfS9vYXV0aC92Mi90b2tlbmluZm8/dG9rZW49JHtlbmNvZGVVUklDb21wb25lbnQodG9rZW4pfWA7XHJcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGF4aW9zLmdldCh1cmwsIHsgdGltZW91dDogMTAwMDAgfSk7XHJcbiAgICAgIHJldHVybiByZXMuZGF0YSBhcyB7IHNjb3BlPzogc3RyaW5nIH07XHJcbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xyXG4gICAgICAvLyBTdXJmYWNlIGNvbmNpc2UgY29udGV4dCBidXQgZG8gbm90IGZhaWwgdGhlIG1haW4gZmxvd1xyXG4gICAgICBjb25zdCBtc2cgPSBheGlvcy5pc0F4aW9zRXJyb3IoZXJyKSA/IChoYXNSZXNwb25zZShlcnIpID8gZXJyLnJlc3BvbnNlPy5kYXRhIDogdW5kZWZpbmVkKSB8fCBlcnIubWVzc2FnZSA6IFN0cmluZyhlcnIpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IodHlwZW9mIG1zZyA9PT0gJ3N0cmluZycgPyBtc2cgOiBKU09OLnN0cmluZ2lmeShtc2cpKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIFZhbGlkYXRlIHRoZSBjb25maWd1cmVkIG9yZ2FuaXphdGlvbiBJRCBieSBjYWxsaW5nIG9yZ2FuaXphdGlvbnMgZW5kcG9pbnRcclxuICBwcml2YXRlIGFzeW5jIHZhbGlkYXRlT3JnYW5pemF0aW9uKHRva2VuOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IG9yZ0lkID0gcHJvY2Vzcy5lbnYuWk9IT19PUkdBTklaQVRJT05fSUQ7XHJcbiAgICAgIGlmICghb3JnSWQpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ1pPSE9fT1JHQU5JWkFUSU9OX0lEIG5vdCBzZXQuIFJlcG9ydHMgY2FsbHMgbWF5IGZhaWwuJyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IHVybCA9IGAke3RoaXMuQVBJX0JBU0V9L2Jvb2tzL3YzL29yZ2FuaXphdGlvbnNgO1xyXG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBheGlvcy5nZXQodXJsLCB7XHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dG9rZW59YCxcclxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICB9LFxyXG4gICAgICAgIHRpbWVvdXQ6IDE1MDAwXHJcbiAgICAgIH0pO1xyXG4gICAgICBjb25zdCBvcmdzID0gKHJlcy5kYXRhPy5vcmdhbml6YXRpb25zIHx8IFtdKSBhcyBBcnJheTx7IG9yZ2FuaXphdGlvbl9pZD86IHN0cmluZyB8IG51bWJlciB9PjtcclxuICAgICAgY29uc3QgZm91bmQgPSBvcmdzLnNvbWUobyA9PiBTdHJpbmcoby5vcmdhbml6YXRpb25faWQpID09PSBTdHJpbmcob3JnSWQpKTtcclxuICAgICAgaWYgKCFmb3VuZCkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFByb3ZpZGVkIG9yZ2FuaXphdGlvbl9pZD0ke29yZ0lkfSBub3QgZm91bmQgaW4gWm9obyBhY2NvdW50LiBGZXRjaGVkIG9yZ2FuaXphdGlvbnM6ICR7SlNPTi5zdHJpbmdpZnkob3Jncyl9YCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5vcmdhbml6YXRpb25WYWxpZGF0ZWQgPSB0cnVlO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBWYWxpZGF0ZWQgWm9obyBvcmdhbml6YXRpb25faWQ9JHtvcmdJZH1gKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcclxuICAgICAgY29uc3Qgc3RhdHVzID0gYXhpb3MuaXNBeGlvc0Vycm9yKGVycikgPyAoaGFzUmVzcG9uc2UoZXJyKSA/IGVyci5yZXNwb25zZT8uc3RhdHVzIDogdW5kZWZpbmVkKSA6IHVuZGVmaW5lZDtcclxuICAgICAgY29uc3QgZGF0YSA9IGF4aW9zLmlzQXhpb3NFcnJvcihlcnIpID8gKGhhc1Jlc3BvbnNlKGVycikgPyBlcnIucmVzcG9uc2U/LmRhdGEgOiB1bmRlZmluZWQpIDogdW5kZWZpbmVkO1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gdmFsaWRhdGUgWm9obyBvcmdhbml6YXRpb246JywgeyBzdGF0dXMsIGRhdGEsIG1lc3NhZ2U6IGVyci5tZXNzYWdlIH0pO1xyXG4gICAgICAvLyBEbyBub3QgdGhyb3c7IGFsbG93IHJlcXVlc3QgdG8gcHJvY2VlZCBidXQgbG9ncyB3aWxsIGhlbHAgZGlhZ25vc2VcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXN5bmMgYXBwbHlSYXRlTGltaXQoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xyXG4gICAgXHJcbiAgICAvLyBDaGVjayBpZiB3ZSBuZWVkIHRvIHdhaXQgYmV0d2VlbiByZXF1ZXN0c1xyXG4gICAgaWYgKHRoaXMubGFzdFJlcXVlc3RUaW1lID4gMCkge1xyXG4gICAgICBjb25zdCB0aW1lU2luY2VMYXN0UmVxdWVzdCA9IG5vdyAtIHRoaXMubGFzdFJlcXVlc3RUaW1lO1xyXG4gICAgICBpZiAodGltZVNpbmNlTGFzdFJlcXVlc3QgPCB0aGlzLk1JTl9SRVFVRVNUX0lOVEVSVkFMKSB7XHJcbiAgICAgICAgY29uc3Qgd2FpdFRpbWUgPSB0aGlzLk1JTl9SRVFVRVNUX0lOVEVSVkFMIC0gdGltZVNpbmNlTGFzdFJlcXVlc3Q7XHJcbiAgICAgICAgY29uc29sZS5pbmZvKGBSYXRlIGxpbWl0aW5nOiB3YWl0aW5nICR7d2FpdFRpbWV9bXMgYmVmb3JlIG5leHQgcmVxdWVzdGApO1xyXG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCB3YWl0VGltZSkpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIENoZWNrIGlmIHdlJ3ZlIGV4Y2VlZGVkIHRoZSBwZXItbWludXRlIGxpbWl0XHJcbiAgICBpZiAodGhpcy5yZXF1ZXN0Q291bnQgPj0gdGhpcy5NQVhfUkVRVUVTVFNfUEVSX01JTlVURSkge1xyXG4gICAgICBjb25zdCB0aW1lU2luY2VGaXJzdFJlcXVlc3QgPSBub3cgLSB0aGlzLmxhc3RSZXF1ZXN0VGltZTtcclxuICAgICAgaWYgKHRpbWVTaW5jZUZpcnN0UmVxdWVzdCA8IDYwMDAwKSB7IC8vIExlc3MgdGhhbiAxIG1pbnV0ZVxyXG4gICAgICAgIGNvbnN0IHdhaXRUaW1lID0gNjAwMDAgLSB0aW1lU2luY2VGaXJzdFJlcXVlc3Q7XHJcbiAgICAgICAgY29uc29sZS53YXJuKGBSYXRlIGxpbWl0aW5nOiBleGNlZWRlZCAke3RoaXMuTUFYX1JFUVVFU1RTX1BFUl9NSU5VVEV9IHJlcXVlc3RzIHBlciBtaW51dGUsIHdhaXRpbmcgJHt3YWl0VGltZX1tc2ApO1xyXG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCB3YWl0VGltZSkpO1xyXG4gICAgICAgIHRoaXMucmVxdWVzdENvdW50ID0gMDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBSZXNldCBjb3VudGVyIGlmIG1vcmUgdGhhbiAxIG1pbnV0ZSBoYXMgcGFzc2VkXHJcbiAgICAgICAgdGhpcy5yZXF1ZXN0Q291bnQgPSAwO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFzeW5jIGhhbmRsZVJhdGVMaW1pdCgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGNvbnN0IGRlbGF5ID0gdGhpcy5CQVNFX0RFTEFZICogTWF0aC5wb3coMiwgdGhpcy5yZXRyeUNvdW50KTtcclxuICAgIGNvbnN0IGppdHRlciA9IE1hdGgucmFuZG9tKCkgKiAxMDAwOyAvLyBBZGQgdXAgdG8gMSBzZWNvbmQgb2Ygaml0dGVyXHJcbiAgICBjb25zdCB0b3RhbERlbGF5ID0gZGVsYXkgKyBqaXR0ZXI7XHJcbiAgICBcclxuICAgIGNvbnNvbGUud2FybihgUmF0ZSBsaW1pdCBiYWNrb2ZmOiB3YWl0aW5nICR7dG90YWxEZWxheX1tcyBiZWZvcmUgcmV0cnkgKGF0dGVtcHQgJHt0aGlzLnJldHJ5Q291bnQgKyAxfSlgKTtcclxuICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCB0b3RhbERlbGF5KSk7XHJcbiAgICBcclxuICAgIC8vIFJlc2V0IHJlcXVlc3QgY291bnRlcnMgdG8gYWxsb3cgZnJlc2ggc3RhcnRcclxuICAgIHRoaXMucmVxdWVzdENvdW50ID0gMDtcclxuICAgIHRoaXMubGFzdFJlcXVlc3RUaW1lID0gMDtcclxuICB9XHJcblxyXG4gIGFzeW5jIGdldFByb2plY3RzKCk6IFByb21pc2U8Wm9ob1Byb2plY3RbXT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IGFsbFByb2plY3RzOiBab2hvUHJvamVjdFtdID0gW107XHJcbiAgICAgIGxldCBwYWdlID0gMTtcclxuICAgICAgY29uc3QgcGVyUGFnZSA9IDIwMDtcclxuICAgICAgXHJcbiAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMubWFrZVJlcXVlc3QoYHByb2plY3RzP3BhZ2U9JHtwYWdlfSZwZXJfcGFnZT0ke3BlclBhZ2V9YCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgcHJvamVjdHMgPSBkYXRhLnByb2plY3RzPy5tYXAoKHByb2plY3Q6IGFueSkgPT4ge1xyXG4gICAgICAgICAgLy8gTG9nIHRoZSBmaXJzdCBwcm9qZWN0IHRvIHNlZSBhdmFpbGFibGUgZmllbGRzXHJcbiAgICAgICAgICBpZiAocGFnZSA9PT0gMSAmJiBhbGxQcm9qZWN0cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1NhbXBsZSBab2hvIHByb2plY3QgZGF0YTonLCBKU09OLnN0cmluZ2lmeShwcm9qZWN0LCBudWxsLCAyKSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHByb2plY3RfaWQ6IHByb2plY3QucHJvamVjdF9pZCxcclxuICAgICAgICAgICAgcHJvamVjdF9uYW1lOiBwcm9qZWN0LnByb2plY3RfbmFtZSB8fCBwcm9qZWN0Lm5hbWUgfHwgJycsXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBwcm9qZWN0LmRlc2NyaXB0aW9uIHx8ICcnLFxyXG4gICAgICAgICAgICBzdGF0dXM6IHByb2plY3Quc3RhdHVzIHx8ICdhY3RpdmUnLFxyXG4gICAgICAgICAgICBzdGFydF9kYXRlOiBwcm9qZWN0LnN0YXJ0X2RhdGUgfHwgJycsXHJcbiAgICAgICAgICAgIGVuZF9kYXRlOiBwcm9qZWN0LmVuZF9kYXRlIHx8ICcnLFxyXG4gICAgICAgICAgICBidWRnZXRfYW1vdW50OiBwcm9qZWN0LmJ1ZGdldF9hbW91bnQgfHwgMCxcclxuICAgICAgICAgICAgcmF0ZV9wZXJfaG91cjogcHJvamVjdC5yYXRlX3Blcl9ob3VyIHx8IDAsXHJcbiAgICAgICAgICAgIGN1c3RvbWVyX2lkOiBwcm9qZWN0LmN1c3RvbWVyX2lkIHx8ICcnLFxyXG4gICAgICAgICAgICBjdXN0b21lcl9uYW1lOiBwcm9qZWN0LmN1c3RvbWVyX25hbWUgfHwgJycsXHJcbiAgICAgICAgICAgIHNpZ25lZF9mZWU6IHVuZGVmaW5lZCwgLy8gUmVtb3ZlIFpvaG8gc2lnbmVkIGZlZSwgb25seSB1c2UgdXNlci1lbnRlcmVkIGRhdGFcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfSkgfHwgW107XHJcbiAgICAgICAgXHJcbiAgICAgICAgYWxsUHJvamVjdHMgPSBhbGxQcm9qZWN0cy5jb25jYXQocHJvamVjdHMpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENoZWNrIGlmIHdlJ3ZlIHJlYWNoZWQgdGhlIGVuZFxyXG4gICAgICAgIGlmIChwcm9qZWN0cy5sZW5ndGggPCBwZXJQYWdlKSB7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcGFnZSsrO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZyhgRmV0Y2hlZCAke2FsbFByb2plY3RzLmxlbmd0aH0gcHJvamVjdHMgZnJvbSBab2hvYCk7XHJcbiAgICAgIHJldHVybiBhbGxQcm9qZWN0cztcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHByb2plY3RzOicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZ2V0UHJvamVjdHNXaXRoUmV2ZW51ZUJ1ZGdldCgpOiBQcm9taXNlPFpvaG9Qcm9qZWN0W10+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdGZXRjaGluZyBwcm9qZWN0cyB3aXRoIHJldmVudWUgYnVkZ2V0IGRhdGEuLi4nKTtcclxuICAgICAgY29uc3QgcHJvamVjdHMgPSBhd2FpdCB0aGlzLmdldFByb2plY3RzKCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBMb2cgcHJvamVjdHMgdGhhdCBoYXZlIHJldmVudWVfYnVkZ2V0IGRhdGFcclxuICAgICAgY29uc3QgcHJvamVjdHNXaXRoUmV2ZW51ZUJ1ZGdldCA9IHByb2plY3RzLmZpbHRlcihwcm9qZWN0ID0+IHtcclxuICAgICAgICBjb25zdCBoYXNSZXZlbnVlQnVkZ2V0ID0gcHJvamVjdC5zaWduZWRfZmVlICYmIHByb2plY3Quc2lnbmVkX2ZlZSA+IDA7XHJcbiAgICAgICAgaWYgKGhhc1JldmVudWVCdWRnZXQpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGBQcm9qZWN0ICR7cHJvamVjdC5wcm9qZWN0X25hbWV9IGhhcyByZXZlbnVlIGJ1ZGdldDogJCR7cHJvamVjdC5zaWduZWRfZmVlfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaGFzUmV2ZW51ZUJ1ZGdldDtcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZyhgRm91bmQgJHtwcm9qZWN0c1dpdGhSZXZlbnVlQnVkZ2V0Lmxlbmd0aH0gcHJvamVjdHMgd2l0aCByZXZlbnVlIGJ1ZGdldCBkYXRhYCk7XHJcbiAgICAgIHJldHVybiBwcm9qZWN0cztcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHByb2plY3RzIHdpdGggcmV2ZW51ZSBidWRnZXQ6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBkZWJ1Z1Byb2plY3RGaWVsZHMoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygnRGVidWdnaW5nIFpvaG8gcHJvamVjdCBmaWVsZHMuLi4nKTtcclxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMubWFrZVJlcXVlc3QoJ3Byb2plY3RzP3BhZ2U9MSZwZXJfcGFnZT01Jyk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoZGF0YS5wcm9qZWN0cyAmJiBkYXRhLnByb2plY3RzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnQXZhaWxhYmxlIGZpZWxkcyBpbiBab2hvIHByb2plY3QgcmVzcG9uc2U6Jyk7XHJcbiAgICAgICAgY29uc3Qgc2FtcGxlUHJvamVjdCA9IGRhdGEucHJvamVjdHNbMF07XHJcbiAgICAgICAgT2JqZWN0LmtleXMoc2FtcGxlUHJvamVjdCkuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coYCAgJHtrZXl9OiAke3NhbXBsZVByb2plY3Rba2V5XX0gKCR7dHlwZW9mIHNhbXBsZVByb2plY3Rba2V5XX0pYCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ2hlY2sgc3BlY2lmaWNhbGx5IGZvciByZXZlbnVlX2J1ZGdldFxyXG4gICAgICAgIGlmIChzYW1wbGVQcm9qZWN0LnJldmVudWVfYnVkZ2V0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGDinIUgRm91bmQgcmV2ZW51ZV9idWRnZXQgZmllbGQ6ICR7c2FtcGxlUHJvamVjdC5yZXZlbnVlX2J1ZGdldH1gKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ+KdjCByZXZlbnVlX2J1ZGdldCBmaWVsZCBub3QgZm91bmQgaW4gWm9obyByZXNwb25zZScpO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ0F2YWlsYWJsZSBidWRnZXQtcmVsYXRlZCBmaWVsZHM6Jyk7XHJcbiAgICAgICAgICBPYmplY3Qua2V5cyhzYW1wbGVQcm9qZWN0KS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChrZXkudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnYnVkZ2V0JykgfHwga2V5LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3JldmVudWUnKSkge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGAgICR7a2V5fTogJHtzYW1wbGVQcm9qZWN0W2tleV19YCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnTm8gcHJvamVjdHMgZm91bmQgaW4gWm9obyByZXNwb25zZScpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWJ1Z2dpbmcgcHJvamVjdCBmaWVsZHM6JywgZXJyb3IpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZ2V0UHJvamVjdHNXaXRoRXN0aW1hdGVzKCk6IFByb21pc2U8Wm9ob1Byb2plY3RbXT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcHJvamVjdHMgPSBhd2FpdCB0aGlzLmdldFByb2plY3RzKCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBGb3IgdGhlIGZpcnN0IGZldyBwcm9qZWN0cywgdHJ5IHRvIGdldCBlc3RpbWF0ZXMgdG8gc2VlIGlmIHRoYXQgY29udGFpbnMgdGhlIHNpZ25lZCBmZWVcclxuICAgICAgY29uc3QgcHJvamVjdHNXaXRoRXN0aW1hdGVzID0gYXdhaXQgUHJvbWlzZS5hbGwoXHJcbiAgICAgICAgcHJvamVjdHMuc2xpY2UoMCwgNSkubWFwKGFzeW5jIChwcm9qZWN0KSA9PiB7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBlc3RpbWF0ZXMgPSBhd2FpdCB0aGlzLmdldFByb2plY3RFc3RpbWF0ZXMocHJvamVjdC5wcm9qZWN0X2lkKTtcclxuICAgICAgICAgICAgY29uc3QgdG90YWxFc3RpbWF0ZUFtb3VudCA9IGVzdGltYXRlcy5yZWR1Y2UoKHN1bSwgZXN0aW1hdGUpID0+IHN1bSArIChlc3RpbWF0ZS50b3RhbCB8fCAwKSwgMCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgUHJvamVjdCAke3Byb2plY3QucHJvamVjdF9uYW1lfSBlc3RpbWF0ZXM6YCwgZXN0aW1hdGVzLmxlbmd0aCwgJ3RvdGFsIGFtb3VudDonLCB0b3RhbEVzdGltYXRlQW1vdW50KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgLi4ucHJvamVjdCxcclxuICAgICAgICAgICAgICBzaWduZWRfZmVlOiBwcm9qZWN0LnNpZ25lZF9mZWUgfHwgdG90YWxFc3RpbWF0ZUFtb3VudCB8fCAwLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZmV0Y2hpbmcgZXN0aW1hdGVzIGZvciBwcm9qZWN0ICR7cHJvamVjdC5wcm9qZWN0X2lkfTpgLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHJldHVybiBwcm9qZWN0O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBSZXR1cm4gYWxsIHByb2plY3RzLCB3aXRoIHRoZSBmaXJzdCA1IGhhdmluZyB1cGRhdGVkIHNpZ25lZCBmZWVzIGZyb20gZXN0aW1hdGVzXHJcbiAgICAgIHJldHVybiBbXHJcbiAgICAgICAgLi4ucHJvamVjdHNXaXRoRXN0aW1hdGVzLFxyXG4gICAgICAgIC4uLnByb2plY3RzLnNsaWNlKDUpXHJcbiAgICAgIF07XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBwcm9qZWN0cyB3aXRoIGVzdGltYXRlczonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGdldFByb2plY3RzV2l0aEludm9pY2VUb3RhbHMoKTogUHJvbWlzZTxab2hvUHJvamVjdFtdPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBbcHJvamVjdHMsIGludm9pY2VzXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcclxuICAgICAgICB0aGlzLmdldFByb2plY3RzKCksXHJcbiAgICAgICAgdGhpcy5nZXRJbnZvaWNlcygpLFxyXG4gICAgICBdKTtcclxuICAgICAgXHJcbiAgICAgIC8vIENhbGN1bGF0ZSBzaWduZWQgZmVlIGFzIHRvdGFsIG9mIGFsbCBpbnZvaWNlcyBmb3IgZWFjaCBwcm9qZWN0XHJcbiAgICAgIGNvbnN0IHByb2plY3RzV2l0aEludm9pY2VUb3RhbHMgPSBwcm9qZWN0cy5tYXAocHJvamVjdCA9PiB7XHJcbiAgICAgICAgY29uc3QgcHJvamVjdEludm9pY2VzID0gaW52b2ljZXMuZmlsdGVyKGludm9pY2UgPT4gaW52b2ljZS5wcm9qZWN0X2lkID09PSBwcm9qZWN0LnByb2plY3RfaWQpO1xyXG4gICAgICAgIGNvbnN0IHRvdGFsSW52b2ljZUFtb3VudCA9IHByb2plY3RJbnZvaWNlcy5yZWR1Y2UoKHN1bSwgaW52b2ljZSkgPT4gc3VtICsgaW52b2ljZS5hbW91bnQsIDApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnNvbGUubG9nKGBQcm9qZWN0ICR7cHJvamVjdC5wcm9qZWN0X25hbWV9IGludm9pY2VzOmAsIHByb2plY3RJbnZvaWNlcy5sZW5ndGgsICd0b3RhbCBhbW91bnQ6JywgdG90YWxJbnZvaWNlQW1vdW50KTtcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgLi4ucHJvamVjdCxcclxuICAgICAgICAgIHNpZ25lZF9mZWU6IHByb2plY3Quc2lnbmVkX2ZlZSB8fCB0b3RhbEludm9pY2VBbW91bnQgfHwgMCxcclxuICAgICAgICB9O1xyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIHJldHVybiBwcm9qZWN0c1dpdGhJbnZvaWNlVG90YWxzO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcHJvamVjdHMgd2l0aCBpbnZvaWNlIHRvdGFsczonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGdldEludm9pY2VzKCk6IFByb21pc2U8Wm9ob0ludm9pY2VbXT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coJ/Cfk4QgRmV0Y2hpbmcgaW52b2ljZXMgZnJvbSBab2hvLi4uJyk7XHJcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLm1ha2VSZXF1ZXN0KCdpbnZvaWNlcycpO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgaW52b2ljZXMgPSBkYXRhLmludm9pY2VzPy5tYXAoKGludm9pY2U6IGFueSkgPT4gKHtcclxuICAgICAgICBpbnZvaWNlX2lkOiBpbnZvaWNlLmludm9pY2VfaWQsXHJcbiAgICAgICAgcHJvamVjdF9pZDogaW52b2ljZS5wcm9qZWN0X2lkLFxyXG4gICAgICAgIGludm9pY2VfbnVtYmVyOiBpbnZvaWNlLmludm9pY2VfbnVtYmVyLFxyXG4gICAgICAgIGRhdGU6IGludm9pY2UuZGF0ZSxcclxuICAgICAgICBhbW91bnQ6IGludm9pY2UudG90YWwsXHJcbiAgICAgICAgc3RhdHVzOiBpbnZvaWNlLnN0YXR1cyxcclxuICAgICAgICBiaWxsZWRfYW1vdW50OiBpbnZvaWNlLmJpbGxlZF9hbW91bnQgfHwgMCxcclxuICAgICAgICB1bmJpbGxlZF9hbW91bnQ6IGludm9pY2UudW5iaWxsZWRfYW1vdW50IHx8IDAsXHJcbiAgICAgIH0pKSB8fCBbXTtcclxuICAgICAgXHJcbiAgICAgIC8vIExvZyBpbnZvaWNlIGNvdW50cyBhbmQgZGV0YWlsc1xyXG4gICAgICBjb25zb2xlLmxvZyhg8J+TiiBab2hvIGludm9pY2VzIGZldGNoZWQ6ICR7aW52b2ljZXMubGVuZ3RofSB0b3RhbCBpbnZvaWNlc2ApO1xyXG4gICAgICBcclxuICAgICAgaWYgKGludm9pY2VzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBjb25zdCBzdGF0dXNDb3VudHMgPSBpbnZvaWNlcy5yZWR1Y2UoKGFjYzogUmVjb3JkPHN0cmluZywgbnVtYmVyPiwgaW52OiBab2hvSW52b2ljZSkgPT4ge1xyXG4gICAgICAgICAgYWNjW2ludi5zdGF0dXNdID0gKGFjY1tpbnYuc3RhdHVzXSB8fCAwKSArIDE7XHJcbiAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgIH0sIHt9IGFzIFJlY29yZDxzdHJpbmcsIG51bWJlcj4pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5OLIEludm9pY2Ugc3RhdHVzIGJyZWFrZG93bjonLCBzdGF0dXNDb3VudHMpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIExvZyBzYW1wbGUgaW52b2ljZSBkYXRhIGZvciBkZWJ1Z2dpbmdcclxuICAgICAgICBjb25zdCBzYW1wbGVJbnZvaWNlID0gaW52b2ljZXNbMF07XHJcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfk4QgU2FtcGxlIGludm9pY2UgZGF0YTonLCB7XHJcbiAgICAgICAgICBpZDogc2FtcGxlSW52b2ljZS5pbnZvaWNlX2lkLFxyXG4gICAgICAgICAgbnVtYmVyOiBzYW1wbGVJbnZvaWNlLmludm9pY2VfbnVtYmVyLFxyXG4gICAgICAgICAgcHJvamVjdDogc2FtcGxlSW52b2ljZS5wcm9qZWN0X2lkLFxyXG4gICAgICAgICAgYW1vdW50OiBzYW1wbGVJbnZvaWNlLmFtb3VudCxcclxuICAgICAgICAgIHN0YXR1czogc2FtcGxlSW52b2ljZS5zdGF0dXNcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgcmV0dXJuIGludm9pY2VzO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgaW52b2ljZXM6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBnZXRQcm9qZWN0SW52b2ljZXMocHJvamVjdElkOiBzdHJpbmcpOiBQcm9taXNlPFpvaG9JbnZvaWNlW10+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLm1ha2VSZXF1ZXN0KGBwcm9qZWN0cy8ke3Byb2plY3RJZH0vaW52b2ljZXNgKTtcclxuICAgICAgcmV0dXJuIGRhdGEuaW52b2ljZXM/Lm1hcCgoaW52b2ljZTogYW55KSA9PiAoe1xyXG4gICAgICAgIGludm9pY2VfaWQ6IGludm9pY2UuaW52b2ljZV9pZCxcclxuICAgICAgICBwcm9qZWN0X2lkOiBpbnZvaWNlLnByb2plY3RfaWQsXHJcbiAgICAgICAgaW52b2ljZV9udW1iZXI6IGludm9pY2UuaW52b2ljZV9udW1iZXIsXHJcbiAgICAgICAgZGF0ZTogaW52b2ljZS5kYXRlLFxyXG4gICAgICAgIGFtb3VudDogaW52b2ljZS50b3RhbCxcclxuICAgICAgICBzdGF0dXM6IGludm9pY2Uuc3RhdHVzLFxyXG4gICAgICAgIGJpbGxlZF9hbW91bnQ6IGludm9pY2UuYmlsbGVkX2Ftb3VudCB8fCAwLFxyXG4gICAgICAgIHVuYmlsbGVkX2Ftb3VudDogaW52b2ljZS51bmJpbGxlZF9hbW91bnQgfHwgMCxcclxuICAgICAgfSkpIHx8IFtdO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcHJvamVjdCBpbnZvaWNlczonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGdldFByb2plY3REZXRhaWxzKHByb2plY3RJZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLm1ha2VSZXF1ZXN0KGBwcm9qZWN0cy8ke3Byb2plY3RJZH1gKTtcclxuICAgICAgY29uc29sZS5sb2coYFByb2plY3QgJHtwcm9qZWN0SWR9IGRldGFpbHM6YCwgSlNPTi5zdHJpbmdpZnkoZGF0YSwgbnVsbCwgMikpO1xyXG4gICAgICByZXR1cm4gZGF0YTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHByb2plY3QgZGV0YWlsczonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZ2V0UHJvamVjdEVzdGltYXRlcyhwcm9qZWN0SWQ6IHN0cmluZyk6IFByb21pc2U8YW55W10+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLm1ha2VSZXF1ZXN0KGBwcm9qZWN0cy8ke3Byb2plY3RJZH0vZXN0aW1hdGVzYCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKGBQcm9qZWN0ICR7cHJvamVjdElkfSBlc3RpbWF0ZXM6YCwgSlNPTi5zdHJpbmdpZnkoZGF0YSwgbnVsbCwgMikpO1xyXG4gICAgICByZXR1cm4gZGF0YS5lc3RpbWF0ZXMgfHwgW107XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBwcm9qZWN0IGVzdGltYXRlczonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGdldFByb2plY3RDb250cmFjdHMocHJvamVjdElkOiBzdHJpbmcpOiBQcm9taXNlPGFueVtdPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5tYWtlUmVxdWVzdChgcHJvamVjdHMvJHtwcm9qZWN0SWR9L2NvbnRyYWN0c2ApO1xyXG4gICAgICBjb25zb2xlLmxvZyhgUHJvamVjdCAke3Byb2plY3RJZH0gY29udHJhY3RzOmAsIEpTT04uc3RyaW5naWZ5KGRhdGEsIG51bGwsIDIpKTtcclxuICAgICAgcmV0dXJuIGRhdGEuY29udHJhY3RzIHx8IFtdO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcHJvamVjdCBjb250cmFjdHM6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBOZXcgbWV0aG9kIHRvIGdldCBQcm9maXQgJiBMb3NzIHN0YXRlbWVudFxyXG4gIGFzeW5jIGdldFByb2ZpdEFuZExvc3Moc3RhcnREYXRlOiBzdHJpbmcsIGVuZERhdGU6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmluZm8oYPCfk4ogRmV0Y2hpbmcgWm9obyBQcm9maXQgJiBMb3NzIGZvciAke3N0YXJ0RGF0ZX0gdG8gJHtlbmREYXRlfWApO1xyXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5tYWtlUmVxdWVzdChgcmVwb3J0cy9wcm9maXRhbmRsb3NzP2Zyb21fZGF0ZT0ke3N0YXJ0RGF0ZX0mdG9fZGF0ZT0ke2VuZERhdGV9YCk7XHJcbiAgICAgIGNvbnN0IHNpemVCeXRlcyA9IEpTT04uc3RyaW5naWZ5KGRhdGEgfHwge30pLmxlbmd0aDtcclxuICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGRhdGEgfHwge30pLmxlbmd0aDtcclxuICAgICAgY29uc29sZS5pbmZvKGDinIUgUHJvZml0ICYgTG9zcyBkYXRhIGZldGNoZWQgc3VjY2Vzc2Z1bGx5IChrZXlzOiAke2tleXN9LCBieXRlczogJHtzaXplQnl0ZXN9KWApO1xyXG4gICAgICBpZiAoIWRhdGEgfHwga2V5cyA9PT0gMCkge1xyXG4gICAgICAgIGNvbnNvbGUud2FybignTm8gZGF0YSBmb3IgcmVwb3J0cy9wcm9maXRhbmRsb3NzLiBWZXJpZnkgb3JnYW5pemF0aW9uIElELCBkYXRlIHJhbmdlICgyMDI1LTAxLTAxIHRvIDIwMjUtMDgtMTMpLCBvciBkYXRhIGluIFpvaG8gZGFzaGJvYXJkLicpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGZldGNoaW5nIFByb2ZpdCAmIExvc3M6JywgZXJyb3IpO1xyXG4gICAgICBjb25zb2xlLndhcm4oJ/Cfjq0gUHJvZml0ICYgTG9zcyBkYXRhIHVuYXZhaWxhYmxlLCB3aWxsIHVzZSBkZWZhdWx0cycpO1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIE5ldyBtZXRob2QgdG8gZ2V0IENhc2ggRmxvdyBzdGF0ZW1lbnRcclxuICBhc3luYyBnZXRDYXNoRmxvdyhzdGFydERhdGU6IHN0cmluZywgZW5kRGF0ZTogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUuaW5mbyhg8J+SsCBGZXRjaGluZyBab2hvIENhc2ggRmxvdyBmb3IgJHtzdGFydERhdGV9IHRvICR7ZW5kRGF0ZX1gKTtcclxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMubWFrZVJlcXVlc3QoYHJlcG9ydHMvY2FzaGZsb3c/ZnJvbV9kYXRlPSR7c3RhcnREYXRlfSZ0b19kYXRlPSR7ZW5kRGF0ZX1gKTtcclxuICAgICAgY29uc3Qgc2l6ZUJ5dGVzID0gSlNPTi5zdHJpbmdpZnkoZGF0YSB8fCB7fSkubGVuZ3RoO1xyXG4gICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoZGF0YSB8fCB7fSkubGVuZ3RoO1xyXG4gICAgICBjb25zb2xlLmluZm8oYOKchSBDYXNoIEZsb3cgZGF0YSBmZXRjaGVkIHN1Y2Nlc3NmdWxseSAoa2V5czogJHtrZXlzfSwgYnl0ZXM6ICR7c2l6ZUJ5dGVzfSlgKTtcclxuICAgICAgaWYgKCFkYXRhIHx8IGtleXMgPT09IDApIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ05vIGRhdGEgZm9yIHJlcG9ydHMvY2FzaGZsb3cuIFZlcmlmeSBvcmdhbml6YXRpb24gSUQsIGRhdGUgcmFuZ2UgKDIwMjUtMDEtMDEgdG8gMjAyNS0wOC0xMyksIG9yIGRhdGEgaW4gWm9obyBkYXNoYm9hcmQuJyk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgZmV0Y2hpbmcgQ2FzaCBGbG93OicsIGVycm9yKTtcclxuICAgICAgY29uc29sZS53YXJuKCfwn46tIENhc2ggRmxvdyBkYXRhIHVuYXZhaWxhYmxlLCB3aWxsIHVzZSBkZWZhdWx0cycpO1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIE5ldyBtZXRob2QgdG8gZ2V0IEJhbGFuY2UgU2hlZXRcclxuICBhc3luYyBnZXRCYWxhbmNlU2hlZXQoZGF0ZTogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUuaW5mbyhg8J+TiCBGZXRjaGluZyBab2hvIEJhbGFuY2UgU2hlZXQgZm9yICR7ZGF0ZX1gKTtcclxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMubWFrZVJlcXVlc3QoYHJlcG9ydHMvYmFsYW5jZXNoZWV0P2RhdGU9JHtkYXRlfWApO1xyXG4gICAgICBjb25zdCBzaXplQnl0ZXMgPSBKU09OLnN0cmluZ2lmeShkYXRhIHx8IHt9KS5sZW5ndGg7XHJcbiAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhkYXRhIHx8IHt9KS5sZW5ndGg7XHJcbiAgICAgIGNvbnNvbGUuaW5mbyhg4pyFIEJhbGFuY2UgU2hlZXQgZGF0YSBmZXRjaGVkIHN1Y2Nlc3NmdWxseSAoa2V5czogJHtrZXlzfSwgYnl0ZXM6ICR7c2l6ZUJ5dGVzfSlgKTtcclxuICAgICAgaWYgKCFkYXRhIHx8IGtleXMgPT09IDApIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ05vIGRhdGEgZm9yIHJlcG9ydHMvYmFsYW5jZXNoZWV0LiBWZXJpZnkgb3JnYW5pemF0aW9uIElELCBkYXRlIHJhbmdlICgyMDI1LTAxLTAxIHRvIDIwMjUtMDgtMTMpLCBvciBkYXRhIGluIFpvaG8gZGFzaGJvYXJkLicpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGZldGNoaW5nIEJhbGFuY2UgU2hlZXQ6JywgZXJyb3IpO1xyXG4gICAgICBjb25zb2xlLndhcm4oJ/Cfjq0gQmFsYW5jZSBTaGVldCBkYXRhIHVuYXZhaWxhYmxlLCB3aWxsIHVzZSBkZWZhdWx0cycpO1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIE5ldyBtZXRob2QgdG8gZ2V0IENoYXJ0IG9mIEFjY291bnRzXHJcbiAgYXN5bmMgZ2V0Q2hhcnRPZkFjY291bnRzKCk6IFByb21pc2U8YW55W10+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLm1ha2VSZXF1ZXN0KCdjaGFydG9mYWNjb3VudHMnKTtcclxuICAgICAgY29uc29sZS5sb2coJ0NoYXJ0IG9mIEFjY291bnRzIGRhdGE6JywgSlNPTi5zdHJpbmdpZnkoZGF0YSwgbnVsbCwgMikpO1xyXG4gICAgICByZXR1cm4gZGF0YS5jaGFydG9mYWNjb3VudHMgfHwgW107XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBDaGFydCBvZiBBY2NvdW50czonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIE5ldyBtZXRob2QgdG8gZ2V0IEpvdXJuYWwgRW50cmllcyBmb3IgYSBkYXRlIHJhbmdlXHJcbiAgYXN5bmMgZ2V0Sm91cm5hbEVudHJpZXMoc3RhcnREYXRlOiBzdHJpbmcsIGVuZERhdGU6IHN0cmluZyk6IFByb21pc2U8YW55W10+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLm1ha2VSZXF1ZXN0KGBqb3VybmFsZW50cmllcz9mcm9tX2RhdGU9JHtzdGFydERhdGV9JnRvX2RhdGU9JHtlbmREYXRlfWApO1xyXG4gICAgICBjb25zb2xlLmxvZygnSm91cm5hbCBFbnRyaWVzIGRhdGE6JywgSlNPTi5zdHJpbmdpZnkoZGF0YSwgbnVsbCwgMikpO1xyXG4gICAgICByZXR1cm4gZGF0YS5qb3VybmFsZW50cmllcyB8fCBbXTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIEpvdXJuYWwgRW50cmllczonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIE5ldyBtZXRob2QgdG8gZ2V0IGNvbXByZWhlbnNpdmUgZmluYW5jaWFsIG1ldHJpY3NcclxuICBhc3luYyBnZXRGaW5hbmNpYWxNZXRyaWNzKHN0YXJ0RGF0ZTogc3RyaW5nLCBlbmREYXRlOiBzdHJpbmcpOiBQcm9taXNlPHtcclxuICAgIHJldmVudWU6IG51bWJlcjtcclxuICAgIGV4cGVuc2VzOiBudW1iZXI7XHJcbiAgICBncm9zc1Byb2ZpdDogbnVtYmVyO1xyXG4gICAgbmV0UHJvZml0OiBudW1iZXI7XHJcbiAgICBvcGVyYXRpbmdJbmNvbWU6IG51bWJlcjtcclxuICAgIGNhc2hGbG93OiBudW1iZXI7XHJcbiAgICBhY2NvdW50c1JlY2VpdmFibGU6IG51bWJlcjtcclxuICAgIGFjY291bnRzUGF5YWJsZTogbnVtYmVyO1xyXG4gICAgY2FzaEJhbGFuY2U6IG51bWJlcjtcclxuICB9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmluZm8oYPCfkrAgRmV0Y2hpbmcgWm9obyBmaW5hbmNpYWwgbWV0cmljcyBmb3IgJHtzdGFydERhdGV9IHRvICR7ZW5kRGF0ZX1gKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IFtwbERhdGEsIGNmRGF0YSwgYnNEYXRhXSA9IGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChbXHJcbiAgICAgICAgdGhpcy5nZXRQcm9maXRBbmRMb3NzKHN0YXJ0RGF0ZSwgZW5kRGF0ZSksXHJcbiAgICAgICAgdGhpcy5nZXRDYXNoRmxvdyhzdGFydERhdGUsIGVuZERhdGUpLFxyXG4gICAgICAgIHRoaXMuZ2V0QmFsYW5jZVNoZWV0KGVuZERhdGUpXHJcbiAgICAgIF0pO1xyXG5cclxuICAgICAgLy8gTG9nIHJhdyByZXNwb25zZSBzdGF0dXMgYW5kIGJvZHkgbGVuZ3RoIGZvciBlYWNoIHJlcG9ydFxyXG4gICAgICBjb25zb2xlLmluZm8oJ/Cfk4ogRmluYW5jaWFsIHJlcG9ydHMgcmF3IHJlc3BvbnNlIGRldGFpbHM6Jywge1xyXG4gICAgICAgIHByb2ZpdExvc3M6IHtcclxuICAgICAgICAgIHN0YXR1czogcGxEYXRhLnN0YXR1cyxcclxuICAgICAgICAgIGJvZHlMZW5ndGg6IHBsRGF0YS5zdGF0dXMgPT09ICdmdWxmaWxsZWQnID8gSlNPTi5zdHJpbmdpZnkocGxEYXRhLnZhbHVlIHx8IHt9KS5sZW5ndGggOiAnTi9BJyxcclxuICAgICAgICAgIGhhc0RhdGE6IHBsRGF0YS5zdGF0dXMgPT09ICdmdWxmaWxsZWQnICYmIHBsRGF0YS52YWx1ZSAmJiBPYmplY3Qua2V5cyhwbERhdGEudmFsdWUgfHwge30pLmxlbmd0aCA+IDBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNhc2hGbG93OiB7XHJcbiAgICAgICAgICBzdGF0dXM6IGNmRGF0YS5zdGF0dXMsXHJcbiAgICAgICAgICBib2R5TGVuZ3RoOiBjZkRhdGEuc3RhdHVzID09PSAnZnVsZmlsbGVkJyA/IEpTT04uc3RyaW5naWZ5KGNmRGF0YS52YWx1ZSB8fCB7fSkubGVuZ3RoIDogJ04vQScsXHJcbiAgICAgICAgICBoYXNEYXRhOiBjZkRhdGEuc3RhdHVzID09PSAnZnVsZmlsbGVkJyAmJiBjZkRhdGEudmFsdWUgJiYgT2JqZWN0LmtleXMoY2ZEYXRhLnZhbHVlIHx8IHt9KS5sZW5ndGggPiAwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBiYWxhbmNlU2hlZXQ6IHtcclxuICAgICAgICAgIHN0YXR1czogYnNEYXRhLnN0YXR1cyxcclxuICAgICAgICAgIGJvZHlMZW5ndGg6IGJzRGF0YS5zdGF0dXMgPT09ICdmdWxmaWxsZWQnID8gSlNPTi5zdHJpbmdpZnkoYnNEYXRhLnZhbHVlIHx8IHt9KS5sZW5ndGggOiAnTi9BJyxcclxuICAgICAgICAgIGhhc0RhdGE6IGJzRGF0YS5zdGF0dXMgPT09ICdmdWxmaWxsZWQnICYmIGJzRGF0YS52YWx1ZSAmJiBPYmplY3Qua2V5cyhic0RhdGEudmFsdWUgfHwge30pLmxlbmd0aCA+IDBcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gQ2hlY2sgZm9yIDQwNCBlcnJvcnMgYW5kIGxvZyBzcGVjaWZpYyB3YXJuaW5nc1xyXG4gICAgICBpZiAocGxEYXRhLnN0YXR1cyA9PT0gJ3JlamVjdGVkJykge1xyXG4gICAgICAgIGNvbnN0IGVycm9yID0gcGxEYXRhLnJlYXNvbiBhcyBhbnk7XHJcbiAgICAgICAgaWYgKGhhc1Jlc3BvbnNlKGVycm9yKSAmJiBlcnJvci5yZXNwb25zZT8uc3RhdHVzID09PSA0MDQpIHtcclxuICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIFByb2ZpdCAmIExvc3MgcmV0dXJuZWQgNDA0IC0gSW52YWxpZCBlbmRwb2ludCAtIGNoZWNrIFpvaG8gQVBJIGRvY3MnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gUHJvZml0ICYgTG9zcyBkYXRhIGZhaWxlZDonLCBwbERhdGEucmVhc29uKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGNmRGF0YS5zdGF0dXMgPT09ICdyZWplY3RlZCcpIHtcclxuICAgICAgICBjb25zdCBlcnJvciA9IGNmRGF0YS5yZWFzb24gYXMgYW55O1xyXG4gICAgICAgIGlmIChoYXNSZXNwb25zZShlcnJvcikgJiYgZXJyb3IucmVzcG9uc2U/LnN0YXR1cyA9PT0gNDA0KSB7XHJcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBDYXNoIEZsb3cgcmV0dXJuZWQgNDA0IC0gSW52YWxpZCBlbmRwb2ludCAtIGNoZWNrIFpvaG8gQVBJIGRvY3MnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gQ2FzaCBGbG93IGRhdGEgZmFpbGVkOicsIGNmRGF0YS5yZWFzb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAoYnNEYXRhLnN0YXR1cyA9PT0gJ3JlamVjdGVkJykge1xyXG4gICAgICAgIGNvbnN0IGVycm9yID0gYnNEYXRhLnJlYXNvbiBhcyBhbnk7XHJcbiAgICAgICAgaWYgKGhhc1Jlc3BvbnNlKGVycm9yKSAmJiBlcnJvci5yZXNwb25zZT8uc3RhdHVzID09PSA0MDQpIHtcclxuICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIEJhbGFuY2UgU2hlZXQgcmV0dXJuZWQgNDA0IC0gSW52YWxpZCBlbmRwb2ludCAtIGNoZWNrIFpvaG8gQVBJIGRvY3MnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gQmFsYW5jZSBTaGVldCBkYXRhIGZhaWxlZDonLCBic0RhdGEucmVhc29uKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEV4dHJhY3QgZmluYW5jaWFsIG1ldHJpY3MgZnJvbSB0aGUgcmVzcG9uc2VzIHdpdGggZmFsbGJhY2tzXHJcbiAgICAgIGNvbnN0IHJldmVudWUgPSBwbERhdGEuc3RhdHVzID09PSAnZnVsZmlsbGVkJyA/IChwbERhdGEudmFsdWU/LnJldmVudWU/LnRvdGFsIHx8IDApIDogMDtcclxuICAgICAgY29uc3QgZXhwZW5zZXMgPSBwbERhdGEuc3RhdHVzID09PSAnZnVsZmlsbGVkJyA/IChwbERhdGEudmFsdWU/LmV4cGVuc2VzPy50b3RhbCB8fCAwKSA6IDA7XHJcbiAgICAgIGNvbnN0IGdyb3NzUHJvZml0ID0gcmV2ZW51ZSAtIGV4cGVuc2VzO1xyXG4gICAgICBcclxuICAgICAgLy8gQ2FsY3VsYXRlIG5ldCBwcm9maXQgKG1heSBuZWVkIGFkanVzdG1lbnQgYmFzZWQgb24gYWN0dWFsIFpvaG8gcmVzcG9uc2Ugc3RydWN0dXJlKVxyXG4gICAgICBjb25zdCBvcGVyYXRpbmdFeHBlbnNlcyA9IHBsRGF0YS5zdGF0dXMgPT09ICdmdWxmaWxsZWQnID8gKHBsRGF0YS52YWx1ZT8ub3BlcmF0aW5nX2V4cGVuc2VzPy50b3RhbCB8fCAwKSA6IDA7XHJcbiAgICAgIGNvbnN0IG5ldFByb2ZpdCA9IGdyb3NzUHJvZml0IC0gb3BlcmF0aW5nRXhwZW5zZXM7XHJcbiAgICAgIGNvbnN0IG9wZXJhdGluZ0luY29tZSA9IGdyb3NzUHJvZml0IC0gb3BlcmF0aW5nRXhwZW5zZXM7XHJcbiAgICAgIFxyXG4gICAgICAvLyBFeHRyYWN0IGNhc2ggZmxvdyBkYXRhXHJcbiAgICAgIGNvbnN0IGNhc2hGbG93ID0gY2ZEYXRhLnN0YXR1cyA9PT0gJ2Z1bGZpbGxlZCcgPyAoY2ZEYXRhLnZhbHVlPy5uZXRfY2FzaF9mbG93IHx8IDApIDogMDtcclxuICAgICAgY29uc3QgYWNjb3VudHNSZWNlaXZhYmxlID0gYnNEYXRhLnN0YXR1cyA9PT0gJ2Z1bGZpbGxlZCcgPyAoYnNEYXRhLnZhbHVlPy5jdXJyZW50X2Fzc2V0cz8uYWNjb3VudHNfcmVjZWl2YWJsZSB8fCAwKSA6IDA7XHJcbiAgICAgIGNvbnN0IGFjY291bnRzUGF5YWJsZSA9IGJzRGF0YS5zdGF0dXMgPT09ICdmdWxmaWxsZWQnID8gKGJzRGF0YS52YWx1ZT8uY3VycmVudF9saWFiaWxpdGllcz8uYWNjb3VudHNfcGF5YWJsZSB8fCAwKSA6IDA7XHJcbiAgICAgIGNvbnN0IGNhc2hCYWxhbmNlID0gYnNEYXRhLnN0YXR1cyA9PT0gJ2Z1bGZpbGxlZCcgPyAoYnNEYXRhLnZhbHVlPy5jdXJyZW50X2Fzc2V0cz8uY2FzaF9hbmRfYmFuayB8fCAwKSA6IDA7XHJcblxyXG4gICAgICAvLyBMb2cgd2hpY2ggZGF0YSBzb3VyY2VzIHN1Y2NlZWRlZC9mYWlsZWRcclxuICAgICAgY29uc29sZS5pbmZvKCfwn5OKIEZpbmFuY2lhbCBtZXRyaWNzIGRhdGEgc291cmNlczonLCB7XHJcbiAgICAgICAgcHJvZml0TG9zczogcGxEYXRhLnN0YXR1cyA9PT0gJ2Z1bGZpbGxlZCcgPyAn4pyFJyA6ICfinYwnLFxyXG4gICAgICAgIGNhc2hGbG93OiBjZkRhdGEuc3RhdHVzID09PSAnZnVsZmlsbGVkJyA/ICfinIUnIDogJ+KdjCcsXHJcbiAgICAgICAgYmFsYW5jZVNoZWV0OiBic0RhdGEuc3RhdHVzID09PSAnZnVsZmlsbGVkJyA/ICfinIUnIDogJ+KdjCdcclxuICAgICAgfSk7XHJcblxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHJldmVudWUsXHJcbiAgICAgICAgZXhwZW5zZXMsXHJcbiAgICAgICAgZ3Jvc3NQcm9maXQsXHJcbiAgICAgICAgbmV0UHJvZml0LFxyXG4gICAgICAgIG9wZXJhdGluZ0luY29tZSxcclxuICAgICAgICBjYXNoRmxvdyxcclxuICAgICAgICBhY2NvdW50c1JlY2VpdmFibGUsXHJcbiAgICAgICAgYWNjb3VudHNQYXlhYmxlLFxyXG4gICAgICAgIGNhc2hCYWxhbmNlXHJcbiAgICAgIH07XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgZmV0Y2hpbmcgZmluYW5jaWFsIG1ldHJpY3M6JywgZXJyb3IpO1xyXG4gICAgICBjb25zb2xlLndhcm4oJ/Cfjq0gUmV0dXJuaW5nIGRlZmF1bHQgZmluYW5jaWFsIG1ldHJpY3MgZHVlIHRvIEFQSSBmYWlsdXJlJyk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBSZXR1cm4gZGVmYXVsdCB2YWx1ZXMgaWYgQVBJIGNhbGxzIGZhaWxcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICByZXZlbnVlOiAwLFxyXG4gICAgICAgIGV4cGVuc2VzOiAwLFxyXG4gICAgICAgIGdyb3NzUHJvZml0OiAwLFxyXG4gICAgICAgIG5ldFByb2ZpdDogMCxcclxuICAgICAgICBvcGVyYXRpbmdJbmNvbWU6IDAsXHJcbiAgICAgICAgY2FzaEZsb3c6IDAsXHJcbiAgICAgICAgYWNjb3VudHNSZWNlaXZhYmxlOiAwLFxyXG4gICAgICAgIGFjY291bnRzUGF5YWJsZTogMCxcclxuICAgICAgICBjYXNoQmFsYW5jZTogMFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gTWV0aG9kIHRvIG1hbnVhbGx5IHJlZnJlc2ggdG9rZW4gKGZvciB0ZXN0aW5nKVxyXG4gIGFzeW5jIGZvcmNlUmVmcmVzaFRva2VuKCk6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgICB0aGlzLmFjY2Vzc1Rva2VuID0gbnVsbDtcclxuICAgIHRoaXMudG9rZW5FeHBpcnkgPSAwO1xyXG4gICAgdGhpcy5sYXN0UmVmcmVzaFRpbWUgPSBEYXRlLm5vdygpOyAvLyBUcmFjayBtYW51YWwgcmVmcmVzaCB0aW1lXHJcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5nZXRBY2Nlc3NUb2tlbigpO1xyXG4gIH1cclxuXHJcbiAgLy8gR2V0IHRva2VuIHN0YXR1cyBmb3IgZGVidWdnaW5nXHJcbiAgZ2V0VG9rZW5TdGF0dXMoKTogeyBoYXNUb2tlbjogYm9vbGVhbjsgZXhwaXJlc0luOiBudW1iZXI7IGlzRXhwaXJlZDogYm9vbGVhbiB9IHtcclxuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBoYXNUb2tlbjogISF0aGlzLmFjY2Vzc1Rva2VuLFxyXG4gICAgICBleHBpcmVzSW46IHRoaXMudG9rZW5FeHBpcnkgLSBub3csXHJcbiAgICAgIGlzRXhwaXJlZDogbm93ID49IHRoaXMudG9rZW5FeHBpcnksXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLy8gTWV0aG9kIHRvIGdldCBhdXRvLXJlZnJlc2ggc3RhdHVzXHJcbiAgZ2V0QXV0b1JlZnJlc2hTdGF0dXMoKTogeyBpc0FjdGl2ZTogYm9vbGVhbjsgbmV4dFJlZnJlc2hJbjogbnVtYmVyIH0ge1xyXG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgIGNvbnN0IHRpbWVTaW5jZUxhc3RSZWZyZXNoID0gbm93IC0gdGhpcy5sYXN0UmVmcmVzaFRpbWU7XHJcbiAgICBjb25zdCBuZXh0UmVmcmVzaEluID0gTWF0aC5tYXgoMCwgdGhpcy5BVVRPX1JFRlJFU0hfSU5URVJWQUwgLSB0aW1lU2luY2VMYXN0UmVmcmVzaCk7XHJcbiAgICBcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGlzQWN0aXZlOiAhIXRoaXMuYXV0b1JlZnJlc2hUaW1lcixcclxuICAgICAgbmV4dFJlZnJlc2hJbixcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvLyBQdWJsaWMgbWV0aG9kIHRvIHN0YXJ0IGF1dG8tcmVmcmVzaFxyXG4gIGVuYWJsZUF1dG9SZWZyZXNoKCk6IHZvaWQge1xyXG4gICAgdGhpcy5fc3RhcnRBdXRvUmVmcmVzaCgpO1xyXG4gIH1cclxuXHJcbiAgLy8gUHVibGljIG1ldGhvZCB0byBzdG9wIGF1dG8tcmVmcmVzaFxyXG4gIGRpc2FibGVBdXRvUmVmcmVzaCgpOiB2b2lkIHtcclxuICAgIHRoaXMuX3N0b3BBdXRvUmVmcmVzaCgpO1xyXG4gIH1cclxuXHJcbiAgLy8gUHVibGljIG1ldGhvZCB0byBnZXQgY29tcHJlaGVuc2l2ZSBzdGF0dXNcclxuICBnZXRTdGF0dXMoKTogeyBcclxuICAgIGhhc1Rva2VuOiBib29sZWFuOyBcclxuICAgIGV4cGlyZXNJbjogbnVtYmVyOyBcclxuICAgIGlzRXhwaXJlZDogYm9vbGVhbjtcclxuICAgIGF1dG9SZWZyZXNoOiB7IGlzQWN0aXZlOiBib29sZWFuOyBuZXh0UmVmcmVzaEluOiBudW1iZXIgfTtcclxuICB9IHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIC4uLnRoaXMuZ2V0VG9rZW5TdGF0dXMoKSxcclxuICAgICAgYXV0b1JlZnJlc2g6IHRoaXMuZ2V0QXV0b1JlZnJlc2hTdGF0dXMoKSxcclxuICAgIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3Qgem9ob1NlcnZpY2UgPSBuZXcgWm9ob1NlcnZpY2UoKTsgXHJcblxyXG4vLyBFeHBvcnQgdGhlIGZ1bmN0aW9ucyB0aGF0IGFyZSBiZWluZyBpbXBvcnRlZCBpbiBwYWdlLnRzeFxyXG5leHBvcnQgY29uc3QgZmV0Y2hQcm9qZWN0cyA9IGFzeW5jICgpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc29sZS5sb2coJ0NsaWVudDogRmV0Y2hpbmcgcHJvamVjdHMgZnJvbSBBUEknKTtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvcHJvamVjdHMnKTtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIFxyXG4gICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdDbGllbnQ6IFN1Y2Nlc3NmdWxseSBmZXRjaGVkJywgcmVzdWx0LmNvdW50LCAncHJvamVjdHMnKTtcclxuICAgICAgcmV0dXJuIHJlc3VsdC5kYXRhO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc29sZS5lcnJvcignQ2xpZW50OiBBUEkgcmV0dXJuZWQgZXJyb3I6JywgcmVzdWx0LmVycm9yKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5lcnJvcik7XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0NsaWVudDogRXJyb3IgZmV0Y2hpbmcgcHJvamVjdHM6JywgZXJyb3IpO1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGZldGNoSW52b2ljZXMgPSBhc3luYyAoKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnNvbGUubG9nKCdDbGllbnQ6IEZldGNoaW5nIGludm9pY2VzIGZyb20gQVBJJyk7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2ludm9pY2VzJyk7XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICBcclxuICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xyXG4gICAgICBjb25zb2xlLmxvZygnQ2xpZW50OiBTdWNjZXNzZnVsbHkgZmV0Y2hlZCcsIHJlc3VsdC5jb3VudCwgJ2ludm9pY2VzJyk7XHJcbiAgICAgIHJldHVybiByZXN1bHQuZGF0YTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0NsaWVudDogQVBJIHJldHVybmVkIGVycm9yOicsIHJlc3VsdC5lcnJvcik7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQuZXJyb3IpO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdDbGllbnQ6IEVycm9yIGZldGNoaW5nIGludm9pY2VzOicsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufTsgIl0sIm5hbWVzIjpbImF4aW9zIiwicExpbWl0IiwiaGFzUmVzcG9uc2UiLCJlcnIiLCJab2hvU2VydmljZSIsImNvbnN0cnVjdG9yIiwiYWNjZXNzVG9rZW4iLCJ0b2tlbkV4cGlyeSIsInJlZnJlc2hQcm9taXNlIiwiVE9LRU5fUkVGUkVTSF9CVUZGRVIiLCJhdXRvUmVmcmVzaFRpbWVyIiwiQVVUT19SRUZSRVNIX0lOVEVSVkFMIiwibGFzdFJlZnJlc2hUaW1lIiwiQUNDT1VOVFNfQkFTRSIsInByb2Nlc3MiLCJlbnYiLCJaT0hPX0FDQ09VTlRTX0JBU0UiLCJBUElfQkFTRSIsIlpPSE9fQVBJX0JBU0UiLCJvcmdhbml6YXRpb25WYWxpZGF0ZWQiLCJyZXF1ZXN0Q291bnQiLCJsYXN0UmVxdWVzdFRpbWUiLCJNQVhfUkVRVUVTVFNfUEVSX01JTlVURSIsIk1JTl9SRVFVRVNUX0lOVEVSVkFMIiwicmV0cnlDb3VudCIsIk1BWF9SRVRSSUVTIiwiQkFTRV9ERUxBWSIsImNhY2hlZEFjY2Vzc1Rva2VuIiwicmF0ZUxpbWl0ZXIiLCJfc3RhcnRBdXRvUmVmcmVzaCIsImNvbnNvbGUiLCJsb2ciLCJjbGVhckludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJEYXRlIiwibm93IiwiZm9yY2VSZWZyZXNoVG9rZW4iLCJlcnJvciIsIl9zdG9wQXV0b1JlZnJlc2giLCJnZXRBY2Nlc3NUb2tlbiIsInRpbWVVbnRpbEV4cGlyeSIsIlpPSE9fRk9SQ0VfUkVGUkVTSCIsIm1pbnV0ZXNMZWZ0IiwiTWF0aCIsInJvdW5kIiwiWk9IT19DTElFTlRfSUQiLCJaT0hPX0NMSUVOVF9TRUNSRVQiLCJaT0hPX1JFRlJFU0hfVE9LRU4iLCJtaXNzaW5nVmFycyIsInB1c2giLCJFcnJvciIsImpvaW4iLCJfcGVyZm9ybVRva2VuUmVmcmVzaFdpdGhCYWNrb2ZmIiwidG9rZW4iLCJpc0F4aW9zRXJyb3IiLCJzdGF0dXMiLCJyZXNwb25zZSIsInVuZGVmaW5lZCIsInN0YXR1c1RleHQiLCJkYXRhIiwibWVzc2FnZSIsImhlYWRlcnMiLCJyYXRlTGltaXRIZWFkZXJzIiwid2FybiIsIm1heEF0dGVtcHRzIiwiYXR0ZW1wdCIsImZvcm1EYXRhIiwiVVJMU2VhcmNoUGFyYW1zIiwiYXBwZW5kIiwicG9zdCIsInRpbWVvdXQiLCJhY2Nlc3NfdG9rZW4iLCJleHBpcmVzX2luIiwic3Vic3RyaW5nIiwidG9JU09TdHJpbmciLCJzY29wZUluZm8iLCJjaGVja1Rva2VuU2NvcGVzIiwic2NvcGUiLCJpbmNsdWRlcyIsInNjb3BlRXJyIiwiaXNBeGlvcyIsImRlc2NyaXB0aW9uIiwiZXJyb3JfZGVzY3JpcHRpb24iLCJ0b0xvd2VyQ2FzZSIsImRlbGF5TXMiLCJwb3ciLCJmbG9vciIsInJhbmRvbSIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsInJlZnJlc2hBY2Nlc3NUb2tlbiIsIm1ha2VSZXF1ZXN0IiwiZW5kcG9pbnQiLCJhcHBseVJhdGVMaW1pdCIsInN0YXJ0c1dpdGgiLCJ2YWxpZGF0ZU9yZ2FuaXphdGlvbiIsImluZm8iLCJjb250cm9sbGVyIiwiQWJvcnRDb250cm9sbGVyIiwidGltZW91dElkIiwiYWJvcnQiLCJnZXQiLCJwYXJhbXMiLCJvcmdhbml6YXRpb25faWQiLCJaT0hPX09SR0FOSVpBVElPTl9JRCIsInNpZ25hbCIsImNsZWFyVGltZW91dCIsImF4aW9zRXJyb3IiLCJjb2RlIiwiaGFuZGxlUmF0ZUxpbWl0IiwibmV3VG9rZW4iLCJyZXRyeVJlc3BvbnNlIiwicmVmcmVzaEVycm9yIiwidXJsIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwicmVzIiwibXNnIiwiU3RyaW5nIiwiSlNPTiIsInN0cmluZ2lmeSIsIm9yZ0lkIiwib3JncyIsIm9yZ2FuaXphdGlvbnMiLCJmb3VuZCIsInNvbWUiLCJvIiwidGltZVNpbmNlTGFzdFJlcXVlc3QiLCJ3YWl0VGltZSIsInRpbWVTaW5jZUZpcnN0UmVxdWVzdCIsImRlbGF5Iiwiaml0dGVyIiwidG90YWxEZWxheSIsImdldFByb2plY3RzIiwiYWxsUHJvamVjdHMiLCJwYWdlIiwicGVyUGFnZSIsInByb2plY3RzIiwibWFwIiwicHJvamVjdCIsImxlbmd0aCIsInByb2plY3RfaWQiLCJwcm9qZWN0X25hbWUiLCJuYW1lIiwic3RhcnRfZGF0ZSIsImVuZF9kYXRlIiwiYnVkZ2V0X2Ftb3VudCIsInJhdGVfcGVyX2hvdXIiLCJjdXN0b21lcl9pZCIsImN1c3RvbWVyX25hbWUiLCJzaWduZWRfZmVlIiwiY29uY2F0IiwiZ2V0UHJvamVjdHNXaXRoUmV2ZW51ZUJ1ZGdldCIsInByb2plY3RzV2l0aFJldmVudWVCdWRnZXQiLCJmaWx0ZXIiLCJoYXNSZXZlbnVlQnVkZ2V0IiwiZGVidWdQcm9qZWN0RmllbGRzIiwic2FtcGxlUHJvamVjdCIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwia2V5IiwicmV2ZW51ZV9idWRnZXQiLCJnZXRQcm9qZWN0c1dpdGhFc3RpbWF0ZXMiLCJwcm9qZWN0c1dpdGhFc3RpbWF0ZXMiLCJhbGwiLCJzbGljZSIsImVzdGltYXRlcyIsImdldFByb2plY3RFc3RpbWF0ZXMiLCJ0b3RhbEVzdGltYXRlQW1vdW50IiwicmVkdWNlIiwic3VtIiwiZXN0aW1hdGUiLCJ0b3RhbCIsImdldFByb2plY3RzV2l0aEludm9pY2VUb3RhbHMiLCJpbnZvaWNlcyIsImdldEludm9pY2VzIiwicHJvamVjdHNXaXRoSW52b2ljZVRvdGFscyIsInByb2plY3RJbnZvaWNlcyIsImludm9pY2UiLCJ0b3RhbEludm9pY2VBbW91bnQiLCJhbW91bnQiLCJpbnZvaWNlX2lkIiwiaW52b2ljZV9udW1iZXIiLCJkYXRlIiwiYmlsbGVkX2Ftb3VudCIsInVuYmlsbGVkX2Ftb3VudCIsInN0YXR1c0NvdW50cyIsImFjYyIsImludiIsInNhbXBsZUludm9pY2UiLCJpZCIsIm51bWJlciIsImdldFByb2plY3RJbnZvaWNlcyIsInByb2plY3RJZCIsImdldFByb2plY3REZXRhaWxzIiwiZ2V0UHJvamVjdENvbnRyYWN0cyIsImNvbnRyYWN0cyIsImdldFByb2ZpdEFuZExvc3MiLCJzdGFydERhdGUiLCJlbmREYXRlIiwic2l6ZUJ5dGVzIiwiZ2V0Q2FzaEZsb3ciLCJnZXRCYWxhbmNlU2hlZXQiLCJnZXRDaGFydE9mQWNjb3VudHMiLCJjaGFydG9mYWNjb3VudHMiLCJnZXRKb3VybmFsRW50cmllcyIsImpvdXJuYWxlbnRyaWVzIiwiZ2V0RmluYW5jaWFsTWV0cmljcyIsInBsRGF0YSIsImNmRGF0YSIsImJzRGF0YSIsImFsbFNldHRsZWQiLCJwcm9maXRMb3NzIiwiYm9keUxlbmd0aCIsInZhbHVlIiwiaGFzRGF0YSIsImNhc2hGbG93IiwiYmFsYW5jZVNoZWV0IiwicmVhc29uIiwicmV2ZW51ZSIsImV4cGVuc2VzIiwiZ3Jvc3NQcm9maXQiLCJvcGVyYXRpbmdFeHBlbnNlcyIsIm9wZXJhdGluZ19leHBlbnNlcyIsIm5ldFByb2ZpdCIsIm9wZXJhdGluZ0luY29tZSIsIm5ldF9jYXNoX2Zsb3ciLCJhY2NvdW50c1JlY2VpdmFibGUiLCJjdXJyZW50X2Fzc2V0cyIsImFjY291bnRzX3JlY2VpdmFibGUiLCJhY2NvdW50c1BheWFibGUiLCJjdXJyZW50X2xpYWJpbGl0aWVzIiwiYWNjb3VudHNfcGF5YWJsZSIsImNhc2hCYWxhbmNlIiwiY2FzaF9hbmRfYmFuayIsImdldFRva2VuU3RhdHVzIiwiaGFzVG9rZW4iLCJleHBpcmVzSW4iLCJpc0V4cGlyZWQiLCJnZXRBdXRvUmVmcmVzaFN0YXR1cyIsInRpbWVTaW5jZUxhc3RSZWZyZXNoIiwibmV4dFJlZnJlc2hJbiIsIm1heCIsImlzQWN0aXZlIiwiZW5hYmxlQXV0b1JlZnJlc2giLCJkaXNhYmxlQXV0b1JlZnJlc2giLCJnZXRTdGF0dXMiLCJhdXRvUmVmcmVzaCIsInpvaG9TZXJ2aWNlIiwiZmV0Y2hQcm9qZWN0cyIsImZldGNoIiwicmVzdWx0IiwianNvbiIsInN1Y2Nlc3MiLCJjb3VudCIsImZldGNoSW52b2ljZXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/zoho.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/mime-db","vendor-chunks/axios","vendor-chunks/follow-redirects","vendor-chunks/debug","vendor-chunks/form-data","vendor-chunks/get-intrinsic","vendor-chunks/asynckit","vendor-chunks/combined-stream","vendor-chunks/mime-types","vendor-chunks/proxy-from-env","vendor-chunks/ms","vendor-chunks/supports-color","vendor-chunks/has-symbols","vendor-chunks/delayed-stream","vendor-chunks/function-bind","vendor-chunks/p-limit","vendor-chunks/es-set-tostringtag","vendor-chunks/get-proto","vendor-chunks/call-bind-apply-helpers","vendor-chunks/dunder-proto","vendor-chunks/yocto-queue","vendor-chunks/math-intrinsics","vendor-chunks/es-errors","vendor-chunks/has-flag","vendor-chunks/gopd","vendor-chunks/es-define-property","vendor-chunks/hasown","vendor-chunks/has-tostringtag","vendor-chunks/es-object-atoms"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fhomepage-dashboard%2Froute&page=%2Fapi%2Fhomepage-dashboard%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fhomepage-dashboard%2Froute.ts&appDir=C%3A%5CUsers%5CJohn%5CBillingPlatform%5CBilling%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CJohn%5CBillingPlatform%5CBilling&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();