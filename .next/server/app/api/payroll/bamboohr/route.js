"use strict";(()=>{var e={};e.id=5917,e.ids=[5917],e.modules={53524:e=>{e.exports=require("@prisma/client")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},17702:e=>{e.exports=require("events")},76162:e=>{e.exports=require("stream")},74026:e=>{e.exports=require("string_decoder")},95346:e=>{e.exports=require("timers")},71837:(e,o,r)=>{r.r(o),r.d(o,{originalPathname:()=>b,patchFetch:()=>B,requestAsyncStorage:()=>m,routeModule:()=>u,serverHooks:()=>d,staticGenerationAsyncStorage:()=>l});var s={};r.r(s),r.d(s,{POST:()=>c});var t=r(49303),a=r(88716),n=r(60670),i=r(87070),p=r(80928);async function c(e){try{let{action:o,data:s}=await e.json();switch(o){case"configure":return await p.HE.configureBambooHR(s),i.NextResponse.json({success:!0,message:`BambooHR configured for subdomain: ${s.subdomain}`});case"import-data":{try{!p.HE.bamboohrConfig&&process.env.BAMBOOHR_SUBDOMAIN&&process.env.BAMBOOHR_API_KEY&&await p.HE.configureBambooHR({subdomain:process.env.BAMBOOHR_SUBDOMAIN,apiKey:process.env.BAMBOOHR_API_KEY,webhookSecret:process.env.BAMBOOHR_WEBHOOK_SECRET||void 0})}catch{}let e=await p.HE.importSalariesFromBambooHR();return i.NextResponse.json({success:!0,result:e})}case"test-connection":{let{configureBambooHR:e}=await Promise.resolve().then(r.bind(r,80645)),o=s||{subdomain:process.env.BAMBOOHR_SUBDOMAIN||"",apiKey:process.env.BAMBOOHR_API_KEY||"",webhookSecret:process.env.BAMBOOHR_WEBHOOK_SECRET||void 0};e(o);let{getBambooHRService:t}=await Promise.resolve().then(r.bind(r,80645)),a=t(),n=await a.getCompanyInfo();return i.NextResponse.json({success:!0,message:"BambooHR connection successful",companyInfo:n})}case"get-employees":{let{configureBambooHR:e,getBambooHRService:o}=await Promise.resolve().then(r.bind(r,80645));e(s);let t=o(),a=await t.getAllEmployees();return i.NextResponse.json({success:!0,employees:a})}case"get-compensation":{let{configureBambooHR:e,getBambooHRService:o}=await Promise.resolve().then(r.bind(r,80645)),t=s.config,a=s.employeeId;e(t);let n=o(),p=await n.getEmployeeCompensation(a);return i.NextResponse.json({success:!0,compensation:p})}default:return i.NextResponse.json({error:"Invalid action"},{status:400})}}catch(e){return console.error("Error in BambooHR integration:",e),i.NextResponse.json({error:e.message},{status:500})}}let u=new t.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/payroll/bamboohr/route",pathname:"/api/payroll/bamboohr",filename:"route",bundlePath:"app/api/payroll/bamboohr/route"},resolvedPagePath:"C:\\Users\\Jonathan\\Desktop\\Billing\\app\\api\\payroll\\bamboohr\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:m,staticGenerationAsyncStorage:l,serverHooks:d}=u,b="/api/payroll/bamboohr/route";function B(){return(0,n.patchFetch)({serverHooks:d,staticGenerationAsyncStorage:l})}}};var o=require("../../../../webpack-runtime.js");o.C(e);var r=e=>o(o.s=e),s=o.X(0,[9276,5972,8159,928],()=>r(71837));module.exports=s})();