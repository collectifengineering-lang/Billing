"use strict";(()=>{var e={};e.id=1243,e.ids=[1243],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},27790:e=>{e.exports=require("assert")},84770:e=>{e.exports=require("crypto")},17702:e=>{e.exports=require("events")},92048:e=>{e.exports=require("fs")},32615:e=>{e.exports=require("http")},35240:e=>{e.exports=require("https")},19801:e=>{e.exports=require("os")},55315:e=>{e.exports=require("path")},76162:e=>{e.exports=require("stream")},74175:e=>{e.exports=require("tty")},17360:e=>{e.exports=require("url")},21764:e=>{e.exports=require("util")},71568:e=>{e.exports=require("zlib")},26848:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>g,patchFetch:()=>v,requestAsyncStorage:()=>d,routeModule:()=>l,serverHooks:()=>x,staticGenerationAsyncStorage:()=>h});var o={};t.r(o),t.d(o,{GET:()=>p,dynamic:()=>c});var i=t(49303),s=t(88716),n=t(60670),a=t(87070),u=t(87707);let c="force-dynamic";async function p(e){try{console.log("API: Fetching invoices from Zoho");let e=[],r=!1,t=0;try{t++,e=await u.VC.getInvoices(),console.log("API: Fetched",e.length,"invoices")}catch(t){if(console.error("API: Error fetching invoices:",t),t instanceof Error){let e=t.message.toLowerCase();(e.includes("rate limit")||e.includes("authentication")||e.includes("token"))&&(r=!0,console.warn("⚠️ Zoho authentication failed due to rate limits or token issues. Showing partial data."))}e=[]}return console.log(`📊 Zoho API calls made in this request: ${t}`),a.NextResponse.json({success:!0,data:e,count:e.length,warnings:r?["Zoho authentication failed due to rate limits. Showing partial data."]:[],zohoApiCallCount:t})}catch(e){return console.error("API: Error fetching invoices:",e),a.NextResponse.json({success:!1,error:"Failed to fetch invoices",details:e instanceof Error?e.message:"Unknown error"},{status:500})}}let l=new i.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/invoices/route",pathname:"/api/invoices",filename:"route",bundlePath:"app/api/invoices/route"},resolvedPagePath:"C:\\Users\\Jonathan\\Desktop\\Billing\\app\\api\\invoices\\route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:d,staticGenerationAsyncStorage:h,serverHooks:x}=l,g="/api/invoices/route";function v(){return(0,n.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:h})}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[9276,5972,9712,7707],()=>t(26848));module.exports=o})();