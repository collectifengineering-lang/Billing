"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[417],{35974:function(e,r,t){t.d(r,{C:function(){return i}});var n=t(57437);t(2265);var a=t(90535),o=t(94508);let l=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:r,variant:t,...a}=e;return(0,n.jsx)("div",{className:(0,o.cn)(l({variant:t}),r),...a})}},66070:function(e,r,t){t.d(r,{Ol:function(){return i},SZ:function(){return s},Zb:function(){return l},aY:function(){return c},ll:function(){return u}});var n=t(57437),a=t(2265),o=t(94508);let l=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});l.displayName="Card";let i=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",t),...a})});i.displayName="CardHeader";let u=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("h3",{ref:r,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});u.displayName="CardTitle";let s=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("p",{ref:r,className:(0,o.cn)("text-sm text-muted-foreground",t),...a})});s.displayName="CardDescription";let c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,o.cn)("p-6 pt-0",t),...a})});c.displayName="CardContent",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,o.cn)("flex items-center p-6 pt-0",t),...a})}).displayName="CardFooter"},32759:function(e,r,t){t.d(r,{E:function(){return i}});var n=t(57437),a=t(2265),o=t(60610),l=t(94508);let i=a.forwardRef((e,r)=>{let{className:t,value:a,...i}=e;return(0,n.jsx)(o.fC,{ref:r,className:(0,l.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...i,children:(0,n.jsx)(o.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})});i.displayName=o.fC.displayName},12339:function(e,r,t){t.d(r,{SP:function(){return s},dr:function(){return u},mQ:function(){return i},nU:function(){return c}});var n=t(57437),a=t(2265),o=t(43105),l=t(94508);let i=o.fC,u=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)(o.aV,{ref:r,className:(0,l.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...a})});u.displayName=o.aV.displayName;let s=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)(o.xz,{ref:r,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...a})});s.displayName=o.xz.displayName;let c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)(o.VY,{ref:r,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...a})});c.displayName=o.VY.displayName},94508:function(e,r,t){t.d(r,{K0:function(){return h},UF:function(){return m},_2:function(){return v},ab:function(){return p},az:function(){return x},bh:function(){return y},cn:function(){return c},ji:function(){return f},xG:function(){return g}});var n=t(31559),a=t(13657),o=t(61069),l=t(55463),i=t(14613),u=t(61994),s=t(53335);function c(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,s.m6)((0,u.W)(r))}function d(e,r){let t=[],i=(0,n.Z)(e),u=(0,a.Z)(r);for(;i<=u;)t.push((0,o.Z)(i,"yyyy-MM")),i=(0,l.Z)(i,1);return t}function f(){let e=new Date(2022,0,1),r=new Date;return d(e,(0,l.Z)(r,24))}function m(){let e=new Date;return d((0,i.Z)(e,12),(0,l.Z)(e,12))}function p(e,r,t,n){let a=e||[],l=t||{};if(0===a.length)return[];let i=f(),u=new Map;return(r||[]).forEach(e=>{let r=e.project_id;u.has(r)||u.set(r,[]),u.get(r).push(e)}),a.map(e=>{let r=u.get(e.project_id)||[],t=new Map;r.forEach(e=>{let r=(0,o.Z)(new Date(e.date),"yyyy-MM"),n=t.get(r)||{billed:0,unbilled:0};n.billed+=e.billed_amount,n.unbilled+=e.unbilled_amount,t.set(r,n)});let a=i.map(r=>{var n,a,o;let i=t.get(r)||{billed:0,unbilled:0},u=(null===(o=l[e.project_id])||void 0===o?void 0:null===(a=o.months)||void 0===a?void 0:null===(n=a[r])||void 0===n?void 0:n.value)||0,s=i.billed+i.unbilled;return{month:r,billed:i.billed,unbilled:i.unbilled,projected:u,actual:s}}),s=a.reduce((e,r)=>e+r.billed,0),c=a.reduce((e,r)=>e+r.unbilled,0),d=a.reduce((e,r)=>e+r.projected,0),f=!!n&&n.has(e.project_id);return{projectId:e.project_id,projectName:e.project_name,customerName:e.customer_name,signedFee:void 0,monthlyData:a,totalBilled:s,totalUnbilled:c,totalProjected:d,status:f?"closed":"active",isClosed:f}})}function g(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function y(e){let[r,t]=e.split("-"),n=new Date(parseInt(r),parseInt(t)-1);return(0,o.Z)(n,"MMM yyyy")}function b(){try{let e="__localStorage_test__";return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}function v(e){if(!b())return console.warn("localStorage is not available"),null;try{let r=localStorage.getItem(e);return r?JSON.parse(r):null}catch(r){return console.error("Error reading from localStorage key '".concat(e,"':"),r),null}}function x(e,r){if(!b())return console.warn("localStorage is not available"),!1;try{return localStorage.setItem(e,JSON.stringify(r)),!0}catch(r){return console.error("Error writing to localStorage key '".concat(e,"':"),r),!1}}function h(e){let r=f(),t={};return(e||[]).forEach(e=>{t[e.project_id]={months:{},asrFee:0},r.forEach(r=>{let n=r>(0,o.Z)(new Date,"yyyy-MM");t[e.project_id].months[r]={value:0,isEditable:n,isProjected:n}})}),t}}}]);